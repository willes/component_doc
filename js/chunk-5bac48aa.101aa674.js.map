{"version":3,"sources":["webpack:///./node_modules/@handday/components/lib/upload-video/index.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/core/IconFont.js","webpack:///./src/views/upload/video.vue?6c62","webpack:///src/views/upload/video.vue","webpack:///./src/views/upload/video.vue?d0fd","webpack:///./src/views/upload/video.vue"],"names":["e","t","module","exports","this","r","i","s","o","a","n","default","l","Object","defineProperty","value","enumerable","configurable","writable","u","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","c","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","d","Array","p","isArray","Symbol","iterator","from","prototype","toString","call","slice","constructor","name","test","TypeError","f","options","render","staticRenderFns","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","beforeCreate","concat","m","components","IconFont","inject","isExpire","props","type","String","busines","data","Authorization","localStorage","getItem","replace","uploadStatus","progress","initDesc","desc","title","baseUrl","uploadUrl","created","$attrs","computed","info","acceptType","isExpireParam","methods","handleChange","file","status","percent","response","Math","floor","lastIndexOf","$emit","substring","corpId","mediaId","$post","then","url","businessId","beforeUpload","size","indexOf","$message","error","Promise","reject","handleRestUpload","document","querySelector","click","handleDelete","v","$createElement","_self","_c","staticClass","directives","rawName","expression","attrs","accept","action","headers","on","change","staticStyle","_v","_s","style","width","_e","src","alt","class","_t","_withStripped","h","Upload","undefined","provide","form","group","rules","required","message","trigger","video","videoGroupList","businesParams","mounted","loadVideoGroup","$get","groupType","groupId","groupName","groups","fileInfo","$refs","ruleForm","clearValidate","validate","save","videoName","code","coverImgUrl","coverMediaId","preViewUrl","catch","g","ref","model","labelAlign","layout","label","prop","placeholder","callback","$set","_l","key","suffix","maxLength","pictureUrl","b","install","component","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","FunctionPrototype","Function","functionToString","nameRE","regExpExec","exec","NAME","get","Icon","createFromIconfontCN","scriptUrl","_vm","_h","submit","UploadVideo","console","log","uploadVideo","result"],"mappings":"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","file":"js/chunk-5bac48aa.101aa674.js","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"core-js/modules/es.function.name.js\"),require(\"core-js/modules/es.array.concat.js\"),require(\"core-js/modules/es.regexp.exec.js\"),require(\"core-js/modules/es.string.replace.js\"),require(\"core-js/modules/es.array.filter.js\"),require(\"core-js/modules/es.object.to-string.js\"),require(\"@/core/IconFont\")):\"function\"==typeof define&&define.amd?define([\"core-js/modules/es.function.name.js\",\"core-js/modules/es.array.concat.js\",\"core-js/modules/es.regexp.exec.js\",\"core-js/modules/es.string.replace.js\",\"core-js/modules/es.array.filter.js\",\"core-js/modules/es.object.to-string.js\",\"@/core/IconFont\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self)[\"upload-video\"]=t(null,null,null,null,null,null,e.IconFont)}(this,(function(e,t,r,i,s,o,a){\"use strict\";function n(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function f(e,t,r,i,s,o,a,n,l,u){\"boolean\"!=typeof a&&(l=n,n=a,a=!1);const c=\"function\"==typeof r?r.options:r;let d;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,s&&(c.functional=!0)),i&&(c._scopeId=i),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=d):t&&(d=a?function(e){t.call(this,u(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,n(e))}),d)if(c.functional){const e=c.render;c.render=function(t,r){return d.call(r),e(t,r)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,d):[d]}return r}const m={name:\"SingleUpload\",components:{IconFont:n(a).default},inject:{isExpire:{default:1}},props:{type:{type:String,default:\"picture\"},busines:{type:Object,default:function(){}}},data:function(){return this.Authorization=\"Bearer \"+(localStorage.getItem(\"Access-Token\")||\"\").replace(/\\\"/g,\"\"),{uploadStatus:\"init\",progress:0,initDesc:[{type:\"picture\",desc:\"支持PNG、JPG、JPEG、GIF格式图片，最大不超过3M。若不上传，将默认使用视频第一帧作为封面\",title:\"上传图片\"},{type:\"video\",desc:\"支持mp4格式视频，最大不超过20M\",title:\"上传视频\"}],baseUrl:\"/api/v1/fileservice/files/advanceduploadbusiness\",uploadUrl:\"\"}},created:function(){this.$attrs.value&&(this.uploadUrl=this.$attrs.value)},computed:{info:function(){var e=this,t=this.initDesc.filter((function(t){return t.type===e.type}));return t.length?t[0]:{}},acceptType:function(){return\"picture\"===this.type?\".png, .jpg, .jpeg, .gif\":\".mp4\"},isExpireParam:function(){return void 0!==this.$attrs.isExpire?this.$attrs.isExpire:this.isExpire}},methods:{handleChange:function(e){var t=this,r=e.file,i=r.status,s=r.percent,o=r.response,a=r.name;this.uploadStatus=i,this.progress=Math.floor(s);var n=a.lastIndexOf(\".\");if(this.$emit(\"fileInfo\",{status:i,name:a.substring(0,n)},e.file),\"done\"===i){var l=this.busines.corpId;o.data||(this.uploadStatus=\"error\");var u={mediaId:o.data.mediaId,corpId:l};this.$post(\"/api/v1/fileservice/previwe/file_not_check_status\",u).then((function(e){var r=e.data;r&&r.url?(t.uploadUrl=r.url,t.$emit(\"change\",t.isExpireParam?r.mediaId:r.url,r)):t.uploadStatus=\"error\",t.$emit(\"input\",t.isExpireParam?r.mediaId:r.url),t.$emit(\"busines\",t.busines.businessId,t.busines)}))}},beforeUpload:function(e){var t=e.size/1024/1024<3,r=\"3M\",i=[\"image/png\",\"image/jpg\",\"image/jpeg\",\"image/gif\"],s=\"请选择png, jpg, jpeg, gif格式的图片\";if(\"video\"===this.type&&(t=e.size/1024/1024<20,r=\"20M\",i=[\"video/mp4\"],s=\"请选择mp4格式的图片\"),-1==i.indexOf(e.type))return this.$message.error(s),Promise.reject();if(!t){var o=(\"picture\"===this.type?\"图片\":\"视频\")+\"不能超过\"+r;return this.$message.error(o),Promise.reject()}},handleRestUpload:function(){var e=\"picture\"===this.type?\".upload__picture\":\".upload__video input\";document.querySelector(e).click()},handleDelete:function(){this.uploadUrl=\"\",this.uploadStatus=\"init\",this.$emit(\"input\",\"\")}}};var v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"upload__wrapper__box\"},[r(\"a-upload\",{directives:[{name:\"show\",rawName:\"v-show\",value:!e.uploadUrl,expression:\"!uploadUrl\"}],staticClass:\"avatar-uploader\",attrs:{\"list-type\":\"picture-card\",accept:e.acceptType,\"show-upload-list\":!1,action:e.baseUrl,headers:{Authorization:e.Authorization},data:e.busines,\"before-upload\":e.beforeUpload},on:{change:e.handleChange}},[\"init\"===e.uploadStatus?r(\"div\",{staticClass:\"init\"},[\"picture\"===e.type?r(\"a-icon\",{staticStyle:{\"font-size\":\"20px\"},attrs:{type:\"plus\"}}):r(\"icon-font\",{staticStyle:{\"font-size\":\"20px\"},attrs:{type:\"iconshipin\"}}),e._v(\" \"),r(\"p\",{staticClass:\"title\"},[e._v(e._s(e.info.title))])],1):\"uploading\"===e.uploadStatus?r(\"div\",{staticClass:\"pending\"},[r(\"div\",{staticClass:\"text\"},[e._v(\"上传中\")]),e._v(\" \"),r(\"div\",{staticClass:\"progress-bar\"},[r(\"div\",{staticClass:\"bar\",style:{width:e.progress+\"%\"}})])]):\"error\"===e.uploadStatus?r(\"div\",{staticClass:\"fail\"},[r(\"div\",{staticClass:\"text\"},[e._v(\"上传失败\")]),e._v(\" \"),r(\"a-icon\",{staticClass:\"relaod\",attrs:{type:\"reload\"},on:{click:e.handleRestUpload}})],1):e._e()]),e._v(\" \"),e.uploadUrl?r(\"div\",{staticClass:\"done-box\"},[r(\"div\",{staticClass:\"delete\"},[r(\"a-icon\",{staticClass:\"done__icon\",attrs:{type:\"delete\"},on:{click:e.handleDelete}})],1),e._v(\" \"),\"picture\"===e.type?r(\"img\",{staticClass:\"upload-image\",attrs:{src:e.uploadUrl,alt:\"\"}}):e._e(),e._v(\" \"),\"video\"===e.type?r(\"div\",{staticClass:\"upload-video\"},[r(\"a-icon\",{staticClass:\"check__icon\",attrs:{type:\"check-circle\"}}),e._v(\" \"),r(\"span\",{staticClass:\"success-info\"},[e._v(\"上传成功\")])],1):e._e()]):e._e(),e._v(\" \"),r(\"div\",{class:[\"describe\",e.uploadUrl?\"mt12\":\"tminit\"]},[e._t(\"describe\",[e._v(\"\\n      \"+e._s(e.info.desc)+\"\\n    \")])],2)],1)};v._withStripped=!0;const h={name:\"UploadVideo\",components:{Upload:f({render:v,staticRenderFns:[]},undefined,m,undefined,false,undefined,!1,void 0,void 0,void 0)},inject:{isExpire:{default:1}},provide:function(){return{isExpire:this.isExpire}},data:function(){return{form:{group:\"\",name:\"\"},rules:{group:[{required:!0,message:\"请选择视频分组\",trigger:\"change\"}],name:[{required:!0,message:\"请输入视频名称\",trigger:\"blur\"}],video:[{required:!0,message:\"请上传视频\",trigger:\"blur\"}]},videoGroupList:[],businesParams:{}}},mounted:function(){this.isExpireParam=void 0!==this.$attrs.isExpire?this.$attrs.isExpire:this.isExpire,this.loadVideoGroup()},methods:{loadVideoGroup:function(){var e=this;this.$get(\"/api/v1/fileservice/material/get_upload_business_id\").then((function(t){var r=t.data;e.businesParams=r,e.businesParams.isExpire=e.isExpireParam})),this.$get(\"/api/v1/fileservice/group/get_group_statistics\",{groupType:2}).then((function(t){var r=t.data;e.videoGroupList=[{groupId:0,groupName:\"未分组\"}].concat(p(r.groups)),e.form.group=0}))},fileInfo:function(e){var t=e.name,r=e.status;\"done\"===r&&(this.$refs.ruleForm.clearValidate(\"video\"),this.$refs.ruleForm.clearValidate(\"name\"),this.$emit(\"fileInfo\",r)),this.form.name=t},validate:function(e){var t=this;this.$refs.ruleForm.validate((function(r){if(r){var i=t.businesParams.businessId;\"function\"==typeof e&&e&&e(!0,c(c({},t.form),{},{businessId:i}))}else e&&e(!1)}))},save:function(e){var t=this;this.validate((function(r,i){if(r){var s={businessId:i.businessId,groupId:i.group,videoName:i.name};t.$post(\"/api/v1/fileservice/material/submit_video_material\",s).then((function(r){var s=r.code,o=r.message;s===process.env.VUE_APP_HTTP_SUCCESS_CODE?e&&e(!0,[{coverImgUrl:r.data.coverImgUrl,coverMediaId:r.data.coverMediaId,preViewUrl:i.video,mediaId:r.data.mediaId}]):(t.$message.error(o),e&&e(!1))})).catch((function(){e&&e(!1)}))}else e&&e(!1)}))}}};var g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"upload__video__box\"},[r(\"a-form-model\",{ref:\"ruleForm\",attrs:{model:e.form,rules:e.rules,labelAlign:\"right\",layout:\"inline\"}},[r(\"a-form-model-item\",{attrs:{label:\"视频分组\",prop:\"group\"}},[r(\"a-select\",{staticClass:\"group\",attrs:{placeholder:\"请选择\"},model:{value:e.form.group,callback:function(t){e.$set(e.form,\"group\",t)},expression:\"form.group\"}},e._l(e.videoGroupList,(function(t){return r(\"a-select-option\",{key:t.groupId,attrs:{value:t.groupId}},[e._v(\"\\n          \"+e._s(t.groupName)+\"\\n        \")])})),1)],1),e._v(\" \"),r(\"a-form-model-item\",{attrs:{label:\"视频名称\",prop:\"name\"}},[r(\"a-input\",{staticClass:\"group video-input\",attrs:{suffix:e.form.name.length+\"/50\",maxLength:50},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),e._v(\" \"),r(\"a-form-model-item\",{staticClass:\"local\",attrs:{label:\"本地视频\",prop:\"video\"}},[r(\"div\",{staticClass:\"upload__video\"},[r(\"Upload\",{attrs:{type:\"video\",busines:e.businesParams},on:{fileInfo:e.fileInfo},model:{value:e.form.video,callback:function(t){e.$set(e.form,\"video\",t)},expression:\"form.video\"}})],1)]),e._v(\" \"),r(\"a-form-model-item\",{staticClass:\"cover\",attrs:{label:\"视频封面\"}},[r(\"div\",{staticClass:\"upload__picture\"},[r(\"Upload\",{attrs:{busines:e.businesParams},model:{value:e.form.pictureUrl,callback:function(t){e.$set(e.form,\"pictureUrl\",t)},expression:\"form.pictureUrl\"}})],1)])],1)],1)};g._withStripped=!0;const b=f({render:g,staticRenderFns:[]},undefined,h,undefined,false,undefined,!1,void 0,void 0,void 0);return b.install=function(e){e.component(b.name,b)},b}));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","/*\r\n * @Description:\r\n * @Author: weiwei\r\n * @Date: 2021-04-26 11:41:58\r\n * @LastEditTime: 2021-05-18 15:26:48\r\n * @LastEditors: tangyuanfei\r\n */\r\nimport { Icon } from 'ant-design-vue'\r\nconst IconFont = Icon.createFromIconfontCN({\r\n  scriptUrl: '//at.alicdn.com/t/font_2273066_zh0fgc2hod.js' // 在 iconfont.cn 上生成\r\n})\r\nexport default IconFont\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('upload-video',{ref:\"uploadVideo\",on:{\"fileInfo\":_vm.fileInfo}}),_c('a-button',{on:{\"click\":_vm.submit}},[_vm._v(\"点击获取数据\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <upload-video ref=\"uploadVideo\" @fileInfo=\"fileInfo\" />\r\n    <a-button @click=\"submit\">点击获取数据</a-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { UploadVideo } from '@handday/components'\r\nexport default {\r\n  name: 'UploadImage',\r\n  components: {\r\n    UploadVideo\r\n  },\r\n  methods: {\r\n    fileInfo (status) {\r\n      console.log('状态：', status)\r\n    },\r\n    submit () {\r\n      this.$refs.uploadVideo.save((status, result) => {\r\n        if (status) {\r\n          console.log('保存成功', result)\r\n        } else {\r\n          console.log('保存失败')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./video.vue?vue&type=template&id=a28e9fac&\"\nimport script from \"./video.vue?vue&type=script&lang=js&\"\nexport * from \"./video.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}