{"version":3,"sources":["webpack:///./src/views/imageViewer/index.vue?7736","webpack:///src/components/viewer/handday-viewer.vue","webpack:///./src/components/viewer/handday-viewer.vue","webpack:///./src/components/viewer/handday-viewer.vue?cf0c","webpack:///src/views/imageViewer/index.vue","webpack:///./src/views/imageViewer/index.vue?a192","webpack:///./src/views/imageViewer/index.vue","webpack:///./node_modules/v-viewer/dist/v-viewer.js","webpack:///./node_modules/@handday/components/lib/h-image/index.js","webpack:///./node_modules/viewerjs/dist/viewer.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["_vm","this","_h","$createElement","_c","_self","attrs","list","staticRenderFns","name","components","HImage","render","h","scopedSlots","default","props","images","map","src","item","preViewUrl","key","index","width","height","refs","on","component","HanddayViewer","data","root","factory","module","exports","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","extend","extended","deep","length","arguments","merge","obj","prop","toString","__WEBPACK_IMPORTED_MODULE_0_viewerjs__","__WEBPACK_IMPORTED_MODULE_0_viewerjs___default","__WEBPACK_IMPORTED_MODULE_1__utils__","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_2_vue___default","api","_ref","undefined","_ref$images","_ref$options","options","inline","ViewerToken","a","style","display","class","attr","token","$mount","document","body","appendChild","$el","$viewer","$destroy","destroy","bind","removeChild","show","addEventListener","viewer","global","__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__","directive","_ref$name","_ref$debug","debug","createViewer","el","rebuild","observer","nextTick","imageDiff","destroyViewer","log","update","imageContent","innerHTML","match","viewerImageText","join","__viewerImageDiffCache","createObserver","debouncedCreateViewer","destroyObserver","MutationObserver","WebKitMutationObserver","MozMutationObserver","mutations","forEach","mutation","type","config","attributes","childList","characterData","subtree","observe","__viewerMutationObserver","createWatcher","_ref2","vnode","expression","simplePathRE","test","__viewerUnwatch","context","$watch","newVal","oldVal","disconnect","destroyWatcher","_console","console","apply","binding","modifiers","static","unbind","Component","__file","esModule","keys","some","error","functional","__WEBPACK_IMPORTED_MODULE_0__utils__","__WEBPACK_IMPORTED_MODULE_1_viewerjs__","__WEBPACK_IMPORTED_MODULE_1_viewerjs___default","__WEBPACK_IMPORTED_MODULE_2__component_vue__","__WEBPACK_IMPORTED_MODULE_2__component_vue___default","__WEBPACK_IMPORTED_MODULE_3__directive__","__WEBPACK_IMPORTED_MODULE_4__api__","install","Vue","defaultOptions","setDefaults","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","throttle","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","cancel","wrapper","_len","arguments_","Array","_key","self","elapsed","Date","now","exec","clear","setTimeout","debounce","atBegin","Boolean","trigger","computed","methods","onChange","rebuildViewer","updateViewer","$emit","watch","_this","$nextTick","handler","_this2","_this3","mounted","destroyed","g","Function","eval","e","window","rawScriptExports","compiledTemplate","scopeId","cssModules","scriptExports","_scopeId","create","_t","_withStripped","t","r","u","f","y","v","j","w","_","b","x","S","C","L","I","k","q","z","O","$","E","H","D","T","A","F","N","B","R","V","P","W","M","X","U","_compiled","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","beforeCreate","concat","Y","String","Number","color","size","overflow","IconFont","handleClick","G","staticClass","fontSize","click","J","K","writable","Q","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","Z","getOwnPropertyDescriptors","defineProperties","ee","te","$isServer","re","attachEvent","ne","removeEventListener","detachEvent","oe","requestAnimationFrame","Int8Array","childNodes","use","ie","CONTAIN","icon","ORIGINAL","se","navigator","userAgent","ae","host","urlList","zIndex","onSwitch","showDown","onClose","initialIndex","appendToBody","maskClosable","prefix","isShow","infinite","loading","mode","transform","scale","deg","offsetX","offsetY","enableTransition","baseUrlList","picList","isSingle","isFirst","isLast","currentImg","imgStyle","transition","maxWidth","maxHeight","reset","$refs","img","complete","exchangeImage","indexOf","hide","deviceSupportUninstall","download","deviceSupportInstall","_keyDownHandler","keyCode","toggleMode","prev","handleActions","next","_mouseWheelHandler","wheelDelta","detail","zoomRate","handleImgLoad","handleImgError","target","alt","handleMouseDown","button","pageX","pageY","_dragHandler","preventDefault","handleMaskClick","values","rotateDeg","parseFloat","toFixed","focus","parentNode","le","ce","ref","tabindex","currentTarget","_v","_e","_l","refInFor","load","mousedown","de","ue","he","documentElement","objectFit","fe","me","getComputedStyle","currentStyle","pe","ye","ge","ve","je","we","inheritAttrs","fit","lazy","scrollContainer","previewBtn","previewSrcList","initial","popover","popoverConfig","placement","IconFontBox","ImageViewer","imageWidth","imageHeight","showViewer","imageSrc","provide","imgHost","$config","cosPrefix","imageStyle","getImageStyle","alignCenter","preview","isArray","imageIndex","loadImage","addLazyLoadListener","beforeDestroy","removeLazyLoadListener","handleLazyLoad","_scrollContainer","getBoundingClientRect","includes","top","right","innerWidth","bottom","innerHeight","left","nodeType","Node","ELEMENT_NODE","querySelector","_lazyLoadHandler","Image","onload","handleLoad","onerror","handleError","$attrs","setAttribute","clientWidth","clientHeight","clickHandler","openViewer","closeViewer","be","slot","_g","_b","$listeners","xe","Se","Ce","Le","createElement","propsData","ownKeys","enumerableOnly","symbols","sym","_objectSpread2","source","_defineProperty","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_createClass","protoProps","staticProps","DEFAULTS","backdrop","navbar","title","toolbar","className","container","fullscreen","inheritedAttributes","initialViewIndex","interval","keyboard","loop","minWidth","minHeight","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","slideOnTouch","toggleOnDblclick","tooltip","zIndexInline","zoomRatio","minZoomRatio","maxZoomRatio","url","ready","shown","hidden","view","viewed","move","moved","rotate","rotated","scaled","zoom","zoomed","play","stop","TEMPLATE","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","HAS_POINTER_EVENT","NAMESPACE","ACTION_MOVE","ACTION_SWITCH","ACTION_ZOOM","CLASS_ACTIVE","CLASS_CLOSE","CLASS_FADE","CLASS_FIXED","CLASS_FULLSCREEN","CLASS_FULLSCREEN_EXIT","CLASS_HIDE","CLASS_HIDE_MD_DOWN","CLASS_HIDE_SM_DOWN","CLASS_HIDE_XS_DOWN","CLASS_IN","CLASS_INVISIBLE","CLASS_LOADING","CLASS_MOVE","CLASS_OPEN","CLASS_SHOW","CLASS_TRANSITION","EVENT_CLICK","EVENT_DBLCLICK","EVENT_DRAG_START","EVENT_FOCUSIN","EVENT_KEY_DOWN","EVENT_LOAD","EVENT_ERROR","EVENT_TOUCH_END","EVENT_TOUCH_MOVE","EVENT_TOUCH_START","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_TRANSITION_END","EVENT_WHEEL","EVENT_READY","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_VIEW","EVENT_VIEWED","EVENT_MOVE","EVENT_MOVED","EVENT_ROTATE","EVENT_ROTATED","EVENT_SCALE","EVENT_SCALED","EVENT_ZOOM","EVENT_ZOOMED","EVENT_PLAY","EVENT_STOP","DATA_ACTION","REGEXP_SPACES","BUTTONS","isString","isNaN","isNumber","isUndefined","isObject","isPlainObject","_constructor","isFunction","assign","args","arg","REGEXP_SUFFIX","setStyle","element","styles","escapeHTMLEntities","replace","hasClass","classList","contains","addClass","elem","trim","removeClass","remove","toggleClass","added","REGEXP_HYPHENATE","hyphenate","toLowerCase","getData","dataset","getAttribute","setData","onceSupported","supported","once","listener","set","removeListener","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","bubbles","cancelable","createEvent","initCustomEvent","getOffset","box","pageXOffset","clientLeft","pageYOffset","clientTop","getTransforms","scaleX","scaleY","translateX","translateY","WebkitTransform","msTransform","getImageNameFromURL","decodeURIComponent","IS_SAFARI","getImageNaturalSizes","image","newImage","naturalWidth","naturalHeight","cssText","getResponsiveClass","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","Math","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","getPointer","endOnly","end","timeStamp","getPointersCenter","count","_ref3","initContainer","initViewer","initList","renderViewer","initBody","ownerDocument","scrollbarWidth","initialBodyPaddingRight","paddingRight","initialBodyComputedPaddingRight","containerData","viewerData","max","offsetWidth","offsetHeight","parentData","fulled","items","getImageURL","onLoad","onError","firstElementChild","renderList","nextElementSibling","gutter","parseInt","marginLeft","outerWidth","resetList","initImage","done","sizingImage","footerHeight","footer","viewerWidth","viewerHeight","oldImageData","imageData","imageInitializing","abort","aspectRatio","min","oldRatio","initialImageData","renderImage","marginTop","viewing","moving","rotating","scaling","zooming","onTransitionEnd","imageRendering","resetImage","events","canvas","onClick","onDragStart","dragstart","onPointerDown","pointerdown","onPointerMove","pointermove","onPointerUp","pointerup","onKeyDown","keydown","onResize","resize","onWheel","wheel","passive","capture","onDblclick","dblclick","handlers","action","localName","parentElement","isTrusted","clickCanvasTimeout","played","exit","full","toggle","doubleClickImageTimeout","timeout","originalImage","parentWidth","parentHeight","filled","which","charCode","ctrlKey","buttons","showing","hiding","pointerType","changedTouches","touch","identifier","isSwitchable","change","imageClicked","isShown","close","open","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","player","getElementsByTagName","_this4","wheeling","delta","deltaY","immediate","build","transitioning","id","removeAttribute","initialOffsetWidth","hideImmediately","onViewerTransitionEnd","onImageTransitionEnd","zoomTo","activeItem","onViewed","maxIndex","moveTo","_originalEvent","oldX","oldY","changed","originalEvent","degree","rotateTo","oldDegree","_scaleX","_scaleY","_this5","oldScaleX","oldScaleY","hasTooltip","_this6","_zoomable","newWidth","newHeight","offset","center","_this7","total","onLoadWhenPlay","requestFullscreen","referrerPolicy","playing","_this8","exitFullscreen","_this9","enforceFocus","_this10","clearEnforceFocus","_this11","tooltipBox","textContent","round","tooltipping","fading","_this12","isImg","querySelectorAll","changedIndexes","changedIndex","delaying","initializing","onStart","others","onFocusin","fucus","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","absoluteOffsetX","AnotherViewer","Viewer","getUniqueID","Error","init","progress","template","custom","zoomButtons","slice","rotateButtons","scaleButtons","rotates","position","insertBefore","nextSibling","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","forced","callbackfn"],"mappings":"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","file":"js/chunk-efc28fd0.f27defe5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('handday-viewer',{attrs:{\"images\":_vm.list}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport Vue from 'vue'\r\nimport Viewer from 'v-viewer'\r\nimport 'viewerjs/dist/viewer.css'\r\nimport { HImage } from '@handday/components'\r\nVue.use(Viewer)\r\nexport default {\r\n  name: 'HanddayViewer',\r\n  components: {\r\n    HImage\r\n  },\r\n  render(h) {\r\n    const props = { ...this.$attrs, ...this.$props}\r\n    return h('viewer', {\r\n      scopedSlots: {\r\n        default: () => {\r\n          return props.images.map((item, index) => {\r\n            return h('h-image', {\r\n              attrs: {\r\n                src: item.preViewUrl,\r\n                key: index,\r\n                width: 100,\r\n                height: 100\r\n              }\r\n            })\r\n          })\r\n        },\r\n        ...this.$scopedSlots\r\n      },\r\n      props: {\r\n        refs: 'v-viewer',\r\n        ...props\r\n      },\r\n      on: {\r\n        ...this.$listeners\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./handday-viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./handday-viewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./handday-viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./handday-viewer.vue?vue&type=script&lang=js&\"","<template>\r\n  <div>\r\n    <handday-viewer :images=\"list\">\r\n    </handday-viewer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HanddayViewer from '@/components/viewer/handday-viewer.vue'\r\nexport default {\r\n  name: 'ImageViewer',\r\n  components: {\r\n    HanddayViewer\r\n  },\r\n  data () {\r\n    return {\r\n      list: [\r\n        {\r\n          \"businessId\": \"61101097495003137\",\r\n          \"materialName\": \"抽象派艺术020\",\r\n          \"preViewUrl\": \"http://test-1251330838.cos.ap-chengdu.myqcloud.com/1001/20216/175871072267424/%E6%8A%BD%E8%B1%A1%E6%B4%BE%E8%89%BA%E6%9C%AF020.jpg?sign=q-sign-algorithm%3Dsha1%26q-ak%3DAKIDl9KmytuSO5Wk12b8qJVSBlDQQChwIcx3%26q-sign-time%3D1623998466%3B1624084866%26q-key-time%3D1623998466%3B1624084866%26q-header-list%3Dhost%26q-url-param-list%3D%26q-signature%3De54548f6729b4362391345ebcc798b71f5e24b20\",\r\n          \"coverImgUrl\": null,\r\n          \"groupName\": null,\r\n          \"groupBizId\": 0,\r\n          \"attribute\": {\r\n            \"type\": \"IMAGE\",\r\n            \"width\": 1680,\r\n            \"height\": 1050\r\n          },\r\n          \"suffix\": \"jpg\"\r\n        },\r\n        {\r\n          \"businessId\": \"61101097495003136\",\r\n          \"materialName\": \"抽象派艺术011\",\r\n          \"preViewUrl\": \"http://test-1251330838.cos.ap-chengdu.myqcloud.com/1001/20216/175870799598985/%E6%8A%BD%E8%B1%A1%E6%B4%BE%E8%89%BA%E6%9C%AF011.jpg?sign=q-sign-algorithm%3Dsha1%26q-ak%3DAKIDl9KmytuSO5Wk12b8qJVSBlDQQChwIcx3%26q-sign-time%3D1623998466%3B1624084866%26q-key-time%3D1623998466%3B1624084866%26q-header-list%3Dhost%26q-url-param-list%3D%26q-signature%3Da5b2cf82010d31e09fec225438ccd27d512ed7ee\",\r\n          \"coverImgUrl\": null,\r\n          \"groupName\": null,\r\n          \"groupBizId\": 0,\r\n          \"attribute\": {\r\n            \"type\": \"IMAGE\",\r\n            \"width\": 1366,\r\n            \"height\": 768\r\n          },\r\n          \"suffix\": \"jpg\"\r\n        },\r\n        {\r\n          \"businessId\": \"61100856058281984\",\r\n          \"materialName\": \"抽象派艺术020\",\r\n          \"preViewUrl\": \"http://test-1251330838.cos.ap-chengdu.myqcloud.com/1001/20216/175770048076987/%E6%8A%BD%E8%B1%A1%E6%B4%BE%E8%89%BA%E6%9C%AF020.jpg?sign=q-sign-algorithm%3Dsha1%26q-ak%3DAKIDl9KmytuSO5Wk12b8qJVSBlDQQChwIcx3%26q-sign-time%3D1623998466%3B1624084866%26q-key-time%3D1623998466%3B1624084866%26q-header-list%3Dhost%26q-url-param-list%3D%26q-signature%3Dd830b1c4e244cc98c6d536b1c07451e4e4e714c6\",\r\n          \"coverImgUrl\": null,\r\n          \"groupName\": null,\r\n          \"groupBizId\": 0,\r\n          \"attribute\": {\r\n            \"type\": \"IMAGE\",\r\n            \"width\": 1680,\r\n            \"height\": 1050\r\n          },\r\n          \"suffix\": \"jpg\"\r\n        },\r\n        {\r\n          \"businessId\": \"61098918260473856\",\r\n          \"materialName\": \"f0c539ca-48f5-47af-b33b-61fa20e3781d\",\r\n          \"preViewUrl\": \"http://test-1251330838.cos.ap-chengdu.myqcloud.com/1001/20216/175368375602255/f0c539ca-48f5-47af-b33b-61fa20e3781d.jpg?sign=q-sign-algorithm%3Dsha1%26q-ak%3DAKIDl9KmytuSO5Wk12b8qJVSBlDQQChwIcx3%26q-sign-time%3D1623998466%3B1624084866%26q-key-time%3D1623998466%3B1624084866%26q-header-list%3Dhost%26q-url-param-list%3D%26q-signature%3D787b3fb3a639b6f1d917fa41d79a68ac28c255ed\",\r\n          \"coverImgUrl\": null,\r\n          \"groupName\": null,\r\n          \"groupBizId\": 0,\r\n          \"attribute\": {\r\n            \"type\": \"IMAGE\",\r\n            \"width\": 1080,\r\n            \"height\": 1080\r\n          },\r\n          \"suffix\": \"jpg\"\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=44e38b08&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"viewerjs\"), require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"viewerjs\", \"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueViewer\"] = factory(require(\"viewerjs\"), require(\"vue\"));\n\telse\n\t\troot[\"VueViewer\"] = factory(root[\"Viewer\"], root[\"Vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = extend;\n\nfunction extend() {\n  var extended = {};\n  var deep = false;\n  var i = 0;\n  var length = arguments.length;\n\n  if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n    deep = arguments[0];\n    i++;\n  }\n\n  function merge(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n          extended[prop] = extend(true, extended[prop], obj[prop]);\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  }\n\n  for (; i < length; i++) {\n    var obj = arguments[i];\n    merge(obj);\n  }\n\n  return extended;\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue__);\n\n\n\n\nvar api = function api() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$images = _ref.images,\n      images = _ref$images === undefined ? [] : _ref$images,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n\n  options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* extend */])(options, {\n    inline: false });\n\n  var ViewerToken = __WEBPACK_IMPORTED_MODULE_2_vue___default.a.extend({\n    render: function render(h) {\n      return h('div', {\n        style: {\n          display: 'none'\n        },\n        class: ['__viewer-token']\n      }, images.map(function (attr) {\n        return h('img', {\n          attrs: typeof attr === 'string' ? { src: attr } : attr\n        });\n      }));\n    }\n  });\n  var token = new ViewerToken();\n  token.$mount();\n  document.body.appendChild(token.$el);\n\n  var $viewer = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(token.$el, options);\n  var $destroy = $viewer.destroy.bind($viewer);\n  $viewer.destroy = function () {\n    $destroy();\n    token.$destroy();\n    document.body.removeChild(token.$el);\n    return $viewer;\n  };\n  $viewer.show();\n\n  token.$el.addEventListener('hidden', function () {\n    if (this.viewer === $viewer) {\n      $viewer.destroy();\n    }\n  });\n\n  return $viewer;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (api);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_throttle_debounce__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_throttle_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue__);\n\n\n\n\nvar directive = function directive() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? 'viewer' : _ref$name,\n      _ref$debug = _ref.debug,\n      debug = _ref$debug === undefined ? false : _ref$debug;\n\n  function createViewer(el, options) {\n    var rebuild = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var observer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    __WEBPACK_IMPORTED_MODULE_2_vue___default.a.nextTick(function () {\n      if (observer && !imageDiff(el)) return;\n      if (rebuild || !el['$' + name]) {\n        destroyViewer(el);\n        el['$' + name] = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(el, options);\n        log('Viewer created');\n      } else {\n        el['$' + name].update();\n        log('Viewer updated');\n      }\n    });\n  }\n\n  function imageDiff(el) {\n    var imageContent = el.innerHTML.match(/<img([\\w\\W]+?)[\\\\/]?>/g);\n    var viewerImageText = imageContent ? imageContent.join('') : undefined;\n    if (el.__viewerImageDiffCache === viewerImageText) {\n      log('Element change detected, but image(s) has not changed');\n      return false;\n    } else {\n      log('Image change detected');\n      el.__viewerImageDiffCache = viewerImageText;\n      return true;\n    }\n  }\n\n  function createObserver(el, options, debouncedCreateViewer, rebuild) {\n    destroyObserver(el);\n    var MutationObserver = global.MutationObserver || global.WebKitMutationObserver || global.MozMutationObserver;\n    if (!MutationObserver) {\n      log('Observer not supported');\n      return;\n    }\n    var observer = new MutationObserver(function (mutations) {\n      mutations.forEach(function (mutation) {\n        log('Viewer mutation:' + mutation.type);\n        debouncedCreateViewer(el, options, rebuild, true);\n      });\n    });\n    var config = { attributes: true, childList: true, characterData: true, subtree: true };\n    observer.observe(el, config);\n    el.__viewerMutationObserver = observer;\n    log('Observer created');\n  }\n\n  function createWatcher(el, _ref2, vnode, debouncedCreateViewer) {\n    var expression = _ref2.expression;\n\n    var simplePathRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/;\n    if (!expression || !simplePathRE.test(expression)) {\n      log('Only simple dot-delimited paths can create watcher');\n      return;\n    }\n    el.__viewerUnwatch = vnode.context.$watch(expression, function (newVal, oldVal) {\n      log('Change detected by watcher: ', expression);\n      debouncedCreateViewer(el, newVal, true);\n    }, {\n      deep: true\n    });\n    log('Watcher created, expression: ', expression);\n  }\n\n  function destroyViewer(el) {\n    if (!el['$' + name]) {\n      return;\n    }\n    el['$' + name].destroy();\n    delete el['$' + name];\n    log('Viewer destroyed');\n  }\n\n  function destroyObserver(el) {\n    if (!el.__viewerMutationObserver) {\n      return;\n    }\n    el.__viewerMutationObserver.disconnect();\n    delete el.__viewerMutationObserver;\n    log('Observer destroyed');\n  }\n\n  function destroyWatcher(el) {\n    if (!el.__viewerUnwatch) {\n      return;\n    }\n    el.__viewerUnwatch();\n    delete el.__viewerUnwatch;\n    log('Watcher destroyed');\n  }\n\n  function log() {\n    var _console;\n\n    debug && (_console = console).log.apply(_console, arguments);\n  }\n\n  var directive = {\n    bind: function bind(el, binding, vnode) {\n      log('Viewer bind');\n      var debouncedCreateViewer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__[\"debounce\"])(50, createViewer);\n      debouncedCreateViewer(el, binding.value);\n\n      createWatcher(el, binding, vnode, debouncedCreateViewer);\n\n      if (!binding.modifiers.static) {\n        createObserver(el, binding.value, debouncedCreateViewer, binding.modifiers.rebuild);\n      }\n    },\n    unbind: function unbind(el, binding) {\n      log('Viewer unbind');\n\n      destroyObserver(el);\n\n      destroyWatcher(el);\n\n      destroyViewer(el);\n    }\n  };\n\n  return directive;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (directive);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(9)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(8),\n  /* template */\n  __webpack_require__(11),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Volumes/public/Workspace/web/v-viewer/src/component.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] component.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-3091014c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-3091014c\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_vue__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__component_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__directive__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api__ = __webpack_require__(3);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"component\", function() { return __WEBPACK_IMPORTED_MODULE_2__component_vue___default.a; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"directive\", function() { return __WEBPACK_IMPORTED_MODULE_3__directive__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"api\", function() { return __WEBPACK_IMPORTED_MODULE_4__api__[\"a\"]; });\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"Viewer\", function() { return __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a; });\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  install: function install(Vue) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$name = _ref.name,\n        name = _ref$name === undefined ? 'viewer' : _ref$name,\n        _ref$debug = _ref.debug,\n        debug = _ref$debug === undefined ? false : _ref$debug,\n        defaultOptions = _ref.defaultOptions;\n\n    __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a.setDefaults(defaultOptions);\n\n    Vue.component(name, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* extend */])(__WEBPACK_IMPORTED_MODULE_2__component_vue___default.a, { name: name }));\n    Vue.directive(name, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__directive__[\"a\" /* default */])({ name: name, debug: debug }));\n    Vue.prototype['$' + name + 'Api'] = __WEBPACK_IMPORTED_MODULE_4__api__[\"a\" /* default */];\n  },\n  setDefaults: function setDefaults(defaultOptions) {\n    __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a.setDefaults(defaultOptions);\n  }\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n\t( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (global = global || self, factory(global.throttleDebounce = {}));\n})(this, function (exports) {\n\t'use strict';\n\n\tfunction throttle(delay, noTrailing, callback, debounceMode) {\n\t\tvar timeoutID;\n\t\tvar cancelled = false;\n\n\t\tvar lastExec = 0;\n\n\t\tfunction clearExistingTimeout() {\n\t\t\tif (timeoutID) {\n\t\t\t\tclearTimeout(timeoutID);\n\t\t\t}\n\t\t}\n\n\t\tfunction cancel() {\n\t\t\tclearExistingTimeout();\n\t\t\tcancelled = true;\n\t\t}\n\n\t\tif (typeof noTrailing !== 'boolean') {\n\t\t\tdebounceMode = callback;\n\t\t\tcallback = noTrailing;\n\t\t\tnoTrailing = undefined;\n\t\t}\n\n\n\t\tfunction wrapper() {\n\t\t\tfor (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targuments_[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar self = this;\n\t\t\tvar elapsed = Date.now() - lastExec;\n\n\t\t\tif (cancelled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction exec() {\n\t\t\t\tlastExec = Date.now();\n\t\t\t\tcallback.apply(self, arguments_);\n\t\t\t}\n\n\n\t\t\tfunction clear() {\n\t\t\t\ttimeoutID = undefined;\n\t\t\t}\n\n\t\t\tif (debounceMode && !timeoutID) {\n\t\t\t\texec();\n\t\t\t}\n\n\t\t\tclearExistingTimeout();\n\n\t\t\tif (debounceMode === undefined && elapsed > delay) {\n\t\t\t\texec();\n\t\t\t} else if (noTrailing !== true) {\n\t\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t\t}\n\t\t}\n\n\t\twrapper.cancel = cancel;\n\n\t\treturn wrapper;\n\t}\n\n\tfunction debounce(delay, atBegin, callback) {\n\t\treturn callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n\t}\n\n\texports.debounce = debounce;\n\texports.throttle = throttle;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    images: {\n      type: Array\n    },\n    rebuild: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {},\n    options: {\n      type: Object\n    }\n  },\n\n  data: function data() {\n    return {};\n  },\n\n\n  computed: {},\n\n  methods: {\n    onChange: function onChange() {\n      if (this.rebuild) {\n        this.rebuildViewer();\n      } else {\n        this.updateViewer();\n      }\n    },\n    rebuildViewer: function rebuildViewer() {\n      this.destroyViewer();\n      this.createViewer();\n    },\n    updateViewer: function updateViewer() {\n      if (this.$viewer) {\n        this.$viewer.update();\n        this.$emit('inited', this.$viewer);\n      } else {\n        this.createViewer();\n      }\n    },\n    destroyViewer: function destroyViewer() {\n      this.$viewer && this.$viewer.destroy();\n    },\n    createViewer: function createViewer() {\n      this.$viewer = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(this.$el, this.options);\n      this.$emit('inited', this.$viewer);\n    }\n  },\n\n  watch: {\n    images: function images() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.onChange();\n      });\n    },\n\n    trigger: {\n      handler: function handler() {\n        var _this2 = this;\n\n        this.$nextTick(function () {\n          _this2.onChange();\n        });\n      },\n\n      deep: true\n    },\n    options: {\n      handler: function handler() {\n        var _this3 = this;\n\n        this.$nextTick(function () {\n          _this3.rebuildViewer();\n        });\n      },\n\n      deep: true\n    }\n  },\n\n  mounted: function mounted() {\n    this.createViewer();\n  },\n  destroyed: function destroyed() {\n    this.destroyViewer();\n  }\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\ng = function () {\n\treturn this;\n}();\n\ntry {\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\nmodule.exports = g;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = Object.create(options.computed || null)\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n    options.computed = computed\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._t(\"default\", null, {\n    \"images\": _vm.images,\n    \"options\": _vm.options\n  })], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-3091014c\", module.exports)\n  }\n}\n\n/***/ })\n/******/ ]);\n});","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"core-js/modules/es.function.name.js\"),require(\"core-js/modules/es.object.to-string.js\"),require(\"core-js/modules/es.array.includes.js\"),require(\"core-js/modules/es.string.includes.js\"),require(\"core-js/modules/es.regexp.exec.js\"),require(\"core-js/modules/es.string.match.js\"),require(\"core-js/modules/es.number.constructor.js\"),require(\"core-js/modules/es.array.concat.js\"),require(\"core-js/modules/web.dom-collections.for-each.js\"),require(\"core-js/modules/es.object.keys.js\"),require(\"@/core/IconFont\"),require(\"core-js/modules/es.array.filter.js\"),require(\"core-js/modules/es.object.values.js\"),require(\"core-js/modules/es.number.to-fixed.js\"),require(\"vue\"),require(\"core-js/modules/es.string.replace.js\"),require(\"core-js/modules/es.string.split.js\"),require(\"core-js/modules/es.array.slice.js\"),require(\"core-js/modules/es.typed-array.int8-array.js\"),require(\"core-js/modules/es.typed-array.copy-within.js\"),require(\"core-js/modules/es.typed-array.every.js\"),require(\"core-js/modules/es.typed-array.fill.js\"),require(\"core-js/modules/es.typed-array.filter.js\"),require(\"core-js/modules/es.typed-array.find.js\"),require(\"core-js/modules/es.typed-array.find-index.js\"),require(\"core-js/modules/es.typed-array.for-each.js\"),require(\"core-js/modules/es.typed-array.includes.js\"),require(\"core-js/modules/es.typed-array.index-of.js\"),require(\"core-js/modules/es.typed-array.iterator.js\"),require(\"core-js/modules/es.typed-array.join.js\"),require(\"core-js/modules/es.typed-array.last-index-of.js\"),require(\"core-js/modules/es.typed-array.map.js\"),require(\"core-js/modules/es.typed-array.reduce.js\"),require(\"core-js/modules/es.typed-array.reduce-right.js\"),require(\"core-js/modules/es.typed-array.reverse.js\"),require(\"core-js/modules/es.typed-array.set.js\"),require(\"core-js/modules/es.typed-array.slice.js\"),require(\"core-js/modules/es.typed-array.some.js\"),require(\"core-js/modules/es.typed-array.sort.js\"),require(\"core-js/modules/es.typed-array.subarray.js\"),require(\"core-js/modules/es.typed-array.to-locale-string.js\"),require(\"core-js/modules/es.typed-array.to-string.js\"),require(\"ant-design-vue/lib/icon\")):\"function\"==typeof define&&define.amd?define([\"core-js/modules/es.function.name.js\",\"core-js/modules/es.object.to-string.js\",\"core-js/modules/es.array.includes.js\",\"core-js/modules/es.string.includes.js\",\"core-js/modules/es.regexp.exec.js\",\"core-js/modules/es.string.match.js\",\"core-js/modules/es.number.constructor.js\",\"core-js/modules/es.array.concat.js\",\"core-js/modules/web.dom-collections.for-each.js\",\"core-js/modules/es.object.keys.js\",\"@/core/IconFont\",\"core-js/modules/es.array.filter.js\",\"core-js/modules/es.object.values.js\",\"core-js/modules/es.number.to-fixed.js\",\"vue\",\"core-js/modules/es.string.replace.js\",\"core-js/modules/es.string.split.js\",\"core-js/modules/es.array.slice.js\",\"core-js/modules/es.typed-array.int8-array.js\",\"core-js/modules/es.typed-array.copy-within.js\",\"core-js/modules/es.typed-array.every.js\",\"core-js/modules/es.typed-array.fill.js\",\"core-js/modules/es.typed-array.filter.js\",\"core-js/modules/es.typed-array.find.js\",\"core-js/modules/es.typed-array.find-index.js\",\"core-js/modules/es.typed-array.for-each.js\",\"core-js/modules/es.typed-array.includes.js\",\"core-js/modules/es.typed-array.index-of.js\",\"core-js/modules/es.typed-array.iterator.js\",\"core-js/modules/es.typed-array.join.js\",\"core-js/modules/es.typed-array.last-index-of.js\",\"core-js/modules/es.typed-array.map.js\",\"core-js/modules/es.typed-array.reduce.js\",\"core-js/modules/es.typed-array.reduce-right.js\",\"core-js/modules/es.typed-array.reverse.js\",\"core-js/modules/es.typed-array.set.js\",\"core-js/modules/es.typed-array.slice.js\",\"core-js/modules/es.typed-array.some.js\",\"core-js/modules/es.typed-array.sort.js\",\"core-js/modules/es.typed-array.subarray.js\",\"core-js/modules/es.typed-array.to-locale-string.js\",\"core-js/modules/es.typed-array.to-string.js\",\"ant-design-vue/lib/icon\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self)[\"h-image\"]=t(null,null,null,null,null,null,null,null,null,null,e.IconFont,null,null,null,e.Vue,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,e.Icon)}(this,(function(e,t,r,n,o,i,s,a,l,c,d,u,h,f,m,p,y,g,v,j,w,_,b,x,S,C,L,I,k,q,z,O,$,E,H,D,T,A,F,N,B,R,V){\"use strict\";function P(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var W=P(d),M=P(m),X=P(V);function U(e,t,r,n,o,i,s,a,l,c){\"boolean\"!=typeof s&&(l=a,a=s,s=!1);const d=\"function\"==typeof r?r.options:r;let u;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),n&&(d._scopeId=n),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=u):t&&(u=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(d.functional){const e=d.render;d.render=function(t,r){return u.call(r),e(t,r)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,u):[u]}return r}const Y={name:\"IconFontBox\",props:{type:{type:String,default:\"iconqiyeweixin_021\"},height:{type:[String,Number],default:\"\"},color:{type:String,default:\"\"},size:{type:[String,Number],default:\"20\"},display:{type:String,default:\"inline-block\"},overflow:{type:String,default:\"hidden\"}},components:{IconFont:W.default},methods:{handleClick:function(){this.$emit(\"click\")}}};var G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"icon-font-wrap\",style:{height:\"auto\"===e.height?\"auto\":e.height?e.height+\"px\":e.size+\"px\",color:e.color,fontSize:e.size+\"px\",display:e.display,overflow:e.overflow},on:{click:e.handleClick}},[r(\"icon-font\",{staticClass:\"icon-font-box\",attrs:{type:e.type}})],1)};G._withStripped=!0;const J=U({render:G,staticRenderFns:[]},undefined,Y,undefined,false,undefined,!1,void 0,void 0,void 0);function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e){return ee=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ee(e)}var te=M.default.prototype.$isServer,re=!te&&document.addEventListener?function(e,t,r){e&&t&&r&&e.addEventListener(t,r,!1)}:function(e,t,r){e&&t&&r&&e.attachEvent(\"on\"+t,r)},ne=!te&&document.removeEventListener?function(e,t,r){e&&t&&e.removeEventListener(t,r,!1)}:function(e,t,r){e&&t&&e.detachEvent(\"on\"+t,r)};\"function\"!=typeof/./&&\"object\"!==(\"undefined\"==typeof Int8Array?\"undefined\":ee(Int8Array))&&(M.default.prototype.$isServer||document.childNodes);function oe(e){var t=!1;return function(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t||(t=!0,window.requestAnimationFrame((function(){e.apply(r,o),t=!1})))}}M.default.use(X.default);var ie={CONTAIN:{name:\"contain\",icon:\"fullscreen\"},ORIGINAL:{name:\"original\",icon:\"fullscreen-exit\"}},se=!M.default.prototype.$isServer&&window.navigator.userAgent.match(/firefox/i)?\"DOMMouseScroll\":\"mousewheel\",ae={name:\"hImageViewer\",props:{host:{type:String},urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},showDown:{type:Boolean,default:!0},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},prefix:{type:[Boolean,String],default:!0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!0,mode:ie.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},baseUrlList:[]}},computed:{picList:function(){var e=this;return this.urlList.filter((function(t,r){return r===e.index}))},isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.baseUrlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,r=e.deg,n=e.offsetX,o=e.offsetY,i=e.enableTransition,s={transform:\"scale(\".concat(t,\") rotate(\").concat(r,\"deg)\"),transition:i?\"transform .3s\":\"\",\"margin-left\":\"\".concat(n,\"px\"),\"margin-top\":\"\".concat(o,\"px\")};return this.mode===ie.CONTAIN&&(s.maxWidth=s.maxHeight=\"100%\"),s}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(){var e=this;this.$nextTick((function(){e.$refs.img[0].complete||(e.loading=!0)}))},urlList:{handler:function(){this.exchangeImage()},deep:!0}},methods:{exchangeImage:function(){var e=this.prefix,t=this.baseUrlList,r=\"\";\"string\"==typeof e?r=e:e&&(r=this.host);for(var n=0;n<this.urlList.length;n++){var o=this.urlList[n];if(/(http|https):\\/\\//.test(o))t.push(o);else{var i=o.indexOf(\"/\")>0?\"/\":\"\";t.push(\"\".concat(r).concat(i?\"/\":\"\").concat(o))}}},hide:function(){this.deviceSupportUninstall(),this.onClose()},download:function(){this.$emit(\"download\",this.currentImg)},deviceSupportInstall:function(){var e=this;this._keyDownHandler=oe((function(t){switch(t.keyCode){case 27:e.hide();break;case 32:e.toggleMode();break;case 37:e.prev();break;case 38:e.handleActions(\"zoomIn\");break;case 39:e.next();break;case 40:e.handleActions(\"zoomOut\")}})),this._mouseWheelHandler=oe((function(t){(t.wheelDelta?t.wheelDelta:-t.detail)>0?e.handleActions(\"zoomIn\",{zoomRate:.015,enableTransition:!1}):e.handleActions(\"zoomOut\",{zoomRate:.015,enableTransition:!1})})),re(document,\"keydown\",this._keyDownHandler),re(document,se,this._mouseWheelHandler)},deviceSupportUninstall:function(){ne(document,\"keydown\",this._keyDownHandler),ne(document,se,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt=\"加载失败\"},handleMouseDown:function(e){var t=this;if(!this.loading&&0===e.button){var r=this.transform,n=r.offsetX,o=r.offsetY,i=e.pageX,s=e.pageY;this._dragHandler=oe((function(e){t.transform.offsetX=n+e.pageX-i,t.transform.offsetY=o+e.pageY-s})),re(document,\"mousemove\",this._dragHandler),re(document,\"mouseup\",(function(){ne(document,\"mousemove\",t._dragHandler)})),e.preventDefault()}},handleMaskClick:function(){this.maskClosable&&this.hide()},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var e=Object.keys(ie),t=(Object.values(ie).indexOf(this.mode)+1)%e.length;this.mode=ie[e[t]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var e=this.urlList.length;this.index=(this.index-1+e)%e}},next:function(){if(!this.isLast||this.infinite){var e=this.urlList.length;this.index=(this.index+1)%e}},handleActions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var r=Z({zoomRate:.2,rotateDeg:90,enableTransition:!0},t),n=r.zoomRate,o=r.rotateDeg,i=r.enableTransition,s=this.transform;switch(e){case\"zoomOut\":s.scale>.2&&(s.scale=parseFloat((s.scale-n).toFixed(3)));break;case\"zoomIn\":s.scale=parseFloat((s.scale+n).toFixed(3));break;case\"clocelise\":s.deg+=o;break;case\"anticlocelise\":s.deg-=o}s.enableTransition=i}}},mounted:function(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs[\"h-image-viewer__wrapper\"].focus(),this.exchangeImage()},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}};const le=ae;var ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"transition\",{attrs:{name:\"viewer-fade\"}},[r(\"div\",{ref:\"h-image-viewer__wrapper\",staticClass:\"h-image-viewer__wrapper\",style:{\"z-index\":e.zIndex},attrs:{tabindex:\"-1\"}},[r(\"div\",{staticClass:\"h-image-viewer__mask\",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleMaskClick(t)}}}),e._v(\" \"),r(\"span\",{staticClass:\"h-image-viewer__btn h-image-viewer__close\",on:{click:e.hide}},[r(\"a-icon\",{attrs:{type:\"close\"}})],1),e._v(\" \"),e.isSingle?e._e():[r(\"span\",{staticClass:\"h-image-viewer__btn h-image-viewer__prev\",class:{\"is-disabled\":!e.infinite&&e.isFirst},on:{click:e.prev}},[r(\"a-icon\",{attrs:{type:\"arrow-left\"}})],1),e._v(\" \"),r(\"span\",{staticClass:\"h-image-viewer__btn h-image-viewer__next\",class:{\"is-disabled\":!e.infinite&&e.isLast},on:{click:e.next}},[r(\"a-icon\",{attrs:{type:\"arrow-right\"}})],1)],e._v(\" \"),r(\"div\",{staticClass:\"h-image-viewer__btn h-image-viewer__actions\"},[r(\"div\",{staticClass:\"h-image-viewer__actions__inner\"},[r(\"a-icon\",{attrs:{type:\"zoom-out\"},on:{click:function(t){return e.handleActions(\"zoomOut\")}}}),e._v(\" \"),r(\"a-icon\",{attrs:{type:\"zoom-in\"},on:{click:function(t){return e.handleActions(\"zoomIn\")}}}),e._v(\" \"),r(\"a-icon\",{attrs:{type:\"undo\"},on:{click:function(t){return e.handleActions(\"anticlocelise\")}}}),e._v(\" \"),r(\"a-icon\",{attrs:{type:\"redo\"},on:{click:function(t){return e.handleActions(\"clocelise\")}}}),e._v(\" \"),e.showDown?r(\"a-icon\",{attrs:{type:\"download\"},on:{click:e.download}}):e._e()],1)]),e._v(\" \"),r(\"div\",{staticClass:\"h-image-viewer__canvas\"},[e._l(e.picList,(function(t){return r(\"img\",{key:t,ref:\"img\",refInFor:!0,staticClass:\"h-image-viewer__img\",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}})})),e._v(\" \"),e.loading?r(\"a-icon\",{staticClass:\"h-image-loading\",attrs:{type:\"loading\"}}):e._e()],2)],2)])};ce._withStripped=!0;const de=U({render:ce,staticRenderFns:[]},undefined,le,undefined,false,undefined,!1,void 0,void 0,void 0);var ue=\"\",he=function(){return void 0!==document.documentElement.style.objectFit},fe=function(e,t){return me(e,null!==t||void 0!==t?t?\"overflow-y\":\"overflow-x\":\"overflow\").match(/(scroll|auto)/)},me=function(e,t){return(window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)[t]},pe=\"none\",ye=\"contain\",ge=\"cover\",ve=\"fill\",je=\"scale-down\",we={name:\"HImage\",inheritAttrs:!1,props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewBtn:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},showDown:{type:Boolean,default:!1},initial:{type:Number,default:0},prefix:{type:[Boolean,String],default:!0},popover:{type:Boolean,default:!1},popoverConfig:{type:Object,default:function(){return{placement:\"right\",trigger:\"hover\",width:\"200px\",height:\"100%\"}}}},components:{IconFontBox:J,IconFont:W.default,ImageViewer:de},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1,imageSrc:\"\"}},provide:function(){return{download:this.download}},computed:{imgHost:function(){return this.$config?this.$config.cosPrefix:\"\"},imageStyle:function(){var e=this.fit;return window&&e?he()?{\"object-fit\":e}:this.getImageStyle(e):{}},alignCenter:function(){return window&&!he()&&this.fit!==ve},preview:function(){var e=this.previewSrcList;return Array.isArray(e)&&e.length>0},imageIndex:function(){var e=this.initial||0,t=this.previewSrcList.indexOf(this.src);return t>=0&&(e=t),e}},watch:{src:function(){this.imageSrc=this.exchangeImage(),this.show&&this.loadImage()},show:function(e){e&&this.loadImage()}},mounted:function(){this.imageSrc=this.exchangeImage(),this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{exchangeImage:function(){var e=this.src,t=this.prefix;if(!e)return e;if(/(http|https):\\/\\//.test(e))return e;var r=\"\";\"string\"==typeof t?r=t:t&&(r=this.imgHost);var n=e.indexOf(\"/\")>0;return\"\".concat(r).concat(n?\"/\":\"\").concat(e)},handleLazyLoad:function(){var e,t,r,n;e=this.$el,t=this._scrollContainer,n=e.getBoundingClientRect(),r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right&&(this.show=!0,this.removeLazyLoadListener())},download:function(e){this.$emit(\"download\",e)},addLazyLoadListener:function(){var e,t,r=this.scrollContainer,n=null;(t=r)&&t.nodeType===Node.ELEMENT_NODE?n=r:(e=r,n=\"[object String]\"===Object.prototype.toString.call(e)?document.querySelector(n):function(e){for(var t=e;t;){if([window,document,document.documentElement].includes(parent))return window;if(fe(t))return t;t=t.parentNode}return t}(this.$el)),n&&(this._scrollContainer=n,this._lazyLoadHandler=function(e,t,r,n){var o,i=!1,s=0;function a(){o&&clearTimeout(o)}function l(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=this,h=Date.now()-s;function f(){s=Date.now(),r.apply(u,c)}function m(){o=void 0}i||(n&&!o&&f(),a(),void 0===n&&h>e?f():!0!==t&&(o=setTimeout(n?m:f,void 0===n?e-h:e)))}return\"boolean\"!=typeof t&&(n=r,r=t,t=void 0),l.cancel=function(){a(),i=!0},l}(200,this.handleLazyLoad),n.addEventListener(\"scroll\",this._lazyLoadHandler,!1),this.handleLazyLoad())},removeLazyLoadListener:function(){var e=this._scrollContainer,t=this._lazyLoadHandler;!this.$isServer&&e&&t&&(e.removeEventListener(\"scroll\",t),this._scrollContainer=null,this._lazyLoadHandler=null)},loadImage:function(){var e=this;if(window){this.loading=!0,this.error=!1;var t=new Image;t.onload=function(r){return e.handleLoad(r,t)},t.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach((function(r){var n=e.$attrs[r];t.setAttribute(r,n)})),t.src=this.imageSrc}},handleLoad:function(e,t){this.imageWidth=t.width,this.imageHeight=t.height,this.loading=!1,this.error=!1},handleError:function(e){this.loading=!1,this.error=!0,this.$emit(\"error\",e)},getImageStyle:function(e){var t=this.imageWidth,r=this.imageHeight,n=this.$el,o=n.clientWidth,i=n.clientHeight;if(!(t&&r&&o&&i))return{};var s=t/r<1;e===je&&(e=t<o&&r<i?pe:ye);switch(e){case pe:return{width:\"auto\",height:\"auto\"};case ye:return s?{width:\"auto\"}:{height:\"auto\"};case ge:return s?{height:\"auto\"}:{width:\"auto\"};default:return{}}},clickHandler:function(e){!this.preview&&this.previewBtn||this.openViewer()},openViewer:function(){ue=document.body.style.overflow,document.body.style.overflow=\"hidden\",this.showViewer=!0},closeViewer:function(){document.body.style.overflow=ue,this.showViewer=!1}}};const _e=we;var be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"a-image\"},[e.loading?e._t(\"placeholder\",[r(\"div\",{staticClass:\"a-image__placeholder\"},[e._t(\"loading\",[r(\"a-icon\",{staticClass:\"placeholder-icon\",attrs:{type:\"picture\"}})])],2)]):e.error&&e.src?e._t(\"error\",[r(\"div\",{staticClass:\"a-image__error\"},[r(\"icon-font\",{staticClass:\"img-icon\",attrs:{type:\"icontupianjiazaishibai\"}})],1)]):e.popover&&e.src?r(\"a-popover\",{attrs:{placement:e.popoverConfig.placement,trigger:e.popoverConfig.trigger}},[r(\"template\",{slot:\"content\"},[r(\"img\",{style:{width:e.popoverConfig.width,height:e.popoverConfig.height},attrs:{src:e.src}})]),e._v(\" \"),r(\"img\",e._g(e._b({staticClass:\"a-image__inner\",class:{\"a-image__inner--center\":e.alignCenter,\"a-image__preview\":e.preview},style:e.imageStyle,attrs:{src:e.imageSrc},on:{click:e.clickHandler}},\"img\",e.$attrs,!1),e.$listeners))],2):e.src?r(\"img\",e._g(e._b({staticClass:\"a-image__inner\",class:{\"a-image__inner--center\":e.alignCenter,\"a-image__preview\":e.preview},style:e.imageStyle,attrs:{src:e.imageSrc},on:{click:e.clickHandler}},\"img\",e.$attrs,!1),e.$listeners)):e.src?e._e():e._t(\"none\",[r(\"div\",{staticClass:\"a-image__none\"},[r(\"icon-font\",{staticClass:\"img-icon\",attrs:{type:\"iconzanwutupian2\"}})],1)]),e._v(\" \"),e.preview?[e.showViewer?r(\"image-viewer\",{attrs:{\"z-index\":e.zIndex,\"initial-index\":e.imageIndex,\"on-close\":e.closeViewer,showDown:e.showDown,\"url-list\":e.previewSrcList,prefix:e.prefix,host:e.imgHost},on:{download:e.download}}):e._e()]:e._e()],2)};be._withStripped=!0;const xe=U({render:be,staticRenderFns:[]},undefined,_e,undefined,false,undefined,!1,void 0,void 0,void 0);function Se(e){for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t]||{};for(var o in n)if(n.hasOwnProperty(o)){var i=n[o];void 0!==i&&(e[o]=i)}}return e}var Ce={zIndex:2e3,initialIndex:0,urlList:[]},Le=M.default.extend(de);return xe.install=function(e){e.component(xe.name,xe)},xe.api=function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Se({},Ce,e);var t=new Le({el:document.createElement(\"div\"),propsData:e,methods:{hide:function(){this.deviceSupportUninstall(),this.$el.parentNode.removeChild(this.$el)},download:function(){e.download&&e.download(this.currentImg)}}}),r=e.body?document.body:e.target;console.log(r),document.body.appendChild(t.$el)}(e)},xe}));\n","/*!\n * Viewer.js v1.10.2\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-10-22T13:59:51.046Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Viewer = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var DEFAULTS = {\n    /**\n     * Enable a modal backdrop, specify `static` for a backdrop\n     * which doesn't close the modal on click.\n     * @type {boolean}\n     */\n    backdrop: true,\n\n    /**\n     * Show the button on the top-right of the viewer.\n     * @type {boolean}\n     */\n    button: true,\n\n    /**\n     * Show the navbar.\n     * @type {boolean | number}\n     */\n    navbar: true,\n\n    /**\n     * Specify the visibility and the content of the title.\n     * @type {boolean | number | Function | Array}\n     */\n    title: true,\n\n    /**\n     * Show the toolbar.\n     * @type {boolean | number | Object}\n     */\n    toolbar: true,\n\n    /**\n     * Custom class name(s) to add to the viewer's root element.\n     * @type {string}\n     */\n    className: '',\n\n    /**\n     * Define where to put the viewer in modal mode.\n     * @type {string | Element}\n     */\n    container: 'body',\n\n    /**\n     * Filter the images for viewing. Return true if the image is viewable.\n     * @type {Function}\n     */\n    filter: null,\n\n    /**\n     * Enable to request fullscreen when play.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\n     * @type {boolean|FullscreenOptions}\n     */\n    fullscreen: true,\n\n    /**\n     * Define the extra attributes to inherit from the original image.\n     * @type {Array}\n     */\n    inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\n\n    /**\n     * Define the initial index of image for viewing.\n     * @type {number}\n     */\n    initialViewIndex: 0,\n\n    /**\n     * Enable inline mode.\n     * @type {boolean}\n     */\n    inline: false,\n\n    /**\n     * The amount of time to delay between automatically cycling an image when playing.\n     * @type {number}\n     */\n    interval: 5000,\n\n    /**\n     * Enable keyboard support.\n     * @type {boolean}\n     */\n    keyboard: true,\n\n    /**\n     * Focus the viewer when initialized.\n     * @type {boolean}\n     */\n    focus: true,\n\n    /**\n     * Indicate if show a loading spinner when load image or not.\n     * @type {boolean}\n     */\n    loading: true,\n\n    /**\n     * Indicate if enable loop viewing or not.\n     * @type {boolean}\n     */\n    loop: true,\n\n    /**\n     * Min width of the viewer in inline mode.\n     * @type {number}\n     */\n    minWidth: 200,\n\n    /**\n     * Min height of the viewer in inline mode.\n     * @type {number}\n     */\n    minHeight: 100,\n\n    /**\n     * Enable to move the image.\n     * @type {boolean}\n     */\n    movable: true,\n\n    /**\n     * Enable to rotate the image.\n     * @type {boolean}\n     */\n    rotatable: true,\n\n    /**\n     * Enable to scale the image.\n     * @type {boolean}\n     */\n    scalable: true,\n\n    /**\n     * Enable to zoom the image.\n     * @type {boolean}\n     */\n    zoomable: true,\n\n    /**\n     * Enable to zoom the current image by dragging on the touch screen.\n     * @type {boolean}\n     */\n    zoomOnTouch: true,\n\n    /**\n     * Enable to zoom the image by wheeling mouse.\n     * @type {boolean}\n     */\n    zoomOnWheel: true,\n\n    /**\n     * Enable to slide to the next or previous image by swiping on the touch screen.\n     * @type {boolean}\n     */\n    slideOnTouch: true,\n\n    /**\n     * Indicate if toggle the image size between its natural size\n     * and initial size when double click on the image or not.\n     * @type {boolean}\n     */\n    toggleOnDblclick: true,\n\n    /**\n     * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\n     * @type {boolean}\n     */\n    tooltip: true,\n\n    /**\n     * Enable CSS3 Transition for some special elements.\n     * @type {boolean}\n     */\n    transition: true,\n\n    /**\n     * Define the CSS `z-index` value of viewer in modal mode.\n     * @type {number}\n     */\n    zIndex: 2015,\n\n    /**\n     * Define the CSS `z-index` value of viewer in inline mode.\n     * @type {number}\n     */\n    zIndexInline: 0,\n\n    /**\n     * Define the ratio when zoom the image by wheeling mouse.\n     * @type {number}\n     */\n    zoomRatio: 0.1,\n\n    /**\n     * Define the min ratio of the image when zoom out.\n     * @type {number}\n     */\n    minZoomRatio: 0.01,\n\n    /**\n     * Define the max ratio of the image when zoom in.\n     * @type {number}\n     */\n    maxZoomRatio: 100,\n\n    /**\n     * Define where to get the original image URL for viewing.\n     * @type {string | Function}\n     */\n    url: 'src',\n\n    /**\n     * Event shortcuts.\n     * @type {Function}\n     */\n    ready: null,\n    show: null,\n    shown: null,\n    hide: null,\n    hidden: null,\n    view: null,\n    viewed: null,\n    move: null,\n    moved: null,\n    rotate: null,\n    rotated: null,\n    scale: null,\n    scaled: null,\n    zoom: null,\n    zoomed: null,\n    play: null,\n    stop: null\n  };\n\n  var TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'viewer'; // Actions\n\n  var ACTION_MOVE = 'move';\n  var ACTION_SWITCH = 'switch';\n  var ACTION_ZOOM = 'zoom'; // Classes\n\n  var CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\n  var CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\n  var CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\n  var CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\n  var CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\n  var CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\n  var CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\n  var CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\n  var CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n  var CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\n  var CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\n  var CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\"); // Native events\n\n  var EVENT_CLICK = 'click';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_DRAG_START = 'dragstart';\n  var EVENT_FOCUSIN = 'focusin';\n  var EVENT_KEY_DOWN = 'keydown';\n  var EVENT_LOAD = 'load';\n  var EVENT_ERROR = 'error';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_RESIZE = 'resize';\n  var EVENT_TRANSITION_END = 'transitionend';\n  var EVENT_WHEEL = 'wheel'; // Custom events\n\n  var EVENT_READY = 'ready';\n  var EVENT_SHOW = 'show';\n  var EVENT_SHOWN = 'shown';\n  var EVENT_HIDE = 'hide';\n  var EVENT_HIDDEN = 'hidden';\n  var EVENT_VIEW = 'view';\n  var EVENT_VIEWED = 'viewed';\n  var EVENT_MOVE = 'move';\n  var EVENT_MOVED = 'moved';\n  var EVENT_ROTATE = 'rotate';\n  var EVENT_ROTATED = 'rotated';\n  var EVENT_SCALE = 'scale';\n  var EVENT_SCALED = 'scaled';\n  var EVENT_ZOOM = 'zoom';\n  var EVENT_ZOOMED = 'zoomed';\n  var EVENT_PLAY = 'play';\n  var EVENT_STOP = 'stop'; // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\"); // RegExps\n\n  var REGEXP_SPACES = /\\s\\s*/; // Misc\n\n  var BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\n  /**\n   * Check if the given value is a string.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n   */\n\n  function isString(value) {\n    return typeof value === 'string';\n  }\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n        var length = data.length;\n        var i;\n\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} obj - The object to be extended.\n   * @param {*} args - The rest objects which will be merged to the first object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(obj) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(obj) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            obj[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return obj;\n  };\n  var REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value += 'px';\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Escape a string for using in HTML.\n   * @param {String} value - The string to escape.\n   * @returns {String} Returns the escaped string.\n   */\n\n  function escapeHTMLEntities(value) {\n    return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    if (!element || !value) {\n      return false;\n    }\n\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function hyphenate(value) {\n    return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(hyphenate(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(hyphenate(name)), data);\n    }\n  }\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @param {Object} options - The additional event options.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data, options) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, _objectSpread2({\n        bubbles: true,\n        cancelable: true,\n        detail: data\n      }, options));\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get an image name from an image url.\n   * @param {string} url - The target url.\n   * @example\n   * // picture.jpg\n   * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\n   * @returns {string} A string contains the image name.\n   */\n\n  function getImageNameFromURL(url) {\n    return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\n  }\n  var IS_SAFARI = WINDOW.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);\n  /**\n   * Get an image's natural sizes.\n   * @param {string} image - The target image.\n   * @param {Object} options - The viewer options.\n   * @param {Function} callback - The callback function.\n   * @returns {HTMLImageElement} The new image.\n   */\n\n  function getImageNaturalSizes(image, options, callback) {\n    var newImage = document.createElement('img'); // Modern browsers (except Safari)\n\n    if (image.naturalWidth && !IS_SAFARI) {\n      callback(image.naturalWidth, image.naturalHeight);\n      return newImage;\n    }\n\n    var body = document.body || document.documentElement;\n\n    newImage.onload = function () {\n      callback(newImage.width, newImage.height);\n\n      if (!IS_SAFARI) {\n        body.removeChild(newImage);\n      }\n    };\n\n    forEach(options.inheritedAttributes, function (name) {\n      var value = image.getAttribute(name);\n\n      if (value !== null) {\n        newImage.setAttribute(name, value);\n      }\n    });\n    newImage.src = image.src; // iOS Safari will convert the image automatically\n    // with its orientation once append it into DOM\n\n    if (!IS_SAFARI) {\n      newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n      body.appendChild(newImage);\n    }\n\n    return newImage;\n  }\n  /**\n   * Get the related class name of a responsive type number.\n   * @param {string} type - The responsive type.\n   * @returns {string} The related class name.\n   */\n\n  function getResponsiveClass(type) {\n    switch (type) {\n      case 2:\n        return CLASS_HIDE_XS_DOWN;\n\n      case 3:\n        return CLASS_HIDE_SM_DOWN;\n\n      case 4:\n        return CLASS_HIDE_MD_DOWN;\n\n      default:\n        return '';\n    }\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      timeStamp: Date.now(),\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initViewer();\n      this.initList();\n      this.renderViewer();\n    },\n    initBody: function initBody() {\n      var ownerDocument = this.element.ownerDocument;\n      var body = ownerDocument.body || ownerDocument.documentElement;\n      this.body = body;\n      this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\n      this.initialBodyPaddingRight = body.style.paddingRight;\n      this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\n    },\n    initContainer: function initContainer() {\n      this.containerData = {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    },\n    initViewer: function initViewer() {\n      var options = this.options,\n          parent = this.parent;\n      var viewerData;\n\n      if (options.inline) {\n        viewerData = {\n          width: Math.max(parent.offsetWidth, options.minWidth),\n          height: Math.max(parent.offsetHeight, options.minHeight)\n        };\n        this.parentData = viewerData;\n      }\n\n      if (this.fulled || !viewerData) {\n        viewerData = this.containerData;\n      }\n\n      this.viewerData = assign({}, viewerData);\n    },\n    renderViewer: function renderViewer() {\n      if (this.options.inline && !this.fulled) {\n        setStyle(this.viewer, this.viewerData);\n      }\n    },\n    initList: function initList() {\n      var _this = this;\n\n      var element = this.element,\n          options = this.options,\n          list = this.list;\n      var items = []; // initList may be called in this.update, so should keep idempotent\n\n      list.innerHTML = '';\n      forEach(this.images, function (image, index) {\n        var src = image.src;\n        var alt = image.alt || getImageNameFromURL(src);\n\n        var url = _this.getImageURL(image);\n\n        if (src || url) {\n          var item = document.createElement('li');\n          var img = document.createElement('img');\n          forEach(options.inheritedAttributes, function (name) {\n            var value = image.getAttribute(name);\n\n            if (value !== null) {\n              img.setAttribute(name, value);\n            }\n          });\n          img.src = src || url;\n          img.alt = alt;\n          img.setAttribute('data-original-url', url || src);\n          item.setAttribute('data-index', index);\n          item.setAttribute('data-viewer-action', 'view');\n          item.setAttribute('role', 'button');\n\n          if (options.keyboard) {\n            item.setAttribute('tabindex', 0);\n          }\n\n          item.appendChild(img);\n          list.appendChild(item);\n          items.push(item);\n        }\n      });\n      this.items = items;\n      forEach(items, function (item) {\n        var image = item.firstElementChild;\n        var onLoad;\n        var onError;\n        setData(image, 'filled', true);\n\n        if (options.loading) {\n          addClass(item, CLASS_LOADING);\n        }\n\n        addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\n          removeListener(image, EVENT_ERROR, onError);\n\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n\n          _this.loadImage(event);\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n      });\n\n      if (options.transition) {\n        addListener(element, EVENT_VIEWED, function () {\n          addClass(list, CLASS_TRANSITION);\n        }, {\n          once: true\n        });\n      }\n    },\n    renderList: function renderList() {\n      var index = this.index;\n      var item = this.items[index];\n\n      if (!item) {\n        return;\n      }\n\n      var next = item.nextElementSibling;\n      var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\n      var offsetWidth = item.offsetWidth;\n      var outerWidth = offsetWidth + gutter; // Place the active item in the center of the screen\n\n      setStyle(this.list, assign({\n        width: outerWidth * this.length - gutter\n      }, getTransforms({\n        translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\n      })));\n    },\n    resetList: function resetList() {\n      var list = this.list;\n      list.innerHTML = '';\n      removeClass(list, CLASS_TRANSITION);\n      setStyle(list, getTransforms({\n        translateX: 0\n      }));\n    },\n    initImage: function initImage(done) {\n      var _this2 = this;\n\n      var options = this.options,\n          image = this.image,\n          viewerData = this.viewerData;\n      var footerHeight = this.footer.offsetHeight;\n      var viewerWidth = viewerData.width;\n      var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n      var oldImageData = this.imageData || {};\n      var sizingImage;\n      this.imageInitializing = {\n        abort: function abort() {\n          sizingImage.onload = null;\n        }\n      };\n      sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = viewerWidth;\n        var height = viewerHeight;\n        _this2.imageInitializing = false;\n\n        if (viewerHeight * aspectRatio > viewerWidth) {\n          height = viewerWidth / aspectRatio;\n        } else {\n          width = viewerHeight * aspectRatio;\n        }\n\n        width = Math.min(width * 0.9, naturalWidth);\n        height = Math.min(height * 0.9, naturalHeight);\n        var left = (viewerWidth - width) / 2;\n        var top = (viewerHeight - height) / 2;\n        var imageData = {\n          left: left,\n          top: top,\n          x: left,\n          y: top,\n          width: width,\n          height: height,\n          oldRatio: 1,\n          ratio: width / naturalWidth,\n          aspectRatio: aspectRatio,\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight\n        };\n        var initialImageData = assign({}, imageData);\n\n        if (options.rotatable) {\n          imageData.rotate = oldImageData.rotate || 0;\n          initialImageData.rotate = 0;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = oldImageData.scaleX || 1;\n          imageData.scaleY = oldImageData.scaleY || 1;\n          initialImageData.scaleX = 1;\n          initialImageData.scaleY = 1;\n        }\n\n        _this2.imageData = imageData;\n        _this2.initialImageData = initialImageData;\n\n        if (done) {\n          done();\n        }\n      });\n    },\n    renderImage: function renderImage(done) {\n      var _this3 = this;\n\n      var image = this.image,\n          imageData = this.imageData;\n      setStyle(image, assign({\n        width: imageData.width,\n        height: imageData.height,\n        // XXX: Not to use translateX/Y to avoid image shaking when zooming\n        marginLeft: imageData.x,\n        marginTop: imageData.y\n      }, getTransforms(imageData)));\n\n      if (done) {\n        if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\n          var onTransitionEnd = function onTransitionEnd() {\n            _this3.imageRendering = false;\n            done();\n          };\n\n          this.imageRendering = {\n            abort: function abort() {\n              removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\n            }\n          };\n          addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\n            once: true\n          });\n        } else {\n          done();\n        }\n      }\n    },\n    resetImage: function resetImage() {\n      // this.image only defined after viewed\n      if (this.viewing || this.viewed) {\n        var image = this.image;\n\n        if (this.viewing) {\n          this.viewing.abort();\n        }\n\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var options = this.options,\n          viewer = this.viewer,\n          canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\n      addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\n      addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\n      addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\n      addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\n      addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleOnDblclick) {\n        addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var options = this.options,\n          viewer = this.viewer,\n          canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      removeListener(viewer, EVENT_CLICK, this.onClick);\n      removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n      removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n      removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\n      removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\n      removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\n      removeListener(window, EVENT_RESIZE, this.onResize);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(viewer, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleOnDblclick) {\n        removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\n      }\n    }\n  };\n\n  var handlers = {\n    click: function click(event) {\n      var options = this.options,\n          imageData = this.imageData;\n      var target = event.target;\n      var action = getData(target, DATA_ACTION);\n\n      if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\n        target = target.parentElement;\n        action = getData(target, DATA_ACTION);\n      } // Cancel the emulated click when the native click event was triggered.\n\n\n      if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\n        clearTimeout(this.clickCanvasTimeout);\n      }\n\n      switch (action) {\n        case 'mix':\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            } else {\n              this.full();\n            }\n          } else {\n            this.hide();\n          }\n\n          break;\n\n        case 'hide':\n          this.hide();\n          break;\n\n        case 'view':\n          this.view(getData(target, 'index'));\n          break;\n\n        case 'zoom-in':\n          this.zoom(0.1, true);\n          break;\n\n        case 'zoom-out':\n          this.zoom(-0.1, true);\n          break;\n\n        case 'one-to-one':\n          this.toggle();\n          break;\n\n        case 'reset':\n          this.reset();\n          break;\n\n        case 'prev':\n          this.prev(options.loop);\n          break;\n\n        case 'play':\n          this.play(options.fullscreen);\n          break;\n\n        case 'next':\n          this.next(options.loop);\n          break;\n\n        case 'rotate-left':\n          this.rotate(-90);\n          break;\n\n        case 'rotate-right':\n          this.rotate(90);\n          break;\n\n        case 'flip-horizontal':\n          this.scaleX(-imageData.scaleX || -1);\n          break;\n\n        case 'flip-vertical':\n          this.scaleY(-imageData.scaleY || -1);\n          break;\n\n        default:\n          if (this.played) {\n            this.stop();\n          }\n\n      }\n    },\n    dblclick: function dblclick(event) {\n      event.preventDefault();\n\n      if (this.viewed && event.target === this.image) {\n        // Cancel the emulated double click when the native dblclick event was triggered.\n        if (IS_TOUCH_DEVICE && event.isTrusted) {\n          clearTimeout(this.doubleClickImageTimeout);\n        }\n\n        this.toggle(event);\n      }\n    },\n    load: function load() {\n      var _this = this;\n\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = false;\n      }\n\n      var element = this.element,\n          options = this.options,\n          image = this.image,\n          index = this.index,\n          viewerData = this.viewerData;\n      removeClass(image, CLASS_INVISIBLE);\n\n      if (options.loading) {\n        removeClass(this.canvas, CLASS_LOADING);\n      }\n\n      image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\n      this.initImage(function () {\n        toggleClass(image, CLASS_MOVE, options.movable);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n\n        _this.renderImage(function () {\n          _this.viewed = true;\n          _this.viewing = false;\n\n          if (isFunction(options.viewed)) {\n            addListener(element, EVENT_VIEWED, options.viewed, {\n              once: true\n            });\n          }\n\n          dispatchEvent(element, EVENT_VIEWED, {\n            originalImage: _this.images[index],\n            index: index,\n            image: image\n          }, {\n            cancelable: false\n          });\n        });\n      });\n    },\n    loadImage: function loadImage(event) {\n      var image = event.target;\n      var parent = image.parentNode;\n      var parentWidth = parent.offsetWidth || 30;\n      var parentHeight = parent.offsetHeight || 50;\n      var filled = !!getData(image, 'filled');\n      getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = parentWidth;\n        var height = parentHeight;\n\n        if (parentHeight * aspectRatio > parentWidth) {\n          if (filled) {\n            width = parentHeight * aspectRatio;\n          } else {\n            height = parentWidth / aspectRatio;\n          }\n        } else if (filled) {\n          height = parentWidth / aspectRatio;\n        } else {\n          width = parentHeight * aspectRatio;\n        }\n\n        setStyle(image, assign({\n          width: width,\n          height: height\n        }, getTransforms({\n          translateX: (parentWidth - width) / 2,\n          translateY: (parentHeight - height) / 2\n        })));\n      });\n    },\n    keydown: function keydown(event) {\n      var options = this.options;\n\n      if (!options.keyboard) {\n        return;\n      }\n\n      var keyCode = event.keyCode || event.which || event.charCode;\n\n      switch (keyCode) {\n        // Enter\n        case 13:\n          if (this.viewer.contains(event.target)) {\n            this.click(event);\n          }\n\n          break;\n      }\n\n      if (!this.fulled) {\n        return;\n      }\n\n      switch (keyCode) {\n        // Escape\n        case 27:\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            }\n          } else {\n            this.hide();\n          }\n\n          break;\n        // Space\n\n        case 32:\n          if (this.played) {\n            this.stop();\n          }\n\n          break;\n        // ArrowLeft\n\n        case 37:\n          this.prev(options.loop);\n          break;\n        // ArrowUp\n\n        case 38:\n          // Prevent scroll on Firefox\n          event.preventDefault(); // Zoom in\n\n          this.zoom(options.zoomRatio, true);\n          break;\n        // ArrowRight\n\n        case 39:\n          this.next(options.loop);\n          break;\n        // ArrowDown\n\n        case 40:\n          // Prevent scroll on Firefox\n          event.preventDefault(); // Zoom out\n\n          this.zoom(-options.zoomRatio, true);\n          break;\n        // Ctrl + 0\n\n        case 48: // Fall through\n        // Ctrl + 1\n        // eslint-disable-next-line no-fallthrough\n\n        case 49:\n          if (event.ctrlKey) {\n            event.preventDefault();\n            this.toggle();\n          }\n\n          break;\n      }\n    },\n    dragstart: function dragstart(event) {\n      if (event.target.localName === 'img') {\n        event.preventDefault();\n      }\n    },\n    pointerdown: function pointerdown(event) {\n      var options = this.options,\n          pointers = this.pointers;\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (!this.viewed || this.showing || this.viewing || this.hiding // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey)) {\n        return;\n      } // Prevent default behaviours as page zooming in touch devices.\n\n\n      event.preventDefault();\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      var action = options.movable ? ACTION_MOVE : false;\n\n      if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\n        action = ACTION_ZOOM;\n      } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\n        action = ACTION_SWITCH;\n      }\n\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        removeClass(this.image, CLASS_TRANSITION);\n      }\n\n      this.action = action;\n    },\n    pointermove: function pointermove(event) {\n      var pointers = this.pointers,\n          action = this.action;\n\n      if (!this.viewed || !action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    pointerup: function pointerup(event) {\n      var _this2 = this;\n\n      var options = this.options,\n          action = this.action,\n          pointers = this.pointers;\n      var pointer;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointer = pointers[touch.identifier];\n          delete pointers[touch.identifier];\n        });\n      } else {\n        pointer = pointers[event.pointerId || 0];\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        addClass(this.image, CLASS_TRANSITION);\n      }\n\n      this.action = false; // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\n\n      if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\n        clearTimeout(this.clickCanvasTimeout);\n        clearTimeout(this.doubleClickImageTimeout);\n\n        if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\n          if (this.imageClicked) {\n            this.imageClicked = false; // This timeout will be cleared later when a native dblclick event is triggering\n\n            this.doubleClickImageTimeout = setTimeout(function () {\n              dispatchEvent(_this2.image, EVENT_DBLCLICK);\n            }, 50);\n          } else {\n            this.imageClicked = true; // The default timing of a double click in Windows is 500 ms\n\n            this.doubleClickImageTimeout = setTimeout(function () {\n              _this2.imageClicked = false;\n            }, 500);\n          }\n        } else {\n          this.imageClicked = false;\n\n          if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\n            // This timeout will be cleared later when a native click event is triggering\n            this.clickCanvasTimeout = setTimeout(function () {\n              dispatchEvent(_this2.canvas, EVENT_CLICK);\n            }, 50);\n          }\n        }\n      }\n    },\n    resize: function resize() {\n      var _this3 = this;\n\n      if (!this.isShown || this.hiding) {\n        return;\n      }\n\n      if (this.fulled) {\n        this.close();\n        this.initBody();\n        this.open();\n      }\n\n      this.initContainer();\n      this.initViewer();\n      this.renderViewer();\n      this.renderList();\n\n      if (this.viewed) {\n        this.initImage(function () {\n          _this3.renderImage();\n        });\n      }\n\n      if (this.played) {\n        if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n          this.stop();\n          return;\n        }\n\n        forEach(this.player.getElementsByTagName('img'), function (image) {\n          addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\n            once: true\n          });\n          dispatchEvent(image, EVENT_LOAD);\n        });\n      }\n    },\n    wheel: function wheel(event) {\n      var _this4 = this;\n\n      if (!this.viewed) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this4.wheeling = false;\n      }, 50);\n      var ratio = Number(this.options.zoomRatio) || 0.1;\n      var delta = 1;\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, true, event);\n    }\n  };\n\n  var methods = {\n    /** Show the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    show: function show() {\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n          options = this.options;\n\n      if (options.inline || this.showing || this.isShown || this.showing) {\n        return this;\n      }\n\n      if (!this.ready) {\n        this.build();\n\n        if (this.ready) {\n          this.show(immediate);\n        }\n\n        return this;\n      }\n\n      if (isFunction(options.show)) {\n        addListener(element, EVENT_SHOW, options.show, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\n        return this;\n      }\n\n      if (this.hiding) {\n        this.transitioning.abort();\n      }\n\n      this.showing = true;\n      this.open();\n      var viewer = this.viewer;\n      removeClass(viewer, CLASS_HIDE);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('aria-hidden');\n\n      if (options.transition && !immediate) {\n        var shown = this.shown.bind(this);\n        this.transitioning = {\n          abort: function abort() {\n            removeListener(viewer, EVENT_TRANSITION_END, shown);\n            removeClass(viewer, CLASS_IN);\n          }\n        };\n        addClass(viewer, CLASS_TRANSITION); // Force reflow to enable CSS3 transition\n\n        viewer.initialOffsetWidth = viewer.offsetWidth;\n        addListener(viewer, EVENT_TRANSITION_END, shown, {\n          once: true\n        });\n        addClass(viewer, CLASS_IN);\n      } else {\n        addClass(viewer, CLASS_IN);\n        this.shown();\n      }\n\n      return this;\n    },\n\n    /**\n     * Hide the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    hide: function hide() {\n      var _this = this;\n\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n          options = this.options;\n\n      if (options.inline || this.hiding || !(this.isShown || this.showing)) {\n        return this;\n      }\n\n      if (isFunction(options.hide)) {\n        addListener(element, EVENT_HIDE, options.hide, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_HIDE) === false) {\n        return this;\n      }\n\n      if (this.showing) {\n        this.transitioning.abort();\n      }\n\n      this.hiding = true;\n\n      if (this.played) {\n        this.stop();\n      } else if (this.viewing) {\n        this.viewing.abort();\n      }\n\n      var viewer = this.viewer,\n          image = this.image;\n\n      var hideImmediately = function hideImmediately() {\n        removeClass(viewer, CLASS_IN);\n\n        _this.hidden();\n      };\n\n      if (options.transition && !immediate) {\n        var onViewerTransitionEnd = function onViewerTransitionEnd(event) {\n          // Ignore all propagating `transitionend` events (#275).\n          if (event && event.target === viewer) {\n            removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n\n            _this.hidden();\n          }\n        };\n\n        var onImageTransitionEnd = function onImageTransitionEnd() {\n          // In case of show the viewer by `viewer.show(true)` previously (#407).\n          if (hasClass(viewer, CLASS_TRANSITION)) {\n            addListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            removeClass(viewer, CLASS_IN);\n          } else {\n            hideImmediately();\n          }\n        };\n\n        this.transitioning = {\n          abort: function abort() {\n            if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\n              removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\n            } else if (hasClass(viewer, CLASS_TRANSITION)) {\n              removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            }\n          }\n        }; // In case of hiding the viewer when holding on the image (#255),\n        // note that the `CLASS_TRANSITION` class will be removed on pointer down.\n\n        if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\n          addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\n            once: true\n          });\n          this.zoomTo(0, false, null, true);\n        } else {\n          onImageTransitionEnd();\n        }\n      } else {\n        hideImmediately();\n      }\n\n      return this;\n    },\n\n    /**\n     * View one of the images with image's index\n     * @param {number} index - The index of the image to view.\n     * @returns {Viewer} this\n     */\n    view: function view() {\n      var _this2 = this;\n\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\n      index = Number(index) || 0;\n\n      if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n        return this;\n      }\n\n      if (!this.isShown) {\n        this.index = index;\n        return this.show();\n      }\n\n      if (this.viewing) {\n        this.viewing.abort();\n      }\n\n      var element = this.element,\n          options = this.options,\n          title = this.title,\n          canvas = this.canvas;\n      var item = this.items[index];\n      var img = item.querySelector('img');\n      var url = getData(img, 'originalUrl');\n      var alt = img.getAttribute('alt');\n      var image = document.createElement('img');\n      forEach(options.inheritedAttributes, function (name) {\n        var value = img.getAttribute(name);\n\n        if (value !== null) {\n          image.setAttribute(name, value);\n        }\n      });\n      image.src = url;\n      image.alt = alt;\n\n      if (isFunction(options.view)) {\n        addListener(element, EVENT_VIEW, options.view, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_VIEW, {\n        originalImage: this.images[index],\n        index: index,\n        image: image\n      }) === false || !this.isShown || this.hiding || this.played) {\n        return this;\n      }\n\n      var activeItem = this.items[this.index];\n\n      if (activeItem) {\n        removeClass(activeItem, CLASS_ACTIVE);\n        activeItem.removeAttribute('aria-selected');\n      }\n\n      addClass(item, CLASS_ACTIVE);\n      item.setAttribute('aria-selected', true);\n\n      if (options.focus) {\n        item.focus();\n      }\n\n      this.image = image;\n      this.viewed = false;\n      this.index = index;\n      this.imageData = {};\n      addClass(image, CLASS_INVISIBLE);\n\n      if (options.loading) {\n        addClass(canvas, CLASS_LOADING);\n      }\n\n      canvas.innerHTML = '';\n      canvas.appendChild(image); // Center current item\n\n      this.renderList(); // Clear title\n\n      title.innerHTML = ''; // Generate title after viewed\n\n      var onViewed = function onViewed() {\n        var imageData = _this2.imageData;\n        var render = Array.isArray(options.title) ? options.title[1] : options.title;\n        title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\n      };\n\n      var onLoad;\n      var onError;\n      addListener(element, EVENT_VIEWED, onViewed, {\n        once: true\n      });\n      this.viewing = {\n        abort: function abort() {\n          removeListener(element, EVENT_VIEWED, onViewed);\n\n          if (image.complete) {\n            if (_this2.imageRendering) {\n              _this2.imageRendering.abort();\n            } else if (_this2.imageInitializing) {\n              _this2.imageInitializing.abort();\n            }\n          } else {\n            // Cancel download to save bandwidth.\n            image.src = '';\n            removeListener(image, EVENT_LOAD, onLoad);\n\n            if (_this2.timeout) {\n              clearTimeout(_this2.timeout);\n            }\n          }\n        }\n      };\n\n      if (image.complete) {\n        this.load();\n      } else {\n        addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n          removeListener(image, EVENT_ERROR, onError);\n\n          _this2.load();\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n\n          if (_this2.timeout) {\n            clearTimeout(_this2.timeout);\n            _this2.timeout = false;\n          }\n\n          removeClass(image, CLASS_INVISIBLE);\n\n          if (options.loading) {\n            removeClass(_this2.canvas, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        } // Make the image visible if it fails to load within 1s\n\n\n        this.timeout = setTimeout(function () {\n          removeClass(image, CLASS_INVISIBLE);\n          _this2.timeout = false;\n        }, 1000);\n      }\n\n      return this;\n    },\n\n    /**\n     * View the previous image\n     * @param {boolean} [loop=false] - Indicate if view the last one\n     * when it is the first one at present.\n     * @returns {Viewer} this\n     */\n    prev: function prev() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var index = this.index - 1;\n\n      if (index < 0) {\n        index = loop ? this.length - 1 : 0;\n      }\n\n      this.view(index);\n      return this;\n    },\n\n    /**\n     * View the next image\n     * @param {boolean} [loop=false] - Indicate if view the first one\n     * when it is the last one at present.\n     * @returns {Viewer} this\n     */\n    next: function next() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var maxIndex = this.length - 1;\n      var index = this.index + 1;\n\n      if (index > maxIndex) {\n        index = loop ? 0 : maxIndex;\n      }\n\n      this.view(index);\n      return this;\n    },\n\n    /**\n     * Move the image with relative offsets.\n     * @param {number} x - The moving distance in the horizontal direction.\n     * @param {number} [y=x] The moving distance in the vertical direction.\n     * @returns {Viewer} this\n     */\n    move: function move(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var imageData = this.imageData;\n      this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\n      return this;\n    },\n\n    /**\n     * Move the image to an absolute point.\n     * @param {number} x - The new position in the horizontal direction.\n     * @param {number} [y=x] - The new position in the vertical direction.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    moveTo: function moveTo(x) {\n      var _this3 = this;\n\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var element = this.element,\n          options = this.options,\n          imageData = this.imageData;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.viewed && !this.played && options.movable) {\n        var oldX = imageData.x;\n        var oldY = imageData.y;\n        var changed = false;\n\n        if (isNumber(x)) {\n          changed = true;\n        } else {\n          x = oldX;\n        }\n\n        if (isNumber(y)) {\n          changed = true;\n        } else {\n          y = oldY;\n        }\n\n        if (changed) {\n          if (isFunction(options.move)) {\n            addListener(element, EVENT_MOVE, options.move, {\n              once: true\n            });\n          }\n\n          if (dispatchEvent(element, EVENT_MOVE, {\n            x: x,\n            y: y,\n            oldX: oldX,\n            oldY: oldY,\n            originalEvent: _originalEvent\n          }) === false) {\n            return this;\n          }\n\n          imageData.x = x;\n          imageData.y = y;\n          imageData.left = x;\n          imageData.top = y;\n          this.moving = true;\n          this.renderImage(function () {\n            _this3.moving = false;\n\n            if (isFunction(options.moved)) {\n              addListener(element, EVENT_MOVED, options.moved, {\n                once: true\n              });\n            }\n\n            dispatchEvent(element, EVENT_MOVED, {\n              x: x,\n              y: y,\n              oldX: oldX,\n              oldY: oldY,\n              originalEvent: _originalEvent\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the image with a relative degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotate: function rotate(degree) {\n      this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n      return this;\n    },\n\n    /**\n     * Rotate the image to an absolute degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotateTo: function rotateTo(degree) {\n      var _this4 = this;\n\n      var element = this.element,\n          options = this.options,\n          imageData = this.imageData;\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\n        var oldDegree = imageData.rotate;\n\n        if (isFunction(options.rotate)) {\n          addListener(element, EVENT_ROTATE, options.rotate, {\n            once: true\n          });\n        }\n\n        if (dispatchEvent(element, EVENT_ROTATE, {\n          degree: degree,\n          oldDegree: oldDegree\n        }) === false) {\n          return this;\n        }\n\n        imageData.rotate = degree;\n        this.rotating = true;\n        this.renderImage(function () {\n          _this4.rotating = false;\n\n          if (isFunction(options.rotated)) {\n            addListener(element, EVENT_ROTATED, options.rotated, {\n              once: true\n            });\n          }\n\n          dispatchEvent(element, EVENT_ROTATED, {\n            degree: degree,\n            oldDegree: oldDegree\n          }, {\n            cancelable: false\n          });\n        });\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Viewer} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      this.scale(_scaleX, this.imageData.scaleY);\n      return this;\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      this.scale(this.imageData.scaleX, _scaleY);\n      return this;\n    },\n\n    /**\n     * Scale the image.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scale: function scale(scaleX) {\n      var _this5 = this;\n\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var element = this.element,\n          options = this.options,\n          imageData = this.imageData;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.viewed && !this.played && options.scalable) {\n        var oldScaleX = imageData.scaleX;\n        var oldScaleY = imageData.scaleY;\n        var changed = false;\n\n        if (isNumber(scaleX)) {\n          changed = true;\n        } else {\n          scaleX = oldScaleX;\n        }\n\n        if (isNumber(scaleY)) {\n          changed = true;\n        } else {\n          scaleY = oldScaleY;\n        }\n\n        if (changed) {\n          if (isFunction(options.scale)) {\n            addListener(element, EVENT_SCALE, options.scale, {\n              once: true\n            });\n          }\n\n          if (dispatchEvent(element, EVENT_SCALE, {\n            scaleX: scaleX,\n            scaleY: scaleY,\n            oldScaleX: oldScaleX,\n            oldScaleY: oldScaleY\n          }) === false) {\n            return this;\n          }\n\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n          this.scaling = true;\n          this.renderImage(function () {\n            _this5.scaling = false;\n\n            if (isFunction(options.scaled)) {\n              addListener(element, EVENT_SCALED, options.scaled, {\n                once: true\n              });\n            }\n\n            dispatchEvent(element, EVENT_SCALED, {\n              scaleX: scaleX,\n              scaleY: scaleY,\n              oldScaleX: oldScaleX,\n              oldScaleY: oldScaleY\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the image with a relative ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [hasTooltip=false] - Indicates if it has a tooltip or not.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    zoom: function zoom(ratio) {\n      var hasTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var imageData = this.imageData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      this.zoomTo(imageData.width * ratio / imageData.naturalWidth, hasTooltip, _originalEvent);\n      return this;\n    },\n\n    /**\n     * Zoom the image to an absolute ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [hasTooltip=false] - Indicates if it has a tooltip or not.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n     * @returns {Viewer} this\n     */\n    zoomTo: function zoomTo(ratio) {\n      var _this6 = this;\n\n      var hasTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var _zoomable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var element = this.element,\n          options = this.options,\n          pointers = this.pointers,\n          imageData = this.imageData;\n      var x = imageData.x,\n          y = imageData.y,\n          width = imageData.width,\n          height = imageData.height,\n          naturalWidth = imageData.naturalWidth,\n          naturalHeight = imageData.naturalHeight;\n      ratio = Math.max(0, ratio);\n\n      if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n        if (!_zoomable) {\n          var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n          var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n          ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n        }\n\n        if (_originalEvent && options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\n          ratio = 1;\n        }\n\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        var offsetWidth = newWidth - width;\n        var offsetHeight = newHeight - height;\n        var oldRatio = imageData.ratio;\n\n        if (isFunction(options.zoom)) {\n          addListener(element, EVENT_ZOOM, options.zoom, {\n            once: true\n          });\n        }\n\n        if (dispatchEvent(element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: oldRatio,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        this.zooming = true;\n\n        if (_originalEvent) {\n          var offset = getOffset(this.viewer);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\n          imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\n        } else {\n          // Zoom from the center of the image\n          imageData.x -= offsetWidth / 2;\n          imageData.y -= offsetHeight / 2;\n        }\n\n        imageData.left = imageData.x;\n        imageData.top = imageData.y;\n        imageData.width = newWidth;\n        imageData.height = newHeight;\n        imageData.oldRatio = oldRatio;\n        imageData.ratio = ratio;\n        this.renderImage(function () {\n          _this6.zooming = false;\n\n          if (isFunction(options.zoomed)) {\n            addListener(element, EVENT_ZOOMED, options.zoomed, {\n              once: true\n            });\n          }\n\n          dispatchEvent(element, EVENT_ZOOMED, {\n            ratio: ratio,\n            oldRatio: oldRatio,\n            originalEvent: _originalEvent\n          }, {\n            cancelable: false\n          });\n        });\n\n        if (hasTooltip) {\n          this.tooltip();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Play the images\n     * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\n     * @returns {Viewer} this\n     */\n    play: function play() {\n      var _this7 = this;\n\n      var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this.isShown || this.played) {\n        return this;\n      }\n\n      var element = this.element,\n          options = this.options;\n\n      if (isFunction(options.play)) {\n        addListener(element, EVENT_PLAY, options.play, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_PLAY) === false) {\n        return this;\n      }\n\n      var player = this.player;\n      var onLoad = this.loadImage.bind(this);\n      var list = [];\n      var total = 0;\n      var index = 0;\n      this.played = true;\n      this.onLoadWhenPlay = onLoad;\n\n      if (fullscreen) {\n        this.requestFullscreen(fullscreen);\n      }\n\n      addClass(player, CLASS_SHOW);\n      forEach(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = document.createElement('img');\n        image.src = getData(img, 'originalUrl');\n        image.alt = img.getAttribute('alt');\n        image.referrerPolicy = img.referrerPolicy;\n        total += 1;\n        addClass(image, CLASS_FADE);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n\n        if (hasClass(item, CLASS_ACTIVE)) {\n          addClass(image, CLASS_IN);\n          index = i;\n        }\n\n        list.push(image);\n        addListener(image, EVENT_LOAD, onLoad, {\n          once: true\n        });\n        player.appendChild(image);\n      });\n\n      if (isNumber(options.interval) && options.interval > 0) {\n        var play = function play() {\n          _this7.playing = setTimeout(function () {\n            removeClass(list[index], CLASS_IN);\n            index += 1;\n            index = index < total ? index : 0;\n            addClass(list[index], CLASS_IN);\n            play();\n          }, options.interval);\n        };\n\n        if (total > 1) {\n          play();\n        }\n      }\n\n      return this;\n    },\n    // Stop play\n    stop: function stop() {\n      var _this8 = this;\n\n      if (!this.played) {\n        return this;\n      }\n\n      var element = this.element,\n          options = this.options;\n\n      if (isFunction(options.stop)) {\n        addListener(element, EVENT_STOP, options.stop, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_STOP) === false) {\n        return this;\n      }\n\n      var player = this.player;\n      this.played = false;\n      clearTimeout(this.playing);\n      forEach(player.getElementsByTagName('img'), function (image) {\n        removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\n      });\n      removeClass(player, CLASS_SHOW);\n      player.innerHTML = '';\n      this.exitFullscreen();\n      return this;\n    },\n    // Enter modal mode (only available in inline mode)\n    full: function full() {\n      var _this9 = this;\n\n      var options = this.options,\n          viewer = this.viewer,\n          image = this.image,\n          list = this.list;\n\n      if (!this.isShown || this.played || this.fulled || !options.inline) {\n        return this;\n      }\n\n      this.fulled = true;\n      this.open();\n      addClass(this.button, CLASS_FULLSCREEN_EXIT);\n\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n\n      addClass(viewer, CLASS_FIXED);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('style');\n      setStyle(viewer, {\n        zIndex: options.zIndex\n      });\n\n      if (options.focus) {\n        this.enforceFocus();\n      }\n\n      this.initContainer();\n      this.viewerData = assign({}, this.containerData);\n      this.renderList();\n\n      if (this.viewed) {\n        this.initImage(function () {\n          _this9.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n\n      return this;\n    },\n    // Exit modal mode (only available in inline mode)\n    exit: function exit() {\n      var _this10 = this;\n\n      var options = this.options,\n          viewer = this.viewer,\n          image = this.image,\n          list = this.list;\n\n      if (!this.isShown || this.played || !this.fulled || !options.inline) {\n        return this;\n      }\n\n      this.fulled = false;\n      this.close();\n      removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n\n      if (options.focus) {\n        this.clearEnforceFocus();\n      }\n\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      removeClass(viewer, CLASS_FIXED);\n      setStyle(viewer, {\n        zIndex: options.zIndexInline\n      });\n      this.viewerData = assign({}, this.parentData);\n      this.renderViewer();\n      this.renderList();\n\n      if (this.viewed) {\n        this.initImage(function () {\n          _this10.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n\n      return this;\n    },\n    // Show the current ratio of the image with percentage\n    tooltip: function tooltip() {\n      var _this11 = this;\n\n      var options = this.options,\n          tooltipBox = this.tooltipBox,\n          imageData = this.imageData;\n\n      if (!this.viewed || this.played || !options.tooltip) {\n        return this;\n      }\n\n      tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\n\n      if (!this.tooltipping) {\n        if (options.transition) {\n          if (this.fading) {\n            dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n          }\n\n          addClass(tooltipBox, CLASS_SHOW);\n          addClass(tooltipBox, CLASS_FADE);\n          addClass(tooltipBox, CLASS_TRANSITION);\n          tooltipBox.removeAttribute('aria-hidden'); // Force reflow to enable CSS3 transition\n\n          tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\n          addClass(tooltipBox, CLASS_IN);\n        } else {\n          addClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.removeAttribute('aria-hidden');\n        }\n      } else {\n        clearTimeout(this.tooltipping);\n      }\n\n      this.tooltipping = setTimeout(function () {\n        if (options.transition) {\n          addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n            removeClass(tooltipBox, CLASS_SHOW);\n            removeClass(tooltipBox, CLASS_FADE);\n            removeClass(tooltipBox, CLASS_TRANSITION);\n            tooltipBox.setAttribute('aria-hidden', true);\n            _this11.fading = false;\n          }, {\n            once: true\n          });\n          removeClass(tooltipBox, CLASS_IN);\n          _this11.fading = true;\n        } else {\n          removeClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.setAttribute('aria-hidden', true);\n        }\n\n        _this11.tooltipping = false;\n      }, 1000);\n      return this;\n    },\n\n    /**\n     * Toggle the image size between its current size and natural size\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    toggle: function toggle() {\n      var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (this.imageData.ratio === 1) {\n        this.zoomTo(this.imageData.oldRatio, true, _originalEvent);\n      } else {\n        this.zoomTo(1, true, _originalEvent);\n      }\n\n      return this;\n    },\n    // Reset the image to its initial state\n    reset: function reset() {\n      if (this.viewed && !this.played) {\n        this.imageData = assign({}, this.initialImageData);\n        this.renderImage();\n      }\n\n      return this;\n    },\n    // Update viewer when images changed\n    update: function update() {\n      var _this12 = this;\n\n      var element = this.element,\n          options = this.options,\n          isImg = this.isImg; // Destroy viewer if the target image was deleted\n\n      if (isImg && !element.parentNode) {\n        return this.destroy();\n      }\n\n      var images = [];\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (isFunction(options.filter)) {\n          if (options.filter.call(_this12, image)) {\n            images.push(image);\n          }\n        } else if (_this12.getImageURL(image)) {\n          images.push(image);\n        }\n      });\n\n      if (!images.length) {\n        return this;\n      }\n\n      this.images = images;\n      this.length = images.length;\n\n      if (this.ready) {\n        var changedIndexes = [];\n        forEach(this.items, function (item, i) {\n          var img = item.querySelector('img');\n          var image = images[i];\n\n          if (image && img) {\n            if (image.src !== img.src // Title changed (#408)\n            || image.alt !== img.alt) {\n              changedIndexes.push(i);\n            }\n          } else {\n            changedIndexes.push(i);\n          }\n        });\n        setStyle(this.list, {\n          width: 'auto'\n        });\n        this.initList();\n\n        if (this.isShown) {\n          if (this.length) {\n            if (this.viewed) {\n              var changedIndex = changedIndexes.indexOf(this.index);\n\n              if (changedIndex >= 0) {\n                this.viewed = false;\n                this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\n              } else {\n                var activeItem = this.items[this.index]; // Reactivate the current viewing item after reset the list.\n\n                addClass(activeItem, CLASS_ACTIVE);\n                activeItem.setAttribute('aria-selected', true);\n              }\n            }\n          } else {\n            this.image = null;\n            this.viewed = false;\n            this.index = 0;\n            this.imageData = {};\n            this.canvas.innerHTML = '';\n            this.title.innerHTML = '';\n          }\n        }\n      } else {\n        this.build();\n      }\n\n      return this;\n    },\n    // Destroy the viewer\n    destroy: function destroy() {\n      var element = this.element,\n          options = this.options;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      this.destroyed = true;\n\n      if (this.ready) {\n        if (this.played) {\n          this.stop();\n        }\n\n        if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n\n          this.unbind();\n        } else if (this.isShown) {\n          if (this.viewing) {\n            if (this.imageRendering) {\n              this.imageRendering.abort();\n            } else if (this.imageInitializing) {\n              this.imageInitializing.abort();\n            }\n          }\n\n          if (this.hiding) {\n            this.transitioning.abort();\n          }\n\n          this.hidden();\n        } else if (this.showing) {\n          this.transitioning.abort();\n          this.hidden();\n        }\n\n        this.ready = false;\n        this.viewer.parentNode.removeChild(this.viewer);\n      } else if (options.inline) {\n        if (this.delaying) {\n          this.delaying.abort();\n        } else if (this.initializing) {\n          this.initializing.abort();\n        }\n      }\n\n      if (!options.inline) {\n        removeListener(element, EVENT_CLICK, this.onStart);\n      }\n\n      element[NAMESPACE] = undefined;\n      return this;\n    }\n  };\n\n  var others = {\n    getImageURL: function getImageURL(image) {\n      var url = this.options.url;\n\n      if (isString(url)) {\n        url = image.getAttribute(url);\n      } else if (isFunction(url)) {\n        url = url.call(this, image);\n      } else {\n        url = '';\n      }\n\n      return url;\n    },\n    enforceFocus: function enforceFocus() {\n      var _this = this;\n\n      this.clearEnforceFocus();\n      addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\n        var viewer = _this.viewer;\n        var target = event.target;\n\n        if (target !== document && target !== viewer && !viewer.contains(target) // Avoid conflicts with other modals (#474)\n        && (target.getAttribute('tabindex') === null || target.getAttribute('aria-modal') !== 'true')) {\n          viewer.focus();\n        }\n      });\n    },\n    clearEnforceFocus: function clearEnforceFocus() {\n      if (this.onFocusin) {\n        removeListener(document, EVENT_FOCUSIN, this.onFocusin);\n        this.onFocusin = null;\n      }\n    },\n    open: function open() {\n      var body = this.body;\n      addClass(body, CLASS_OPEN);\n      body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\n    },\n    close: function close() {\n      var body = this.body;\n      removeClass(body, CLASS_OPEN);\n      body.style.paddingRight = this.initialBodyPaddingRight;\n    },\n    shown: function shown() {\n      var element = this.element,\n          options = this.options,\n          viewer = this.viewer;\n      this.fulled = true;\n      this.isShown = true;\n      this.render();\n      this.bind();\n      this.showing = false;\n\n      if (options.focus) {\n        viewer.focus();\n        this.enforceFocus();\n      }\n\n      if (isFunction(options.shown)) {\n        addListener(element, EVENT_SHOWN, options.shown, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_SHOWN) === false) {\n        return;\n      }\n\n      if (this.ready && this.isShown && !this.hiding) {\n        this.view(this.index);\n      }\n    },\n    hidden: function hidden() {\n      var element = this.element,\n          options = this.options,\n          viewer = this.viewer;\n\n      if (options.fucus) {\n        this.clearEnforceFocus();\n      }\n\n      this.fulled = false;\n      this.viewed = false;\n      this.isShown = false;\n      this.close();\n      this.unbind();\n      addClass(viewer, CLASS_HIDE);\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      viewer.setAttribute('aria-hidden', true);\n      this.resetList();\n      this.resetImage();\n      this.hiding = false;\n\n      if (!this.destroyed) {\n        if (isFunction(options.hidden)) {\n          addListener(element, EVENT_HIDDEN, options.hidden, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_HIDDEN, null, {\n          cancelable: false\n        });\n      }\n    },\n    requestFullscreen: function requestFullscreen(options) {\n      var document = this.element.ownerDocument;\n\n      if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        var documentElement = document.documentElement; // Element.requestFullscreen()\n\n        if (documentElement.requestFullscreen) {\n          // Avoid TypeError when convert `options` to dictionary\n          if (isPlainObject(options)) {\n            documentElement.requestFullscreen(options);\n          } else {\n            documentElement.requestFullscreen();\n          }\n        } else if (documentElement.webkitRequestFullscreen) {\n          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n        } else if (documentElement.mozRequestFullScreen) {\n          documentElement.mozRequestFullScreen();\n        } else if (documentElement.msRequestFullscreen) {\n          documentElement.msRequestFullscreen();\n        }\n      }\n    },\n    exitFullscreen: function exitFullscreen() {\n      var document = this.element.ownerDocument;\n\n      if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        // Document.exitFullscreen()\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    },\n    change: function change(event) {\n      var options = this.options,\n          pointers = this.pointers;\n      var pointer = pointers[Object.keys(pointers)[0]]; // In the case of the `pointers` object is empty (#421)\n\n      if (!pointer) {\n        return;\n      }\n\n      var offsetX = pointer.endX - pointer.startX;\n      var offsetY = pointer.endY - pointer.startY;\n\n      switch (this.action) {\n        // Move the current image\n        case ACTION_MOVE:\n          this.move(offsetX, offsetY, event);\n          break;\n        // Zoom the current image\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), false, event);\n          break;\n\n        case ACTION_SWITCH:\n          {\n            this.action = 'switched';\n            var absoluteOffsetX = Math.abs(offsetX);\n\n            if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\n              // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\n              this.pointers = {};\n\n              if (offsetX > 1) {\n                this.prev(options.loop);\n              } else if (offsetX < -1) {\n                this.next(options.loop);\n              }\n            }\n\n            break;\n          }\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    },\n    isSwitchable: function isSwitchable() {\n      var imageData = this.imageData,\n          viewerData = this.viewerData;\n      return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n    }\n  };\n\n  var AnotherViewer = WINDOW.Viewer;\n\n  var getUniqueID = function (id) {\n    return function () {\n      id += 1;\n      return id;\n    };\n  }(-1);\n\n  var Viewer = /*#__PURE__*/function () {\n    /**\n     * Create a new Viewer.\n     * @param {Element} element - The target element for viewing.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Viewer(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Viewer);\n\n      if (!element || element.nodeType !== 1) {\n        throw new Error('The first argument is required and must be an element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.action = false;\n      this.fading = false;\n      this.fulled = false;\n      this.hiding = false;\n      this.imageClicked = false;\n      this.imageData = {};\n      this.index = this.options.initialViewIndex;\n      this.isImg = false;\n      this.isShown = false;\n      this.length = 0;\n      this.moving = false;\n      this.played = false;\n      this.playing = false;\n      this.pointers = {};\n      this.ready = false;\n      this.rotating = false;\n      this.scaling = false;\n      this.showing = false;\n      this.timeout = false;\n      this.tooltipping = false;\n      this.viewed = false;\n      this.viewing = false;\n      this.wheeling = false;\n      this.zooming = false;\n      this.id = getUniqueID();\n      this.init();\n    }\n\n    _createClass(Viewer, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var element = this.element,\n            options = this.options;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this; // The `focus` option requires the `keyboard` option set to `true`.\n\n        if (options.focus && !options.keyboard) {\n          options.focus = false;\n        }\n\n        var isImg = element.localName === 'img';\n        var images = [];\n        forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n          if (isFunction(options.filter)) {\n            if (options.filter.call(_this, image)) {\n              images.push(image);\n            }\n          } else if (_this.getImageURL(image)) {\n            images.push(image);\n          }\n        });\n        this.isImg = isImg;\n        this.length = images.length;\n        this.images = images;\n        this.initBody(); // Override `transition` option if it is not supported\n\n        if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n          options.transition = false;\n        }\n\n        if (options.inline) {\n          var count = 0;\n\n          var progress = function progress() {\n            count += 1;\n\n            if (count === _this.length) {\n              var timeout;\n              _this.initializing = false;\n              _this.delaying = {\n                abort: function abort() {\n                  clearTimeout(timeout);\n                }\n              }; // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\n\n              timeout = setTimeout(function () {\n                _this.delaying = false;\n\n                _this.build();\n              }, 0);\n            }\n          };\n\n          this.initializing = {\n            abort: function abort() {\n              forEach(images, function (image) {\n                if (!image.complete) {\n                  removeListener(image, EVENT_LOAD, progress);\n                }\n              });\n            }\n          };\n          forEach(images, function (image) {\n            if (image.complete) {\n              progress();\n            } else {\n              addListener(image, EVENT_LOAD, progress, {\n                once: true\n              });\n            }\n          });\n        } else {\n          addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\n            var target = _ref.target;\n\n            if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\n              _this.view(_this.images.indexOf(target));\n            }\n          });\n        }\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options;\n        var parent = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\n        var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\n        var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\n        var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\n        var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        this.parent = parent;\n        this.viewer = viewer;\n        this.title = title;\n        this.toolbar = toolbar;\n        this.navbar = navbar;\n        this.button = button;\n        this.canvas = canvas;\n        this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\n        this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\n        this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\n        this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\n        viewer.id = \"\".concat(NAMESPACE).concat(this.id);\n        title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\n        addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\n        addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n        toggleClass(button, CLASS_HIDE, !options.button);\n\n        if (options.keyboard) {\n          button.setAttribute('tabindex', 0);\n        }\n\n        if (options.backdrop) {\n          addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\n\n          if (!options.inline && options.backdrop !== 'static') {\n            setData(canvas, DATA_ACTION, 'hide');\n          }\n        }\n\n        if (isString(options.className) && options.className) {\n          // In case there are multiple class names\n          options.className.split(REGEXP_SPACES).forEach(function (className) {\n            addClass(viewer, className);\n          });\n        }\n\n        if (options.toolbar) {\n          var list = document.createElement('ul');\n          var custom = isPlainObject(options.toolbar);\n          var zoomButtons = BUTTONS.slice(0, 3);\n          var rotateButtons = BUTTONS.slice(7, 9);\n          var scaleButtons = BUTTONS.slice(9);\n\n          if (!custom) {\n            addClass(toolbar, getResponsiveClass(options.toolbar));\n          }\n\n          forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\n            var deep = custom && isPlainObject(value);\n            var name = custom ? hyphenate(index) : value;\n            var show = deep && !isUndefined(value.show) ? value.show : value;\n\n            if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n              return;\n            }\n\n            var size = deep && !isUndefined(value.size) ? value.size : value;\n            var click = deep && !isUndefined(value.click) ? value.click : value;\n            var item = document.createElement('li');\n\n            if (options.keyboard) {\n              item.setAttribute('tabindex', 0);\n            }\n\n            item.setAttribute('role', 'button');\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\n\n            if (!isFunction(click)) {\n              setData(item, DATA_ACTION, name);\n            }\n\n            if (isNumber(show)) {\n              addClass(item, getResponsiveClass(show));\n            }\n\n            if (['small', 'large'].indexOf(size) !== -1) {\n              addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\n            } else if (name === 'play') {\n              addClass(item, \"\".concat(NAMESPACE, \"-large\"));\n            }\n\n            if (isFunction(click)) {\n              addListener(item, EVENT_CLICK, click);\n            }\n\n            list.appendChild(item);\n          });\n          toolbar.appendChild(list);\n        } else {\n          addClass(toolbar, CLASS_HIDE);\n        }\n\n        if (!options.rotatable) {\n          var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n          addClass(rotates, CLASS_INVISIBLE);\n          forEach(rotates, function (rotate) {\n            toolbar.appendChild(rotate);\n          });\n        }\n\n        if (options.inline) {\n          addClass(button, CLASS_FULLSCREEN);\n          setStyle(viewer, {\n            zIndex: options.zIndexInline\n          });\n\n          if (window.getComputedStyle(parent).position === 'static') {\n            setStyle(parent, {\n              position: 'relative'\n            });\n          }\n\n          parent.insertBefore(viewer, element.nextSibling);\n        } else {\n          addClass(button, CLASS_CLOSE);\n          addClass(viewer, CLASS_FIXED);\n          addClass(viewer, CLASS_FADE);\n          addClass(viewer, CLASS_HIDE);\n          setStyle(viewer, {\n            zIndex: options.zIndex\n          });\n          var container = options.container;\n\n          if (isString(container)) {\n            container = element.ownerDocument.querySelector(container);\n          }\n\n          if (!container) {\n            container = this.body;\n          }\n\n          container.appendChild(viewer);\n        }\n\n        if (options.inline) {\n          this.render();\n          this.bind();\n          this.isShown = true;\n        }\n\n        this.ready = true;\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        if (dispatchEvent(element, EVENT_READY) === false) {\n          this.ready = false;\n          return;\n        }\n\n        if (this.ready && options.inline) {\n          this.view(this.index);\n        }\n      }\n      /**\n       * Get the no conflict viewer class.\n       * @returns {Viewer} The viewer class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Viewer = AnotherViewer;\n        return Viewer;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Viewer;\n  }();\n\n  assign(Viewer.prototype, render, events, handlers, methods, others);\n\n  return Viewer;\n\n}));\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}