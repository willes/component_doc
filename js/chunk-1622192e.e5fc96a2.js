(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1622192e"],{"0e46":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"price-control product-list"},[a("div",{},[a("a-alert",{attrs:{type:"info","show-icon":"",message:"同时存在多个订货价时，价格优先级为：促销活动价>价格跟踪>客户单独定价>阶梯价>客户等级价"}})],1),a("operation-wrap",{attrs:{rowSelectKeys:t.selectionContent.selectedRowKeys}}),a("a-table",{staticClass:"table-content",attrs:{"data-source":t.tableData,bordered:"",pagination:t.pagination,rowSelection:t.rowSelection},on:{change:t.handleTablePageChange}},[a("a-table-column",{key:"index",attrs:{title:"序号"},scopedSlots:t._u([{key:"default",fn:function(e,a,i){return[t._v(" "+t._s(i+1)+" ")]}}])}),a("a-table-column",{key:"GoodsNumber",attrs:{"data-index":"GoodsNumber",title:"商品编号"}}),a("a-table-column",{key:"GoodsPicture",attrs:{"data-index":"GoodsPicture",title:"图片"}}),a("a-table-column",{key:"GoodsName",attrs:{"data-index":"GoodsName",title:"商品名称",width:"252px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("cell-ellipsis-tip",{attrs:{tip:e,line:2}},[t._v(" "+t._s(e)+" ")])]}}])}),a("a-table-column",{key:"GoodsAttr",attrs:{"data-index":"GoodsAttr",title:"商品规格"}}),a("a-table-column-group",{attrs:{title:"第三方ERP参考价"}},[a("a-table-column",{key:"CostPrice",attrs:{"data-index":"CostPrice",title:"成本价"}}),a("a-table-column",{key:"MaxTrackingPrice",attrs:{"data-index":"MaxTrackingPrice",title:"最高跟踪价"}}),a("a-table-column",{key:"MinTrackingPrice",attrs:{"data-index":"MinTrackingPrice",title:"最低跟踪价"}}),a("a-table-column",{key:"LateTrackingPrice",attrs:{"data-index":"LateTrackingPrice",title:"最近跟踪价"}})],1),a("a-table-column-group",{attrs:{title:"级别价"}},[a("a-table-column",{key:"DefaultOrderPrice",attrs:{"data-index":"DefaultOrderPrice",title:"默认订货价"}}),a("a-table-column",{key:"PresetPrice1",attrs:{"data-index":"PresetPrice1",title:"预设售价1"}}),a("a-table-column",{key:"PresetPrice2",attrs:{"data-index":"PresetPrice2",title:"预设售价2"}}),a("a-table-column",{key:"PresetPrice3",attrs:{"data-index":"PresetPrice3",title:"预设售价3"}}),a("a-table-column",{key:"PresetPrice4",attrs:{"data-index":"PresetPrice4",title:"预设售价4"}}),a("a-table-column",{key:"RetailPrice",attrs:{"data-index":"RetailPrice",title:"零售价"}})],1),a("a-table-column",{key:"ReferencePurchasePrice",attrs:{"data-index":"ReferencePurchasePrice",title:"参考采购价"}}),a("a-table-column",{key:"LadderPrice",attrs:{"data-index":"LadderPrice",title:"阶梯价"}}),a("a-table-column",{key:"SeparatePricingForCustomers",attrs:{"data-index":"SeparatePricingForCustomers",title:"客户单独定价"}}),a("a-table-column",{key:"action",attrs:{title:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e)+" "),a("a-button",{attrs:{type:"link"}},[t._v("调价")]),a("a-button",{attrs:{type:"link"}},[t._v("刷新")])]}}])})],1)],1)},s=[],c=a("5530"),n=(a("cb29"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-control"},[a("div",{staticClass:"opt-top"},[t.rowSelectKeys.length?t._e():a("div",{staticClass:"search-flex"},[a("a-input-search",{staticClass:"add-input search-box",staticStyle:{width:"266px"},attrs:{placeholder:"商品名称/编号/条码/关键字"},on:{search:t.handleSearch},model:{value:t.keyWords,callback:function(e){t.keyWords=e},expression:"keyWords"}},[a("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[t._v(" 搜索 ")])],1),a("a-select",{staticClass:"search-box",staticStyle:{width:"120px"},attrs:{placeholder:"商品分类"},on:{change:t.handleSelectItem},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.options.item,(function(e,i){return a("a-select-option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.value))])})),1),a("a-select",{staticClass:"search-box",staticStyle:{width:"120px"},attrs:{placeholder:"商品品牌"},on:{change:t.handleSelectBrand},model:{value:t.brand,callback:function(e){t.brand=e},expression:"brand"}},t._l(t.options.brand,(function(e,i){return a("a-select-option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.value))])})),1),a("a-select",{staticClass:"search-box",staticStyle:{width:"120px"},attrs:{placeholder:"上下架"},on:{change:t.handleSelectSale},model:{value:t.sale,callback:function(e){t.sale=e},expression:"sale"}},t._l(t.options.sale,(function(e,i){return a("a-select-option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.value))])})),1)],1),t.rowSelectKeys.length?a("div",{staticClass:"select-list"},[a("div",{staticClass:"select-box"},[a("icon-font-box",{attrs:{type:"icon_warning",size:"16",color:"#378EFB"}}),t._v("已选"),a("span",{staticClass:"select-num"},[t._v(t._s(t.rowSelectKeys.length))]),t._v("条 ")],1),a("div",{staticClass:"select-box",on:{click:function(e){return t.$emit("optClick","price")}}},[a("icon-font-box",{attrs:{type:"iconxiugai",size:"16",color:"#378EFB"}}),t._v("调价 ")],1),a("div",{staticClass:"select-box",on:{click:function(e){return t.$emit("optClick","refresh")}}},[a("icon-font-box",{attrs:{type:"iconyemianshuaxin",size:"16",color:"#52C41A"}}),t._v("刷新 ")],1),a("div",{staticClass:"select-box",on:{click:function(e){return t.$emit("optClick","exportPrice")}}},[a("icon-font-box",{attrs:{type:"icondaochu",size:"16",color:"#F7B500"}}),t._v("导出商品价格 ")],1),a("div",{staticClass:"select-box",on:{click:function(e){return t.$emit("optClick","exportLonePrice")}}},[a("icon-font-box",{attrs:{type:"icondaochu",size:"16",color:"#F7B500"}}),t._v("导出客户单独定价 ")],1)]):t._e(),a("div",{staticClass:"other-btn"},[a("a-popover",{attrs:{placement:"bottom",trigger:"click"}},[a("template",{slot:"content"},[a("p",{staticClass:"right-menu-item",on:{click:function(e){return t.$emit("optClick","priceBatchVisible")}}},[t._v("Excel导入商品价格")]),a("p",{staticClass:"right-menu-item",on:{click:function(e){return t.$emit("optClick","customPriceBatchVisible")}}},[t._v("Excel导入客户单独定价")])]),a("a-button",[t._v("批量导入")])],2)],1)]),t.selectListKeys.length&&!t.rowSelectKeys.length?a("div",{staticClass:"opt-bottom"},[t._l(t.selectList,(function(e,i){return a("div",{key:i,staticClass:"tag-box"},[t._v(" "+t._s(e.label)),a("span",{staticClass:"tag-info"},[t._v(t._s(e.value))]),a("icon-font-box",{staticClass:"tag-close",attrs:{type:"icon_close",size:"14"},on:{click:function(a){return t.handleDelete(e.key)}}})],1)})),a("a-button",{attrs:{type:"link"},on:{click:function(e){return t.handleDelete("all")}}},[t._v("全部清除")])],2):t._e()])}),l=[],o=(a("b64b"),a("ce78")),r={name:"OperationPlatform",components:{IconFontBox:o["IconFontBox"]},props:{rowSelectKeys:{type:Array,default:function(){return[]}}},data:function(){return{keyWords:void 0,item:void 0,brand:void 0,sale:void 0,selectList:{},options:{item:[{id:1,value:"指掌"},{id:2,value:"管家婆"}],brand:[{id:1,value:"指掌"},{id:2,value:"管家婆"}],sale:[{id:0,value:"全部"},{id:1,value:"上架"},{id:2,value:"下架"}]}}},computed:{selectListKeys:function(){return Object.keys(this.selectList)}},methods:{handleDelete:function(t){if(console.log(t),"all"===t)this.selectList={},this.keyWords="",this.item="",this.brand="",this.sale=0;else{var e=this.selectList;delete e[t],console.log(e),this.selectList=Object(c["a"])({},e),this[t]=""}this.$emit("change",this.selectList)},handleSearch:function(t){console.log("search",t),this.$set(this.selectList,"keyWords",{label:"关键字",value:this.keyWords,key:"keyWords"}),this.$emit("change",this.selectList)},handleSelectItem:function(t,e){var a=this;console.log(t,e),this.options.item.forEach((function(e){e.id===t&&a.$set(a.selectList,"item",Object(c["a"])(Object(c["a"])({},e),{},{label:"商品分类",key:"item"}))})),this.$emit("change",this.selectList)},handleSelectBrand:function(t){var e=this;this.options.brand.forEach((function(a){a.id===t&&e.$set(e.selectList,"brand",Object(c["a"])(Object(c["a"])({},a),{},{label:"品牌",key:"brand"}))})),this.$emit("change",this.selectList)},handleSelectSale:function(t){var e=this;this.options.sale.forEach((function(a){a.id===t&&e.$set(e.selectList,"sale",Object(c["a"])(Object(c["a"])({},a),{},{label:"是否上架",key:"sale"}))})),this.$emit("change",this.selectList)}}},d=r,u=(a("fe8e"),a("2877")),h=Object(u["a"])(d,n,l,!1,null,"77ff3e0a",null),p=h.exports,b={name:"PriceControl",mixins:[o["TableSelection"]],components:{OperationWrap:p,CellEllipsisTip:o["CellEllipsisTip"]},data:function(){return{}},created:function(){this.loadTableData()},methods:{loadTableData:function(t,e){var a=this;console.log(t,e);var i=new Array(5).fill(1),s=[];i.forEach((function(t,e){s.push({key:5*a.pagination.current+e,GoodsNumber:e,GoodsPicture:"",GoodsName:"Apple iPhone 12 (A2404) 128GB 白色 支持移动联通电信5G支持移动联通电信5G支持移动联通电信5G 双卡双待手机"+Math.floor(100*Math.random()),GoodsAttr:"商品规格",OtherERPPrice:{},CostPrice:"1",MaxTrackingPrice:"2",MinTrackingPrice:"3",LateTrackingPrice:"4",DefaultOrderPrice:"5",PresetPrice1:"6",PresetPrice2:"7",PresetPrice3:"8",PresetPrice4:"9",RetailPrice:"10",ReferencePurchasePrice:"参考采购价",LadderPrice:"阶梯价",SeparatePricingForCustomers:"客户单独定价",Operation:"操作"})})),this.tableData=s,this.pagination=Object(c["a"])(Object(c["a"])(Object(c["a"])({},this.pagination),t),{},{total:100}),this.dealSelectionCheckBox()}}},f=b,m=(a("9470"),Object(u["a"])(f,i,s,!1,null,"266fe42f",null));e["default"]=m.exports},"2dcf":function(t,e,a){},7514:function(t,e,a){},"81d5":function(t,e,a){"use strict";var i=a("7b0b"),s=a("23cb"),c=a("50c4");t.exports=function(t){var e=i(this),a=c(e.length),n=arguments.length,l=s(n>1?arguments[1]:void 0,a),o=n>2?arguments[2]:void 0,r=void 0===o?a:s(o,a);while(r>l)e[l++]=t;return e}},9470:function(t,e,a){"use strict";a("7514")},cb29:function(t,e,a){var i=a("23e7"),s=a("81d5"),c=a("44d2");i({target:"Array",proto:!0},{fill:s}),c("fill")},fe8e:function(t,e,a){"use strict";a("2dcf")}}]);
//# sourceMappingURL=chunk-1622192e.e5fc96a2.js.map