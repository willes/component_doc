(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-479547df"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"2bfc":function(e,t,i){!function(t,n){e.exports=n(i("b0c0"),i("a9e3"),i("b64b"),i("d3b7"),i("99af"),i("ac1f"),i("841c"),i("caad"),i("2532"),i("159b"),i("a434"),i("a630"),i("3ca3"),i("cfba"),i("04b3"),i("466d"),i("4de4"),i("07ac"),i("b680"),i("2b0e"),i("5319"),i("1276"),i("fb6a"),i("fd87"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("50f6"))}(0,(function(e,t,i,n,a,A,o,r,s,l,c,d,u,h,f,p,m,v,g,y,b,w,_,S,L,x,k,C,I,D,B,T,R,F,z,E,O,M,H,j,P,N,$,V,W,q,X,U){"use strict";function Y(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var G=Y(h),Q=Y(y),K=Y(U);function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ee(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?J(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ie(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?te(Object(i),!0).forEach((function(t){Z(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ne(e,t,i,n,a,A,o,r,s,l){"boolean"!=typeof o&&(s=r,r=o,o=!1);const c="function"==typeof i?i.options:i;let d;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,a&&(c.functional=!0)),n&&(c._scopeId=n),A?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(A)},c._ssrRegister=d):t&&(d=o?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),d)if(c.functional){const e=c.render;c.render=function(t,i){return d.call(i),e(t,i)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,d):[d]}return i}const ae={name:"IconFontBox",props:{type:{type:String,default:"iconqiyeweixin_021"},height:{type:[String,Number],default:""},color:{type:String,default:""},size:{type:[String,Number],default:"20"},display:{type:String,default:"inline-block"},overflow:{type:String,default:"hidden"}},components:{IconFont:G.default},methods:{handleClick:function(){this.$emit("click")}}};var Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"icon-font-wrap",style:{height:"auto"===e.height?"auto":e.height?e.height+"px":e.size+"px",color:e.color,fontSize:e.size+"px",display:e.display,overflow:e.overflow},on:{click:e.handleClick}},[i("icon-font",{staticClass:"icon-font-box",attrs:{type:e.type}})],1)};Ae._withStripped=!0;const oe=ne({render:Ae,staticRenderFns:[]},void 0,ae,void 0,!1,void 0,!1,void 0,void 0,void 0),re={name:"Empty",components:{empty:f.empty,loading:f.loading},props:{text:{type:String,default:""},loading:{type:Boolean,default:!1}}};var se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"empty"},[i("div",{staticClass:"icon"},[e._t("icon",[e.loading?i("loading",{staticClass:"empty-icon"}):i("empty",{staticClass:"empty-icon"})])],2),e._v(" "),i("h3",{staticClass:"text"},[e._t("default",[e._v(e._s(e.text?e.text:e.loading?"加载中……":"暂无搜索结果"))])],2)])};se._withStripped=!0;const le=ne({render:se,staticRenderFns:[]},void 0,re,void 0,!1,void 0,!1,void 0,void 0,void 0);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}var de=Q.default.prototype.$isServer,ue=!de&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)},he=!de&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)};function fe(e){var t=!1;return function(){for(var i=this,n=arguments.length,a=new Array(n),A=0;A<n;A++)a[A]=arguments[A];t||(t=!0,window.requestAnimationFrame((function(){e.apply(i,a),t=!1})))}}"object"!==("undefined"==typeof Int8Array?"undefined":ce(Int8Array))&&(Q.default.prototype.$isServer||document.childNodes),Q.default.use(K.default);var pe={CONTAIN:{name:"contain",icon:"fullscreen"},ORIGINAL:{name:"original",icon:"fullscreen-exit"}},me=!Q.default.prototype.$isServer&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel",ve={name:"hImageViewer",props:{host:{type:String},urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},showDown:{type:Boolean,default:!0},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},prefix:{type:[Boolean,String],default:!0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!0,mode:pe.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},baseUrlList:[]}},computed:{picList:function(){var e=this;return this.urlList.filter((function(t,i){return i===e.index}))},isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.baseUrlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,i=e.deg,n=e.offsetX,a=e.offsetY,A=e.enableTransition,o={transform:"scale(".concat(t,") rotate(").concat(i,"deg)"),transition:A?"transform .3s":"","margin-left":"".concat(n,"px"),"margin-top":"".concat(a,"px")};return this.mode===pe.CONTAIN&&(o.maxWidth=o.maxHeight="100%"),o}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(){var e=this;this.$nextTick((function(){e.$refs.img[0].complete||(e.loading=!0)}))},urlList:{handler:function(){this.exchangeImage()},deep:!0}},methods:{exchangeImage:function(){var e=this.prefix,t=this.baseUrlList,i="";"string"==typeof e?i=e:e&&(i=this.host);for(var n=0;n<this.urlList.length;n++){var a=this.urlList[n];if(/(http|https):\/\//.test(a))t.push(a);else{var A=a.indexOf("/")>0?"/":"";t.push("".concat(i).concat(A?"/":"").concat(a))}}},hide:function(){this.deviceSupportUninstall(),this.onClose()},download:function(){this.$emit("download",this.currentImg)},deviceSupportInstall:function(){var e=this;this._keyDownHandler=fe((function(t){switch(t.keyCode){case 27:e.hide();break;case 32:e.toggleMode();break;case 37:e.prev();break;case 38:e.handleActions("zoomIn");break;case 39:e.next();break;case 40:e.handleActions("zoomOut")}})),this._mouseWheelHandler=fe((function(t){(t.wheelDelta?t.wheelDelta:-t.detail)>0?e.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):e.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})})),ue(document,"keydown",this._keyDownHandler),ue(document,me,this._mouseWheelHandler)},deviceSupportUninstall:function(){he(document,"keydown",this._keyDownHandler),he(document,me,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown:function(e){var t=this;if(!this.loading&&0===e.button){var i=this.transform,n=i.offsetX,a=i.offsetY,A=e.pageX,o=e.pageY;this._dragHandler=fe((function(e){t.transform.offsetX=n+e.pageX-A,t.transform.offsetY=a+e.pageY-o})),ue(document,"mousemove",this._dragHandler),ue(document,"mouseup",(function(){he(document,"mousemove",t._dragHandler)})),e.preventDefault()}},handleMaskClick:function(){this.maskClosable&&this.hide()},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var e=Object.keys(pe),t=(Object.values(pe).indexOf(this.mode)+1)%e.length;this.mode=pe[e[t]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var e=this.urlList.length;this.index=(this.index-1+e)%e}},next:function(){if(!this.isLast||this.infinite){var e=this.urlList.length;this.index=(this.index+1)%e}},handleActions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var i=ie({zoomRate:.2,rotateDeg:90,enableTransition:!0},t),n=i.zoomRate,a=i.rotateDeg,A=i.enableTransition,o=this.transform;switch(e){case"zoomOut":o.scale>.2&&(o.scale=parseFloat((o.scale-n).toFixed(3)));break;case"zoomIn":o.scale=parseFloat((o.scale+n).toFixed(3));break;case"clocelise":o.deg+=a;break;case"anticlocelise":o.deg-=a}o.enableTransition=A}}},mounted:function(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["h-image-viewer__wrapper"].focus(),this.exchangeImage()},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}};const ge=ve;var ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"viewer-fade"}},[i("div",{ref:"h-image-viewer__wrapper",staticClass:"h-image-viewer__wrapper",style:{"z-index":e.zIndex},attrs:{tabindex:"-1"}},[i("div",{staticClass:"h-image-viewer__mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleMaskClick(t)}}}),e._v(" "),i("span",{staticClass:"h-image-viewer__btn h-image-viewer__close",on:{click:e.hide}},[i("a-icon",{attrs:{type:"close"}})],1),e._v(" "),e.isSingle?e._e():[i("span",{staticClass:"h-image-viewer__btn h-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[i("a-icon",{attrs:{type:"arrow-left"}})],1),e._v(" "),i("span",{staticClass:"h-image-viewer__btn h-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[i("a-icon",{attrs:{type:"arrow-right"}})],1)],e._v(" "),i("div",{staticClass:"h-image-viewer__btn h-image-viewer__actions"},[i("div",{staticClass:"h-image-viewer__actions__inner"},[i("a-icon",{attrs:{type:"zoom-out"},on:{click:function(t){return e.handleActions("zoomOut")}}}),e._v(" "),i("a-icon",{attrs:{type:"zoom-in"},on:{click:function(t){return e.handleActions("zoomIn")}}}),e._v(" "),i("a-icon",{attrs:{type:"undo"},on:{click:function(t){return e.handleActions("anticlocelise")}}}),e._v(" "),i("a-icon",{attrs:{type:"redo"},on:{click:function(t){return e.handleActions("clocelise")}}}),e._v(" "),e.showDown?i("a-icon",{attrs:{type:"download"},on:{click:e.download}}):e._e()],1)]),e._v(" "),i("div",{staticClass:"h-image-viewer__canvas"},[e._l(e.picList,(function(t){return i("img",{key:t,ref:"img",refInFor:!0,staticClass:"h-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}})})),e._v(" "),e.loading?i("a-icon",{staticClass:"h-image-loading",attrs:{type:"loading"}}):e._e()],2)],2)])};ye._withStripped=!0;const be=ne({render:ye,staticRenderFns:[]},void 0,ge,void 0,!1,void 0,!1,void 0,void 0,void 0);var we="",_e=function(){return void 0!==document.documentElement.style.objectFit},Se=function(e,t){return Le(e,null!==t||void 0!==t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)},Le=function(e,t){return(window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)[t]},xe="none",ke="contain",Ce="cover",Ie="fill",De="scale-down",Be={name:"HImage",inheritAttrs:!1,props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewBtn:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},showDown:{type:Boolean,default:!1},initial:{type:Number,default:0},prefix:{type:[Boolean,String],default:!0},popover:{type:Boolean,default:!1},popoverConfig:{type:Object,default:function(){return{placement:"right",trigger:"hover",width:"200px",height:"100%"}}}},components:{IconFontBox:oe,IconFont:G.default,ImageViewer:be},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1,imageSrc:""}},provide:function(){return{download:this.download}},computed:{imgHost:function(){return this.$config?this.$config.cosPrefix:""},imageStyle:function(){var e=this.fit;return window&&e?_e()?{"object-fit":e}:this.getImageStyle(e):{}},alignCenter:function(){return window&&!_e()&&this.fit!==Ie},preview:function(){var e=this.previewSrcList;return Array.isArray(e)&&e.length>0},imageIndex:function(){var e=this.initial||0,t=this.previewSrcList.indexOf(this.src);return t>=0&&(e=t),e}},watch:{src:function(){this.imageSrc=this.exchangeImage(),this.show&&this.loadImage()},show:function(e){e&&this.loadImage()}},mounted:function(){this.imageSrc=this.exchangeImage(),this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{exchangeImage:function(){var e=this.src,t=this.prefix;if(!e)return e;if(/(http|https):\/\//.test(e))return e;var i="";"string"==typeof t?i=t:t&&(i=this.imgHost);var n=e.indexOf("/")>0;return"".concat(i).concat(n?"/":"").concat(e)},handleLazyLoad:function(){var e,t,i,n;e=this.$el,t=this._scrollContainer,n=e.getBoundingClientRect(),i=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right&&(this.show=!0,this.removeLazyLoadListener())},download:function(e){this.$emit("download",e)},addLazyLoadListener:function(){var e,t,i=this.scrollContainer,n=null;(t=i)&&t.nodeType===Node.ELEMENT_NODE?n=i:(e=i,n="[object String]"===Object.prototype.toString.call(e)?document.querySelector(n):function(e){for(var t=e;t;){if([window,document,document.documentElement].includes(parent))return window;if(Se(t))return t;t=t.parentNode}return t}(this.$el)),n&&(this._scrollContainer=n,this._lazyLoadHandler=function(e,t,i,n){var a,A=!1,o=0;function r(){a&&clearTimeout(a)}function s(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=this,u=Date.now()-o;function h(){o=Date.now(),i.apply(d,l)}function f(){a=void 0}A||(n&&!a&&h(),r(),void 0===n&&u>e?h():!0!==t&&(a=setTimeout(n?f:h,void 0===n?e-u:e)))}return"boolean"!=typeof t&&(n=i,i=t,t=void 0),s.cancel=function(){r(),A=!0},s}(200,this.handleLazyLoad),n.addEventListener("scroll",this._lazyLoadHandler,!1),this.handleLazyLoad())},removeLazyLoadListener:function(){var e=this._scrollContainer,t=this._lazyLoadHandler;!this.$isServer&&e&&t&&(e.removeEventListener("scroll",t),this._scrollContainer=null,this._lazyLoadHandler=null)},loadImage:function(){var e=this;if(window){this.loading=!0,this.error=!1;var t=new Image;t.onload=function(i){return e.handleLoad(i,t)},t.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach((function(i){var n=e.$attrs[i];t.setAttribute(i,n)})),t.src=this.imageSrc}},handleLoad:function(e,t){this.imageWidth=t.width,this.imageHeight=t.height,this.loading=!1,this.error=!1},handleError:function(e){this.loading=!1,this.error=!0,this.$emit("error",e)},getImageStyle:function(e){var t=this.imageWidth,i=this.imageHeight,n=this.$el,a=n.clientWidth,A=n.clientHeight;if(!(t&&i&&a&&A))return{};var o=t/i<1;switch(e===De&&(e=t<a&&i<A?xe:ke),e){case xe:return{width:"auto",height:"auto"};case ke:return o?{width:"auto"}:{height:"auto"};case Ce:return o?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(e){!this.preview&&this.previewBtn||this.openViewer()},openViewer:function(){we=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0},closeViewer:function(){document.body.style.overflow=we,this.showViewer=!1}}};const Te=Be;var Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"a-image"},[e.loading?e._t("placeholder",[i("div",{staticClass:"a-image__placeholder"},[e._t("loading",[i("a-icon",{staticClass:"placeholder-icon",attrs:{type:"picture"}})])],2)]):e.error&&e.src?e._t("error",[i("div",{staticClass:"a-image__error"},[i("icon-font",{staticClass:"img-icon",attrs:{type:"icontupianjiazaishibai"}})],1)]):e.popover&&e.src?i("a-popover",{attrs:{placement:e.popoverConfig.placement,trigger:e.popoverConfig.trigger}},[i("template",{slot:"content"},[i("img",{style:{width:e.popoverConfig.width,height:e.popoverConfig.height},attrs:{src:e.src}})]),e._v(" "),i("img",e._g(e._b({staticClass:"a-image__inner",class:{"a-image__inner--center":e.alignCenter,"a-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.imageSrc},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners))],2):e.src?i("img",e._g(e._b({staticClass:"a-image__inner",class:{"a-image__inner--center":e.alignCenter,"a-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.imageSrc},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners)):e.src?e._e():e._t("none",[i("div",{staticClass:"a-image__none"},[i("icon-font",{staticClass:"img-icon",attrs:{type:"iconzanwutupian2"}})],1)]),e._v(" "),e.preview?[e.showViewer?i("image-viewer",{attrs:{"z-index":e.zIndex,"initial-index":e.imageIndex,"on-close":e.closeViewer,showDown:e.showDown,"url-list":e.previewSrcList,prefix:e.prefix,host:e.imgHost},on:{download:e.download}}):e._e()]:e._e()],2)};Re._withStripped=!0;const Fe=ne({render:Re,staticRenderFns:[]},void 0,Te,void 0,!1,void 0,!1,void 0,void 0,void 0);var ze="".concat("/gateway/saas-platform-service/api/v1/","department/get_corp_with_staffer/"),Ee={name:"SelectUserContent",components:{Empty:le,IconFontBox:oe,hImage:Fe},props:{maxLength:{type:Number,default:100},value:{type:Array,default:void 0},defaultExpandAll:{type:Boolean,default:!1},dataSource:{type:Array,default:function(){return[]}},loadDataType:{type:String,default:"mix"},loadData:{type:Function,default:null},useBuilt:{type:Boolean,default:!1},defaultBusinessId:{type:[Number,String],default:""},search:{type:String,default:"local"},multiple:{type:Boolean,default:!1},beforeSelect:{type:Function,default:function(){return!0}},beforeClose:{type:Function,default:null},ok:{type:Function,default:null},title:{type:String,default:"组织选择"},treeExtAttrs:{type:Object,default:function(){return{}}},replaceFields:{type:Object,default:function(){return{children:"childrens",title:"name",avatar:"avatar",department:"departmentId",user:"businessId"}}},changeBtn:{type:Boolean,default:!1},dataType:{type:String,default:"mix"},point:{type:Boolean,default:!1},onlyDept:{type:Boolean,default:!1},isSync:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0},height:{type:String,default:"354px"},valueTimely:{type:Boolean,default:!1},autoCreate:{type:Boolean,default:!1},rootIsSelect:{type:Boolean,default:!1}},computed:{selectListKeys:function(){return Object.keys(this.selectedList)}},data:function(){return{defaultAvatar:"data:image/jpeg;base64,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",dataLoading:!1,controlType:"replace",treeData:[],baseSource:[],treeReplaceFields:{children:"children",name:"name"},rootData:{name:""},expandedKeys:[],keyword:"",flatData:{},treeModel:[],selectedList:{},baseReplaceFields:{children:"children",title:"name",avatar:"avatar",department:"departmentId",user:"businessId"},request:null}},watch:{value:{handler:function(){this.value&&this.updateSelect()},deep:!0}},mounted:function(){this.useBuilt?this.request=this.requestData:this.request=this.loadData,this.autoCreate?this.create():this.updateSelect()},methods:{create:function(){this.keyword="",this.baseReplaceFields=ie({children:"childrens",title:"name",avatar:"avatar",department:"departmentId",user:"businessId"},this.replaceFields),this.immediate&&(this.treeData=[],this.baseSource=[],this.selectedList={},this.treeModel=[],this.flatData={}),this.updateSelect(),this.init(this.treeData.length)},init:function(e){e&&!this.immediate||(this.request?this.getTree("init"):(this.treeData=this.dataSource,this.baseSource=this.dataSource),this.treeReplaceFields=ie(ie({},this.baseReplaceFields),{},{key:"selectId"}))},requestData:function(e){var t=this;return new Promise((function(i,n){var a="string"==typeof e?t.defaultBusinessId:e.dataRef[t.baseReplaceFields.user]||e.dataRef[t.baseReplaceFields.department];t.$get(ze,{departmentId:a,keyword:"string"==typeof e?t.keyword:"",initLoad:"init"===e}).then((function(t){var n=t.data;i("init"===e||"string"==typeof e?[ie(ie({},n.topDepartmentDto),{},{children:[].concat(ee(n.stafferDtos),ee(n.departmentDtos))})]:[].concat(ee(n.stafferDtos),ee(n.departmentDtos)))})).catch((function(e){n(e)}))}))},getTree:function(e){var t=this;if(this.isSync||"init"===e)return this.isSync&&"init"!==e?new Promise((function(i){var n=e.dataRef.selectId;t.request(e).then((function(a){var A=t.point?t.treeModel:t.treeModel.checked;if(t.virtualKey(a,n),e.dataRef[t.baseReplaceFields.children]=a,t.treeData=ee(t.treeData),"local"===t.search&&(t.baseSource=ee(t.treeData)),t.point&&A.includes(n)){var o={};a.forEach((function(e){o[e.selectId]=ie({},e)})),A=A.concat(Object.keys(o)),t.selectedList=ie(ie({},t.selectedList),o)}i()})).finally((function(){t.dataLoading=!1}))})):(this.dataLoading=!0,void this.request(this.keyword||"init").then((function(e){t.virtualKey(e);var i=[];"user"!==t.loadDataType?(t.rootData=ie(ie({},e[0]),{},Z({},t.baseReplaceFields.children,null)),i=e[0][t.baseReplaceFields.children]):i=e,t.treeData=i||[],"local"===t.search&&(t.baseSource=i)})).finally((function(){t.dataLoading=!1,t.$emit("update:confirmLoading",{})})))},handleSearch:function(){"local"===this.search?this.treeData=this.keyword?this.listQuery(this.keyword,this.baseSource):this.getTree("init"):this.getTree("init")},listQuery:function(e,t){var i=this,n=[];return t.forEach((function(t){var a=[];t[i.baseReplaceFields.children]&&t[i.baseReplaceFields.children].length&&(a=i.listQuery(e,t[i.baseReplaceFields.children])),(t[i.baseReplaceFields.title].indexOf(e)>-1||a.length)&&n.push(ie(ie({},t),{},Z({},i.baseReplaceFields.children,a)))})),n},virtualKey:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function e(i,n){for(var a=0;a<i.length;a++){var A=i[a],o=A[t.baseReplaceFields.user];A.selectId=o?A[t.baseReplaceFields.user]:A[t.baseReplaceFields.department],A.isLeaf=!!o,A.scopedSlots={title:"custom"},A.treeParentId=n,t.onlyDept&&o&&(i.splice(a,1),a--),A[t.baseReplaceFields.children]&&A[t.baseReplaceFields.children].length&&e(A[t.baseReplaceFields.children],A.selectId),t.point&&(t.flatData[A.selectId]=A)}};n(e,i)},handleSelect:function(e,t){var i=this,n=t&&t.node,a="root"===e?this.rootData:t.node.dataRef,A=a[this.baseReplaceFields.user],o=this.beforeSelect(t),r=a.selectId,s=this.selectedList[r],l=null;if(n&&Array.from(n.$el.children).forEach((function(e){/ant-tree-checkbox/.test(e.className)&&(l=e)})),l&&l.click(),this.point)this.$nextTick((function(){var e={};(i.point?i.treeModel:i.treeModel.checked).forEach((function(t){e[t]=i.flatData[t]})),i.selectedList=e}));else{if("root"!==e&&("dept"===this.dataType&&A||"user"===this.dataType&&!A))return;if(this.multiple)if(o&&!s)this.selectedList=ie(ie({},this.selectedList),{},Z({},r,a));else{var c=this.selectedList;delete c[r],this.selectedList=ie({},c)}else if(o&&!s)this.selectedList=Z({},r,a);else{var d=this.selectedList;delete d[r],this.selectedList=ie({},d)}}if(this.valueTimely&&this.value){var u=this.emit();this.$emit("input",u)}},handleDeleteSelected:function(e){var t=this.selectedList;if(delete t[e.selectId],this.selectedList=ie({},t),this.point?this.treeModel=Object.keys(t):this.treeModel.checked=Object.keys(t),this.valueTimely&&this.value){var i=this.emit();this.$emit("input",i)}},resetContent:function(){this.treeModel=[],this.selectedList=[],this.controlType="replace",this.keyword=""},getPoint:function(e){return console.log(e),!this.selectedList[e.treeParentId]},getData:function(){return{selectedList:this.emit(),keyword:this.keyword,controlType:this.controlType}},emit:function(){var e=[];for(var t in this.selectedList){var i=this.selectedList[t];this.point?this.selectedList[i.treeParentId]||e.push(i):e.push(this.selectedList[t])}return this.$emit("change",e,this.selectedList),e},updateSelect:function(){var e=this;if(this.value){var t={};this.value.forEach((function(i){t[i[e.baseReplaceFields.user]||i[e.baseReplaceFields.department]]=ie(ie({},i),{},{selectId:i[e.baseReplaceFields.user]||i[e.baseReplaceFields.department]})})),this.selectedList=ie({},t)}}}};const Oe=Ee;var Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"select-user-content"},[i("div",{staticClass:"content",style:{height:e.height}},[i("div",{staticClass:"cont-l"},[i("a-input-search",{attrs:{maxLength:e.maxLength,placeholder:"请输入部门/姓名/手机号"},on:{search:e.handleSearch},model:{value:e.keyword,callback:function(t){e.keyword="string"==typeof t?t.trim():t},expression:"keyword"}},[i("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(" 搜索")])],1),e._v(" "),i("div",{staticClass:"org-list-wrap"},[e.dataLoading?i("a-spin",{staticClass:"load-data-loading"},[i("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",spin:"",type:"loading"},slot:"indicator"})],1):!e.dataLoading&&e.treeData.length?[e.rootData.name?i("h3",{staticClass:"root-name",class:{"root-point":e.rootIsSelect},on:{click:function(t){e.rootIsSelect&&e.handleSelect("root")}}},[i("icon-font-box",{staticClass:"org-icon",attrs:{color:"#AFB7C3",height:"40",size:"40",type:"iconzuzhijiagou"}}),e._v("\n            "+e._s(e.rootData.name)+"\n            "),e.selectedList[e.rootData.selectId]?i("icon-font-box",{staticClass:"selected-icon",attrs:{color:"#dddddd",height:"15",size:"15",type:"icon_check"}}):e._e()],1):e._e(),e._v(" "),i("div",{staticClass:"org-tree-wrap",class:{"is-user":"user"===e.loadDataType}},[e.treeData.length?i("a-tree",e._b({attrs:{checkStrictly:!e.point,checkable:e.point,"default-expand-all":e.defaultExpandAll,"load-data":e.isSync?e.getTree:null,"replace-fields":e.treeReplaceFields,"tree-data":e.treeData,"block-node":""},on:{select:e.handleSelect},scopedSlots:e._u([{key:"custom",fn:function(t){return[i("div",{staticClass:"tree-item-wrap"},[t.dataRef[e.baseReplaceFields.user]?e._e():i("icon-font-box",{staticClass:"icon",attrs:{height:"15",size:"15",type:"icon_classification"}}),e._v(" "),"user"===e.loadDataType&&t.dataRef[e.baseReplaceFields.user]?i("h-image",{staticClass:"tree-h-image",attrs:{src:t.dataRef[e.baseReplaceFields.avatar]}},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{slot:"error",src:e.defaultAvatar,type:"picture"},slot:"error"})]):e._e(),e._v(" "),i("span",[e._v(e._s(t.dataRef.name))]),e._v(" "),e.selectedList[t.dataRef.selectId]?i("icon-font-box",{staticClass:"selected-icon",attrs:{color:"#dddddd",height:"15",size:"15",type:"icon_check"}}):e._e()],1)]}}],null,!1,2916022541),model:{value:e.treeModel,callback:function(t){e.treeModel=t},expression:"treeModel"}},"a-tree",e.treeExtAttrs,!1)):e._e()],1)]:e.dataLoading||e.treeData.length?e._e():i("empty")],2)],1),e._v(" "),i("div",{staticClass:"cont-r"},[e._t("contentRight",[e.selectListKeys.length?i("ul",{staticClass:"selected-list"},[e.point?[e._l(e.selectedList,(function(t,n){return[e.getPoint(t)?i("li",{key:n},[t[e.baseReplaceFields.user]?i("h-image",{staticClass:"tree-h-image",attrs:{src:t[e.baseReplaceFields.avatar],alt:""}},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{slot:"error",src:e.defaultAvatar,type:"picture"},slot:"error"})]):e._e(),e._v(" "),i("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),i("a-icon",{staticClass:"close-icon",attrs:{type:"close"},on:{click:function(i){return e.handleDeleteSelected(t)}}})],1):e._e()]}))]:e._l(e.selectedList,(function(t,n){return i("li",{key:n},[t[e.baseReplaceFields.user]?i("h-image",{staticClass:"tree-h-image",attrs:{src:t[e.baseReplaceFields.avatar],alt:""}},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{slot:"error",src:e.defaultAvatar,type:"picture"},slot:"error"})]):e._e(),e._v(" "),i("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),i("a-icon",{staticClass:"close-icon",attrs:{type:"close"},on:{click:function(i){return e.handleDeleteSelected(t)}}})],1)}))],2):i("p",{staticClass:"tip"},[e._v("\n          "+e._s("mix"===e.dataType?"请在左侧选择部门或职员":"user"===e.dataType?"请在左侧选择职员":"请在左侧选择部门")+"\n        ")])])],2)]),e._v(" "),e.changeBtn?i("div",{staticClass:"footer"},[e._t("footer",[i("a-radio-group",{attrs:{name:"radioGroup"},model:{value:e.controlType,callback:function(t){e.controlType=t},expression:"controlType"}},[i("a-radio",{attrs:{value:"replace"}},[e._v("替换")]),e._v(" "),i("a-radio",{attrs:{value:"append"}},[e._v("追加")])],1)])],2):e._e()])};Me._withStripped=!0;const He=ne({render:Me,staticRenderFns:[]},void 0,Oe,void 0,!1,void 0,!1,void 0,void 0,void 0);He.install=function(e){e.component(He.name,He)};const je={name:"SelectUser",components:{SelectUserContent:He},props:{maxLength:{type:Number,default:100},value:{type:Array,default:function(){return[]}},visible:{type:Boolean,default:!1},defaultExpandAll:{type:Boolean,default:!1},dataSource:{type:Array,default:function(){return[]}},loadDataType:{type:String,default:"mix"},loadData:{type:Function,default:null},useBuilt:{type:Boolean,default:!1},defaultBusinessId:{type:[Number,String],default:""},search:{type:String,default:"local"},multiple:{type:Boolean,default:!1},beforeSelect:{type:Function,default:function(){return!0}},beforeClose:{type:Function,default:null},ok:{type:Function,default:null},title:{type:String,default:"组织选择"},treeExtAttrs:{type:Object,default:function(){return{}}},replaceFields:{type:Object,default:function(){return{children:"childrens",title:"name",avatar:"avatar",department:"departmentId",user:"businessId"}}},changeBtn:{type:Boolean,default:!1},dataType:{type:String,default:"mix"},point:{type:Boolean,default:!1},onlyDept:{type:Boolean,default:!1},isSync:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0},height:{type:String,default:"354px"},valueTimely:{type:Boolean,default:!1},rootIsSelect:{type:Boolean,default:!1}},watch:{visible:{handler:function(e){var t=this;e&&this.$nextTick((function(){t.$refs.selectUserContent.create()}))},immediate:!0}},computed:{modalVisible:{set:function(e){return this.$emit("update:visible",e)},get:function(){return this.visible}},dialogValue:{set:function(e){return this.$emit("input",e)},get:function(){return this.value}}},data:function(){return{confirmLoading:!1}},methods:{handleOk:function(){var e=this;this.confirmLoading=!0;var t=this.$refs.selectUserContent.getData();this.beforeClose?this.beforeClose(t,this.handleCancel,(function(t){e.confirmLoading=t})):(this.dialogValue=t.selectedList,this.$emit("ok",t),this.handleCancel())},resetContent:function(){this.$refs.selectUserContent.resetContent()},handleCancel:function(){this.confirmLoading=!1,this.$emit("update:visible",!1)}}};var Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{staticClass:"select-biz-manager-wrap",attrs:{title:e.title,width:"816px","ok-text":"确定","cancel-text":"取消","confirm-loading":e.confirmLoading,visible:e.modalVisible,"mask-closable":!1},on:{ok:e.handleOk,cancel:e.handleCancel}},[i("SelectUserContent",{ref:"selectUserContent",attrs:{replace:e.replaceFields,defaultExpandAll:e.defaultExpandAll,dataSource:e.dataSource,loadDataType:e.loadDataType,loadData:e.loadData,search:e.search,multiple:e.multiple,beforeSelect:e.beforeSelect,treeExtAttrs:e.treeExtAttrs,replaceFields:e.replaceFields,changeBtn:e.changeBtn,dataType:e.dataType,point:e.point,onlyDept:e.onlyDept,isSync:e.isSync,immediate:e.immediate,loading:e.confirmLoading,height:e.height,valueTimely:e.valueTimely,useBuilt:e.useBuilt,defaultBusinessId:e.defaultBusinessId,maxLength:e.maxLength,rootIsSelect:e.rootIsSelect},on:{"update:loading":function(t){e.confirmLoading=t}},model:{value:e.dialogValue,callback:function(t){e.dialogValue=t},expression:"dialogValue"}})],1)};Pe._withStripped=!0;const Ne=ne({render:Pe,staticRenderFns:[]},void 0,je,void 0,!1,void 0,!1,void 0,void 0,void 0);return Ne.install=function(e){e.component(Ne.name,Ne)},Ne}))},"4df4":function(e,t,i){"use strict";var n=i("da84"),a=i("0366"),A=i("c65b"),o=i("7b0b"),r=i("9bdd"),s=i("e95a"),l=i("68ee"),c=i("07fa"),d=i("8418"),u=i("9a1f"),h=i("35a1"),f=n.Array;e.exports=function(e){var t=o(e),i=l(this),n=arguments.length,p=n>1?arguments[1]:void 0,m=void 0!==p;m&&(p=a(p,n>2?arguments[2]:void 0));var v,g,y,b,w,_,S=h(t),L=0;if(!S||this==f&&s(S))for(v=c(t),g=i?new this(v):f(v);v>L;L++)_=m?p(t[L],L):t[L],d(g,L,_);else for(b=u(t,S),w=b.next,g=i?new this:[];!(y=A(w,b)).done;L++)_=m?r(b,p,[y.value,L],!0):y.value,d(g,L,_);return g.length=L,g}},"7ad7":function(e,t,i){"use strict";i("afae")},"7b4a":function(e,t,i){!function(t,n){e.exports=n(i("b0c0"),i("a9e3"),i("b64b"),i("d3b7"),i("99af"),i("ac1f"),i("841c"),i("caad"),i("2532"),i("159b"),i("a434"),i("a630"),i("3ca3"),i("cfba"),i("04b3"),i("466d"),i("4de4"),i("07ac"),i("b680"),i("2b0e"),i("5319"),i("1276"),i("fb6a"),i("fd87"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("50f6"))}(0,(function(e,t,i,n,a,A,o,r,s,l,c,d,u,h,f,p,m,v,g,y,b,w,_,S,L,x,k,C,I,D,B,T,R,F,z,E,O,M,H,j,P,N,$,V,W,q,X,U){"use strict";function Y(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var G=Y(h),Q=Y(y),K=Y(U);function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ee(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?J(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ie(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?te(Object(i),!0).forEach((function(t){Z(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ne(e,t,i,n,a,A,o,r,s,l){"boolean"!=typeof o&&(s=r,r=o,o=!1);const c="function"==typeof i?i.options:i;let d;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,a&&(c.functional=!0)),n&&(c._scopeId=n),A?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(A)},c._ssrRegister=d):t&&(d=o?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),d)if(c.functional){const e=c.render;c.render=function(t,i){return d.call(i),e(t,i)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,d):[d]}return i}const ae={name:"IconFontBox",props:{type:{type:String,default:"iconqiyeweixin_021"},height:{type:[String,Number],default:""},color:{type:String,default:""},size:{type:[String,Number],default:"20"},display:{type:String,default:"inline-block"},overflow:{type:String,default:"hidden"}},components:{IconFont:G.default},methods:{handleClick:function(){this.$emit("click")}}};var Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"icon-font-wrap",style:{height:"auto"===e.height?"auto":e.height?e.height+"px":e.size+"px",color:e.color,fontSize:e.size+"px",display:e.display,overflow:e.overflow},on:{click:e.handleClick}},[i("icon-font",{staticClass:"icon-font-box",attrs:{type:e.type}})],1)};Ae._withStripped=!0;const oe=ne({render:Ae,staticRenderFns:[]},void 0,ae,void 0,!1,void 0,!1,void 0,void 0,void 0),re={name:"Empty",components:{empty:f.empty,loading:f.loading},props:{text:{type:String,default:""},loading:{type:Boolean,default:!1}}};var se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"empty"},[i("div",{staticClass:"icon"},[e._t("icon",[e.loading?i("loading",{staticClass:"empty-icon"}):i("empty",{staticClass:"empty-icon"})])],2),e._v(" "),i("h3",{staticClass:"text"},[e._t("default",[e._v(e._s(e.text?e.text:e.loading?"加载中……":"暂无搜索结果"))])],2)])};se._withStripped=!0;const le=ne({render:se,staticRenderFns:[]},void 0,re,void 0,!1,void 0,!1,void 0,void 0,void 0);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}var de=Q.default.prototype.$isServer,ue=!de&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)},he=!de&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)};function fe(e){var t=!1;return function(){for(var i=this,n=arguments.length,a=new Array(n),A=0;A<n;A++)a[A]=arguments[A];t||(t=!0,window.requestAnimationFrame((function(){e.apply(i,a),t=!1})))}}"object"!==("undefined"==typeof Int8Array?"undefined":ce(Int8Array))&&(Q.default.prototype.$isServer||document.childNodes),Q.default.use(K.default);var pe={CONTAIN:{name:"contain",icon:"fullscreen"},ORIGINAL:{name:"original",icon:"fullscreen-exit"}},me=!Q.default.prototype.$isServer&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel",ve={name:"hImageViewer",props:{host:{type:String},urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},showDown:{type:Boolean,default:!0},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},prefix:{type:[Boolean,String],default:!0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!0,mode:pe.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},baseUrlList:[]}},computed:{picList:function(){var e=this;return this.urlList.filter((function(t,i){return i===e.index}))},isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.baseUrlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,i=e.deg,n=e.offsetX,a=e.offsetY,A=e.enableTransition,o={transform:"scale(".concat(t,") rotate(").concat(i,"deg)"),transition:A?"transform .3s":"","margin-left":"".concat(n,"px"),"margin-top":"".concat(a,"px")};return this.mode===pe.CONTAIN&&(o.maxWidth=o.maxHeight="100%"),o}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(){var e=this;this.$nextTick((function(){e.$refs.img[0].complete||(e.loading=!0)}))},urlList:{handler:function(){this.exchangeImage()},deep:!0}},methods:{exchangeImage:function(){var e=this.prefix,t=this.baseUrlList,i="";"string"==typeof e?i=e:e&&(i=this.host);for(var n=0;n<this.urlList.length;n++){var a=this.urlList[n];if(/(http|https):\/\//.test(a))t.push(a);else{var A=a.indexOf("/")>0?"/":"";t.push("".concat(i).concat(A?"/":"").concat(a))}}},hide:function(){this.deviceSupportUninstall(),this.onClose()},download:function(){this.$emit("download",this.currentImg)},deviceSupportInstall:function(){var e=this;this._keyDownHandler=fe((function(t){switch(t.keyCode){case 27:e.hide();break;case 32:e.toggleMode();break;case 37:e.prev();break;case 38:e.handleActions("zoomIn");break;case 39:e.next();break;case 40:e.handleActions("zoomOut")}})),this._mouseWheelHandler=fe((function(t){(t.wheelDelta?t.wheelDelta:-t.detail)>0?e.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):e.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})})),ue(document,"keydown",this._keyDownHandler),ue(document,me,this._mouseWheelHandler)},deviceSupportUninstall:function(){he(document,"keydown",this._keyDownHandler),he(document,me,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown:function(e){var t=this;if(!this.loading&&0===e.button){var i=this.transform,n=i.offsetX,a=i.offsetY,A=e.pageX,o=e.pageY;this._dragHandler=fe((function(e){t.transform.offsetX=n+e.pageX-A,t.transform.offsetY=a+e.pageY-o})),ue(document,"mousemove",this._dragHandler),ue(document,"mouseup",(function(){he(document,"mousemove",t._dragHandler)})),e.preventDefault()}},handleMaskClick:function(){this.maskClosable&&this.hide()},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var e=Object.keys(pe),t=(Object.values(pe).indexOf(this.mode)+1)%e.length;this.mode=pe[e[t]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var e=this.urlList.length;this.index=(this.index-1+e)%e}},next:function(){if(!this.isLast||this.infinite){var e=this.urlList.length;this.index=(this.index+1)%e}},handleActions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var i=ie({zoomRate:.2,rotateDeg:90,enableTransition:!0},t),n=i.zoomRate,a=i.rotateDeg,A=i.enableTransition,o=this.transform;switch(e){case"zoomOut":o.scale>.2&&(o.scale=parseFloat((o.scale-n).toFixed(3)));break;case"zoomIn":o.scale=parseFloat((o.scale+n).toFixed(3));break;case"clocelise":o.deg+=a;break;case"anticlocelise":o.deg-=a}o.enableTransition=A}}},mounted:function(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["h-image-viewer__wrapper"].focus(),this.exchangeImage()},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}};const ge=ve;var ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"viewer-fade"}},[i("div",{ref:"h-image-viewer__wrapper",staticClass:"h-image-viewer__wrapper",style:{"z-index":e.zIndex},attrs:{tabindex:"-1"}},[i("div",{staticClass:"h-image-viewer__mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleMaskClick(t)}}}),e._v(" "),i("span",{staticClass:"h-image-viewer__btn h-image-viewer__close",on:{click:e.hide}},[i("a-icon",{attrs:{type:"close"}})],1),e._v(" "),e.isSingle?e._e():[i("span",{staticClass:"h-image-viewer__btn h-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[i("a-icon",{attrs:{type:"arrow-left"}})],1),e._v(" "),i("span",{staticClass:"h-image-viewer__btn h-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[i("a-icon",{attrs:{type:"arrow-right"}})],1)],e._v(" "),i("div",{staticClass:"h-image-viewer__btn h-image-viewer__actions"},[i("div",{staticClass:"h-image-viewer__actions__inner"},[i("a-icon",{attrs:{type:"zoom-out"},on:{click:function(t){return e.handleActions("zoomOut")}}}),e._v(" "),i("a-icon",{attrs:{type:"zoom-in"},on:{click:function(t){return e.handleActions("zoomIn")}}}),e._v(" "),i("a-icon",{attrs:{type:"undo"},on:{click:function(t){return e.handleActions("anticlocelise")}}}),e._v(" "),i("a-icon",{attrs:{type:"redo"},on:{click:function(t){return e.handleActions("clocelise")}}}),e._v(" "),e.showDown?i("a-icon",{attrs:{type:"download"},on:{click:e.download}}):e._e()],1)]),e._v(" "),i("div",{staticClass:"h-image-viewer__canvas"},[e._l(e.picList,(function(t){return i("img",{key:t,ref:"img",refInFor:!0,staticClass:"h-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}})})),e._v(" "),e.loading?i("a-icon",{staticClass:"h-image-loading",attrs:{type:"loading"}}):e._e()],2)],2)])};ye._withStripped=!0;const be=ne({render:ye,staticRenderFns:[]},void 0,ge,void 0,!1,void 0,!1,void 0,void 0,void 0);var we="",_e=function(){return void 0!==document.documentElement.style.objectFit},Se=function(e,t){return Le(e,null!==t||void 0!==t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)},Le=function(e,t){return(window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)[t]},xe="none",ke="contain",Ce="cover",Ie="fill",De="scale-down",Be={name:"HImage",inheritAttrs:!1,props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewBtn:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},showDown:{type:Boolean,default:!1},initial:{type:Number,default:0},prefix:{type:[Boolean,String],default:!0},popover:{type:Boolean,default:!1},popoverConfig:{type:Object,default:function(){return{placement:"right",trigger:"hover",width:"200px",height:"100%"}}}},components:{IconFontBox:oe,IconFont:G.default,ImageViewer:be},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1,imageSrc:""}},provide:function(){return{download:this.download}},computed:{imgHost:function(){return this.$config?this.$config.cosPrefix:""},imageStyle:function(){var e=this.fit;return window&&e?_e()?{"object-fit":e}:this.getImageStyle(e):{}},alignCenter:function(){return window&&!_e()&&this.fit!==Ie},preview:function(){var e=this.previewSrcList;return Array.isArray(e)&&e.length>0},imageIndex:function(){var e=this.initial||0,t=this.previewSrcList.indexOf(this.src);return t>=0&&(e=t),e}},watch:{src:function(){this.imageSrc=this.exchangeImage(),this.show&&this.loadImage()},show:function(e){e&&this.loadImage()}},mounted:function(){this.imageSrc=this.exchangeImage(),this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{exchangeImage:function(){var e=this.src,t=this.prefix;if(!e)return e;if(/(http|https):\/\//.test(e))return e;var i="";"string"==typeof t?i=t:t&&(i=this.imgHost);var n=e.indexOf("/")>0;return"".concat(i).concat(n?"/":"").concat(e)},handleLazyLoad:function(){var e,t,i,n;e=this.$el,t=this._scrollContainer,n=e.getBoundingClientRect(),i=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right&&(this.show=!0,this.removeLazyLoadListener())},download:function(e){this.$emit("download",e)},addLazyLoadListener:function(){var e,t,i=this.scrollContainer,n=null;(t=i)&&t.nodeType===Node.ELEMENT_NODE?n=i:(e=i,n="[object String]"===Object.prototype.toString.call(e)?document.querySelector(n):function(e){for(var t=e;t;){if([window,document,document.documentElement].includes(parent))return window;if(Se(t))return t;t=t.parentNode}return t}(this.$el)),n&&(this._scrollContainer=n,this._lazyLoadHandler=function(e,t,i,n){var a,A=!1,o=0;function r(){a&&clearTimeout(a)}function s(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=this,u=Date.now()-o;function h(){o=Date.now(),i.apply(d,l)}function f(){a=void 0}A||(n&&!a&&h(),r(),void 0===n&&u>e?h():!0!==t&&(a=setTimeout(n?f:h,void 0===n?e-u:e)))}return"boolean"!=typeof t&&(n=i,i=t,t=void 0),s.cancel=function(){r(),A=!0},s}(200,this.handleLazyLoad),n.addEventListener("scroll",this._lazyLoadHandler,!1),this.handleLazyLoad())},removeLazyLoadListener:function(){var e=this._scrollContainer,t=this._lazyLoadHandler;!this.$isServer&&e&&t&&(e.removeEventListener("scroll",t),this._scrollContainer=null,this._lazyLoadHandler=null)},loadImage:function(){var e=this;if(window){this.loading=!0,this.error=!1;var t=new Image;t.onload=function(i){return e.handleLoad(i,t)},t.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach((function(i){var n=e.$attrs[i];t.setAttribute(i,n)})),t.src=this.imageSrc}},handleLoad:function(e,t){this.imageWidth=t.width,this.imageHeight=t.height,this.loading=!1,this.error=!1},handleError:function(e){this.loading=!1,this.error=!0,this.$emit("error",e)},getImageStyle:function(e){var t=this.imageWidth,i=this.imageHeight,n=this.$el,a=n.clientWidth,A=n.clientHeight;if(!(t&&i&&a&&A))return{};var o=t/i<1;switch(e===De&&(e=t<a&&i<A?xe:ke),e){case xe:return{width:"auto",height:"auto"};case ke:return o?{width:"auto"}:{height:"auto"};case Ce:return o?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(e){!this.preview&&this.previewBtn||this.openViewer()},openViewer:function(){we=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0},closeViewer:function(){document.body.style.overflow=we,this.showViewer=!1}}};const Te=Be;var Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"a-image"},[e.loading?e._t("placeholder",[i("div",{staticClass:"a-image__placeholder"},[e._t("loading",[i("a-icon",{staticClass:"placeholder-icon",attrs:{type:"picture"}})])],2)]):e.error&&e.src?e._t("error",[i("div",{staticClass:"a-image__error"},[i("icon-font",{staticClass:"img-icon",attrs:{type:"icontupianjiazaishibai"}})],1)]):e.popover&&e.src?i("a-popover",{attrs:{placement:e.popoverConfig.placement,trigger:e.popoverConfig.trigger}},[i("template",{slot:"content"},[i("img",{style:{width:e.popoverConfig.width,height:e.popoverConfig.height},attrs:{src:e.src}})]),e._v(" "),i("img",e._g(e._b({staticClass:"a-image__inner",class:{"a-image__inner--center":e.alignCenter,"a-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.imageSrc},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners))],2):e.src?i("img",e._g(e._b({staticClass:"a-image__inner",class:{"a-image__inner--center":e.alignCenter,"a-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.imageSrc},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners)):e.src?e._e():e._t("none",[i("div",{staticClass:"a-image__none"},[i("icon-font",{staticClass:"img-icon",attrs:{type:"iconzanwutupian2"}})],1)]),e._v(" "),e.preview?[e.showViewer?i("image-viewer",{attrs:{"z-index":e.zIndex,"initial-index":e.imageIndex,"on-close":e.closeViewer,showDown:e.showDown,"url-list":e.previewSrcList,prefix:e.prefix,host:e.imgHost},on:{download:e.download}}):e._e()]:e._e()],2)};Re._withStripped=!0;const Fe=ne({render:Re,staticRenderFns:[]},void 0,Te,void 0,!1,void 0,!1,void 0,void 0,void 0);var ze="".concat("/gateway/saas-platform-service/api/v1/","department/get_corp_with_staffer/"),Ee={name:"SelectUserContent",components:{Empty:le,IconFontBox:oe,hImage:Fe},props:{maxLength:{type:Number,default:100},value:{type:Array,default:void 0},defaultExpandAll:{type:Boolean,default:!1},dataSource:{type:Array,default:function(){return[]}},loadDataType:{type:String,default:"mix"},loadData:{type:Function,default:null},useBuilt:{type:Boolean,default:!1},defaultBusinessId:{type:[Number,String],default:""},search:{type:String,default:"local"},multiple:{type:Boolean,default:!1},beforeSelect:{type:Function,default:function(){return!0}},beforeClose:{type:Function,default:null},ok:{type:Function,default:null},title:{type:String,default:"组织选择"},treeExtAttrs:{type:Object,default:function(){return{}}},replaceFields:{type:Object,default:function(){return{children:"childrens",title:"name",avatar:"avatar",department:"departmentId",user:"businessId"}}},changeBtn:{type:Boolean,default:!1},dataType:{type:String,default:"mix"},point:{type:Boolean,default:!1},onlyDept:{type:Boolean,default:!1},isSync:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0},height:{type:String,default:"354px"},valueTimely:{type:Boolean,default:!1},autoCreate:{type:Boolean,default:!1},rootIsSelect:{type:Boolean,default:!1}},computed:{selectListKeys:function(){return Object.keys(this.selectedList)}},data:function(){return{defaultAvatar:"data:image/jpeg;base64,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",dataLoading:!1,controlType:"replace",treeData:[],baseSource:[],treeReplaceFields:{children:"children",name:"name"},rootData:{name:""},expandedKeys:[],keyword:"",flatData:{},treeModel:[],selectedList:{},baseReplaceFields:{children:"children",title:"name",avatar:"avatar",department:"departmentId",user:"businessId"},request:null}},watch:{value:{handler:function(){this.value&&this.updateSelect()},deep:!0}},mounted:function(){this.useBuilt?this.request=this.requestData:this.request=this.loadData,this.autoCreate?this.create():this.updateSelect()},methods:{create:function(){this.keyword="",this.baseReplaceFields=ie({children:"childrens",title:"name",avatar:"avatar",department:"departmentId",user:"businessId"},this.replaceFields),this.immediate&&(this.treeData=[],this.baseSource=[],this.selectedList={},this.treeModel=[],this.flatData={}),this.updateSelect(),this.init(this.treeData.length)},init:function(e){e&&!this.immediate||(this.request?this.getTree("init"):(this.treeData=this.dataSource,this.baseSource=this.dataSource),this.treeReplaceFields=ie(ie({},this.baseReplaceFields),{},{key:"selectId"}))},requestData:function(e){var t=this;return new Promise((function(i,n){var a="string"==typeof e?t.defaultBusinessId:e.dataRef[t.baseReplaceFields.user]||e.dataRef[t.baseReplaceFields.department];t.$get(ze,{departmentId:a,keyword:"string"==typeof e?t.keyword:"",initLoad:"init"===e}).then((function(t){var n=t.data;i("init"===e||"string"==typeof e?[ie(ie({},n.topDepartmentDto),{},{children:[].concat(ee(n.stafferDtos),ee(n.departmentDtos))})]:[].concat(ee(n.stafferDtos),ee(n.departmentDtos)))})).catch((function(e){n(e)}))}))},getTree:function(e){var t=this;if(this.isSync||"init"===e)return this.isSync&&"init"!==e?new Promise((function(i){var n=e.dataRef.selectId;t.request(e).then((function(a){var A=t.point?t.treeModel:t.treeModel.checked;if(t.virtualKey(a,n),e.dataRef[t.baseReplaceFields.children]=a,t.treeData=ee(t.treeData),"local"===t.search&&(t.baseSource=ee(t.treeData)),t.point&&A.includes(n)){var o={};a.forEach((function(e){o[e.selectId]=ie({},e)})),A=A.concat(Object.keys(o)),t.selectedList=ie(ie({},t.selectedList),o)}i()})).finally((function(){t.dataLoading=!1}))})):(this.dataLoading=!0,void this.request(this.keyword||"init").then((function(e){t.virtualKey(e);var i=[];"user"!==t.loadDataType?(t.rootData=ie(ie({},e[0]),{},Z({},t.baseReplaceFields.children,null)),i=e[0][t.baseReplaceFields.children]):i=e,t.treeData=i||[],"local"===t.search&&(t.baseSource=i)})).finally((function(){t.dataLoading=!1,t.$emit("update:confirmLoading",{})})))},handleSearch:function(){"local"===this.search?this.treeData=this.keyword?this.listQuery(this.keyword,this.baseSource):this.getTree("init"):this.getTree("init")},listQuery:function(e,t){var i=this,n=[];return t.forEach((function(t){var a=[];t[i.baseReplaceFields.children]&&t[i.baseReplaceFields.children].length&&(a=i.listQuery(e,t[i.baseReplaceFields.children])),(t[i.baseReplaceFields.title].indexOf(e)>-1||a.length)&&n.push(ie(ie({},t),{},Z({},i.baseReplaceFields.children,a)))})),n},virtualKey:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function e(i,n){for(var a=0;a<i.length;a++){var A=i[a],o=A[t.baseReplaceFields.user];A.selectId=o?A[t.baseReplaceFields.user]:A[t.baseReplaceFields.department],A.isLeaf=!!o,A.scopedSlots={title:"custom"},A.treeParentId=n,t.onlyDept&&o&&(i.splice(a,1),a--),A[t.baseReplaceFields.children]&&A[t.baseReplaceFields.children].length&&e(A[t.baseReplaceFields.children],A.selectId),t.point&&(t.flatData[A.selectId]=A)}};n(e,i)},handleSelect:function(e,t){var i=this,n=t&&t.node,a="root"===e?this.rootData:t.node.dataRef,A=a[this.baseReplaceFields.user],o=this.beforeSelect(t),r=a.selectId,s=this.selectedList[r],l=null;if(n&&Array.from(n.$el.children).forEach((function(e){/ant-tree-checkbox/.test(e.className)&&(l=e)})),l&&l.click(),this.point)this.$nextTick((function(){var e={};(i.point?i.treeModel:i.treeModel.checked).forEach((function(t){e[t]=i.flatData[t]})),i.selectedList=e}));else{if("root"!==e&&("dept"===this.dataType&&A||"user"===this.dataType&&!A))return;if(this.multiple)if(o&&!s)this.selectedList=ie(ie({},this.selectedList),{},Z({},r,a));else{var c=this.selectedList;delete c[r],this.selectedList=ie({},c)}else if(o&&!s)this.selectedList=Z({},r,a);else{var d=this.selectedList;delete d[r],this.selectedList=ie({},d)}}if(this.valueTimely&&this.value){var u=this.emit();this.$emit("input",u)}},handleDeleteSelected:function(e){var t=this.selectedList;if(delete t[e.selectId],this.selectedList=ie({},t),this.point?this.treeModel=Object.keys(t):this.treeModel.checked=Object.keys(t),this.valueTimely&&this.value){var i=this.emit();this.$emit("input",i)}},resetContent:function(){this.treeModel=[],this.selectedList=[],this.controlType="replace",this.keyword=""},getPoint:function(e){return console.log(e),!this.selectedList[e.treeParentId]},getData:function(){return{selectedList:this.emit(),keyword:this.keyword,controlType:this.controlType}},emit:function(){var e=[];for(var t in this.selectedList){var i=this.selectedList[t];this.point?this.selectedList[i.treeParentId]||e.push(i):e.push(this.selectedList[t])}return this.$emit("change",e,this.selectedList),e},updateSelect:function(){var e=this;if(this.value){var t={};this.value.forEach((function(i){t[i[e.baseReplaceFields.user]||i[e.baseReplaceFields.department]]=ie(ie({},i),{},{selectId:i[e.baseReplaceFields.user]||i[e.baseReplaceFields.department]})})),this.selectedList=ie({},t)}}}};const Oe=Ee;var Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"select-user-content"},[i("div",{staticClass:"content",style:{height:e.height}},[i("div",{staticClass:"cont-l"},[i("a-input-search",{attrs:{maxLength:e.maxLength,placeholder:"请输入部门/姓名/手机号"},on:{search:e.handleSearch},model:{value:e.keyword,callback:function(t){e.keyword="string"==typeof t?t.trim():t},expression:"keyword"}},[i("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(" 搜索")])],1),e._v(" "),i("div",{staticClass:"org-list-wrap"},[e.dataLoading?i("a-spin",{staticClass:"load-data-loading"},[i("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",spin:"",type:"loading"},slot:"indicator"})],1):!e.dataLoading&&e.treeData.length?[e.rootData.name?i("h3",{staticClass:"root-name",class:{"root-point":e.rootIsSelect},on:{click:function(t){e.rootIsSelect&&e.handleSelect("root")}}},[i("icon-font-box",{staticClass:"org-icon",attrs:{color:"#AFB7C3",height:"40",size:"40",type:"iconzuzhijiagou"}}),e._v("\n            "+e._s(e.rootData.name)+"\n            "),e.selectedList[e.rootData.selectId]?i("icon-font-box",{staticClass:"selected-icon",attrs:{color:"#dddddd",height:"15",size:"15",type:"icon_check"}}):e._e()],1):e._e(),e._v(" "),i("div",{staticClass:"org-tree-wrap",class:{"is-user":"user"===e.loadDataType}},[e.treeData.length?i("a-tree",e._b({attrs:{checkStrictly:!e.point,checkable:e.point,"default-expand-all":e.defaultExpandAll,"load-data":e.isSync?e.getTree:null,"replace-fields":e.treeReplaceFields,"tree-data":e.treeData,"block-node":""},on:{select:e.handleSelect},scopedSlots:e._u([{key:"custom",fn:function(t){return[i("div",{staticClass:"tree-item-wrap"},[t.dataRef[e.baseReplaceFields.user]?e._e():i("icon-font-box",{staticClass:"icon",attrs:{height:"15",size:"15",type:"icon_classification"}}),e._v(" "),"user"===e.loadDataType&&t.dataRef[e.baseReplaceFields.user]?i("h-image",{staticClass:"tree-h-image",attrs:{src:t.dataRef[e.baseReplaceFields.avatar]}},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{slot:"error",src:e.defaultAvatar,type:"picture"},slot:"error"})]):e._e(),e._v(" "),i("span",[e._v(e._s(t.dataRef.name))]),e._v(" "),e.selectedList[t.dataRef.selectId]?i("icon-font-box",{staticClass:"selected-icon",attrs:{color:"#dddddd",height:"15",size:"15",type:"icon_check"}}):e._e()],1)]}}],null,!1,2916022541),model:{value:e.treeModel,callback:function(t){e.treeModel=t},expression:"treeModel"}},"a-tree",e.treeExtAttrs,!1)):e._e()],1)]:e.dataLoading||e.treeData.length?e._e():i("empty")],2)],1),e._v(" "),i("div",{staticClass:"cont-r"},[e._t("contentRight",[e.selectListKeys.length?i("ul",{staticClass:"selected-list"},[e.point?[e._l(e.selectedList,(function(t,n){return[e.getPoint(t)?i("li",{key:n},[t[e.baseReplaceFields.user]?i("h-image",{staticClass:"tree-h-image",attrs:{src:t[e.baseReplaceFields.avatar],alt:""}},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{slot:"error",src:e.defaultAvatar,type:"picture"},slot:"error"})]):e._e(),e._v(" "),i("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),i("a-icon",{staticClass:"close-icon",attrs:{type:"close"},on:{click:function(i){return e.handleDeleteSelected(t)}}})],1):e._e()]}))]:e._l(e.selectedList,(function(t,n){return i("li",{key:n},[t[e.baseReplaceFields.user]?i("h-image",{staticClass:"tree-h-image",attrs:{src:t[e.baseReplaceFields.avatar],alt:""}},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{slot:"error",src:e.defaultAvatar,type:"picture"},slot:"error"})]):e._e(),e._v(" "),i("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),i("a-icon",{staticClass:"close-icon",attrs:{type:"close"},on:{click:function(i){return e.handleDeleteSelected(t)}}})],1)}))],2):i("p",{staticClass:"tip"},[e._v("\n          "+e._s("mix"===e.dataType?"请在左侧选择部门或职员":"user"===e.dataType?"请在左侧选择职员":"请在左侧选择部门")+"\n        ")])])],2)]),e._v(" "),e.changeBtn?i("div",{staticClass:"footer"},[e._t("footer",[i("a-radio-group",{attrs:{name:"radioGroup"},model:{value:e.controlType,callback:function(t){e.controlType=t},expression:"controlType"}},[i("a-radio",{attrs:{value:"replace"}},[e._v("替换")]),e._v(" "),i("a-radio",{attrs:{value:"append"}},[e._v("追加")])],1)])],2):e._e()])};Me._withStripped=!0;const He=ne({render:Me,staticRenderFns:[]},void 0,Oe,void 0,!1,void 0,!1,void 0,void 0,void 0);return He.install=function(e){e.component(He.name,He)},He}))},"841c":function(e,t,i){"use strict";var n=i("c65b"),a=i("d784"),A=i("825a"),o=i("1d80"),r=i("129f"),s=i("577e"),l=i("dc4a"),c=i("14c3");a("search",(function(e,t,i){return[function(t){var i=o(this),a=void 0==t?void 0:l(t,e);return a?n(a,t,i):new RegExp(t)[e](s(i))},function(e){var n=A(this),a=s(e),o=i(t,n,a);if(o.done)return o.value;var l=n.lastIndex;r(l,0)||(n.lastIndex=0);var d=c(n,a);return r(n.lastIndex,l)||(n.lastIndex=l),null===d?-1:d.index}]}))},"9bdd":function(e,t,i){var n=i("825a"),a=i("2a62");e.exports=function(e,t,i,A){try{return A?t(n(i)[0],i[1]):t(i)}catch(o){a(e,"throw",o)}}},a630:function(e,t,i){var n=i("23e7"),a=i("4df4"),A=i("1c7e"),o=!A((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:a})},afae:function(e,t,i){},e08b:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-button",{on:{click:function(t){e.visible=!0}}},[e._v("打开弹窗选择")]),i("a-card",{attrs:{title:"弹窗渲染的数据"}},e._l(e.dialogSelectValue,(function(t,n){return i("div",{key:n},[e._v(e._s(n)+"===="+e._s(t.name))])})),0),i("a-divider",[e._v("指掌天下")]),i("a-card",{attrs:{title:"下面的选择框渲染的数据"}},e._l(e.selectValue,(function(t,n){return i("div",{key:n},[e._v(e._s(n)+"===="+e._s(t.name))])})),0),i("div",[e._v("===================以下是 content 单独调用=======================")]),i("select-user-content",{ref:"selectUserContent",attrs:{autoCreate:"",valueTimely:"",multiple:"","is-sync":"",defaultBusinessId:"70441443569377281",height:"500px",useBuilt:!0,loadData:e.loadData,replaceFields:{children:"children",user:"stafferId",department:"businessId"}},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),i("select-user",{staticClass:"select-user",attrs:{useBuilt:"",loadDataType:"user",defaultBusinessId:"70441443569377284","is-sync":"",replaceFields:{children:"children",user:"stafferId",department:"businessId"},visible:e.visible,dataType:"user"},on:{change:e.handleChange,ok:e.handleOk,"update:visible":function(t){e.visible=t}},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}})],1)},a=[],A=i("53ca"),o=i("7b4a"),r=i.n(o),s=i("2bfc"),l=i.n(s),c=(i("d3b7"),{name:"SelectUsers",components:{SelectUser:l.a,SelectUserContent:r.a},data:function(){return{loadData:null,visible:!1,dialogSelectValue:[],selectValue:[{stafferId:"70253485664059392",isLocked:null,isDismiss:null,leaderName:null,isAdmin:0,stafferNo:"",name:"吴冬梅",entryDate:1629961893988,mobile:"17780073413",email:"",duty:"",leaderId:null,idCard:"",dutyLevel:"",gender:1,loginRange:null,avatar:"http://wework.qpic.cn/bizmail/Y4iclIZKPR5m0iapuVtGicicCVmbpbysicdUvwoGOTcmtjrcxxHEa3WkCmg/0",selectId:"70253485664059392",isLeaf:!0,scopedSlots:{title:"custom"},treeParentId:"70253485584367616"},{stafferId:"70254434382069760",isLocked:null,isDismiss:null,leaderName:null,isAdmin:0,stafferNo:"",name:"舒(*￣︶￣)子栋^_^&&……",entryDate:1629961893988,mobile:"18080080361",email:"",duty:"",leaderId:null,idCard:"",dutyLevel:"",gender:1,loginRange:null,avatar:"https://rescdn.qqmail.com/node/wwmng/wwmng/style/images/independent/DefaultAvatar$73ba92b5.png",selectId:"70254434382069760",isLeaf:!0,scopedSlots:{title:"custom"},treeParentId:"70253485584367616"}]}},created:function(){this.handleAddEmps()},methods:{handleOk:function(e,t){console.log(e),this.$forceUpdate()},handleChange:function(e,t){console.log(e)},handleAddEmps:function(e){this.loadData=function(t){return console.log(Object(A["a"])(t)),new Promise((function(i,n){var a=Math.floor(10*Math.random()+1),A=function(i){for(var n=[],a=0;a<i;a++){var A="".concat(Math.floor(1e12*Math.random())),o=Math.floor(10*Math.random())%2;o?n.push({corpId:10001,departmentId:A,parentId:e&&e.parentId||0,level:e&&e.level+2||1,name:"第".concat(Math.floor(1e5*Math.random()),"号研究所")}):n.unshift({name:"第".concat(Math.floor(1e5*Math.random()),"号指掌人"),businessId:A,avatar:"https://t7.baidu.com/it/u=1595072465,3644073269&fm=193&f=GIF"})}var r={corpId:10001,departmentId:"".concat(Math.floor(1e12*Math.random())),parentId:0,level:e&&e.level||1,name:"1部",children:n};return"string"===typeof t?[r]:n};setTimeout((function(){var e=A(a);console.log(e),i(e)}),1e3)}))}}}}),d=c,u=(i("7ad7"),i("2877")),h=Object(u["a"])(d,n,a,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-479547df.edfc6dd1.js.map