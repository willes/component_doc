(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2046ff72"],{"90fe":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("draggable-table",{attrs:{replaceFields:{key:"key"},topFirstLine:"","data-source":e.data,columns:e.columns},on:{draggable:e.handleDraggable},scopedSlots:e._u([{key:"name",fn:function(t){return n("a",{},[e._v(e._s(t))])}},{key:"tags",fn:function(t){return n("span",{},e._l(t,(function(t){return n("a-tag",{key:t,attrs:{color:"loser"===t?"volcano":t.length>5?"geekblue":"green"}},[e._v(" "+e._s(t.toUpperCase())+" ")])})),1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",[e._v("Invite ä¸€ "+e._s(r.name))]),n("a-divider",{attrs:{type:"vertical"}}),n("a",[e._v("Delete")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{staticClass:"ant-dropdown-link"},[e._v(" More actions "),n("a-icon",{attrs:{type:"down"}})],1)],1)}}])},[n("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[n("a-icon",{attrs:{type:"smile-o"}}),e._v(" Name")],1)])],1)},o=[],a=n("b9ee"),i=n.n(a),s=[{dataIndex:"name",key:"name",slots:{title:"customTitle"},scopedSlots:{customRender:"name"}},{title:"Age",dataIndex:"age",key:"age"},{title:"Address",dataIndex:"address",key:"address"},{title:"Tags",key:"tags",dataIndex:"tags",scopedSlots:{customRender:"tags"}},{title:"Action",key:"action",scopedSlots:{customRender:"action"}}],l=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"]},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",tags:["loser"]},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",tags:["cool","teacher"]}],d={name:"DraggableTables",components:{DraggableTable:i.a},data:function(){return{data:l,columns:s}},created:function(){console.log(this)},methods:{handleDraggable:function(e,t){console.log(e,t),this.data=e.data}}},c=d,u=n("2877"),g=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=g.exports},b0c0:function(e,t,n){var r=n("83ab"),o=n("5e77").EXISTS,a=n("e330"),i=n("9bf2").f,s=Function.prototype,l=a(s.toString),d=/^\s*function ([^ (]*)/,c=a(d.exec),u="name";r&&!o&&i(s,u,{configurable:!0,get:function(){try{return c(d,l(this))[1]}catch(e){return""}}})},b9ee:function(e,t,n){!function(t,r){e.exports=r(n("b0c0"),n("4de4"),n("159b"),n("a434"),n("7db0"),n("fb19"))}(0,(function(e,t,n,r,o,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=i(a);function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=["style"],f=["key"],p={name:"DraggableTable",components:{VueDraggableResizable:s.default},props:{mixins:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isWidth:{type:Boolean,default:!0},replaceFields:{type:Object,default:function(){return{key:"businessId",dataIndex:"dataIndex"}}},dataIndex:{type:Boolean,default:!1},indexArrow:{type:Boolean,default:!1},topFirstLine:{type:Boolean,default:!1}},data:function(){return{sourceObj:null,overObj:null,targetObj:null,originalIndex:-1,resizeableTitle:null,draggingState:{},columns:null,repFields:{key:"businessId",dataIndex:"dataIndex"},draggable:!1,setScopedSlot:{}}},mounted:function(){if(this.repFields=u(u({},this.repFields),this.replaceFields),this.dataIndex){var e=this.$createElement;this.setScopedSlot.dataIndex=function(t,n,r,o){return e("span",{},[])}}this.draggable=!this.columns.filter((function(e){return e.scopedSlots&&"customDrag"===e.scopedSlots.customRender})).length&&this.isDraggable,this.init()},methods:{init:function(){var e=this,t=this.$attrs.columns,n={};t.forEach((function(t){n[t[e.repFields.dataIndex]]=t.width})),this.draggingState=n},rowClass:function(e){return this.sourceObj?this.sourceObj[this.repFields.key]===e[this.repFields.key]?"target-line":"target-process":""},customRow:function(e,t){var n=this,r=this.$attrs.customRow?this.$attrs.customRow():{},o=r.style;return{options:l(r,g),style:u(u({},{cursor:this.draggable?"pointer":"default"}),o),on:{click:function(r){n.$emit("row-click",{record:e,index:t})},dbclick:function(r){n.$emit("row-dbClick",{record:e,index:t})},contextmenu:function(r){n.$emit("row-contextmenu",{record:e,index:t})},mouseover:function(e){(e||window.event).target.draggable=(!n.topFirstLine||0!==t)&&n.draggable},dragstart:function(r){(r||window.event).stopPropagation(),!n.draggable||n.topFirstLine&&0===t||(n.$emit("draggableStart"),n.sourceObj=e)},dragover:function(r){console.log(t,"dragover"),(r||window.event).preventDefault(),!n.draggable||n.topFirstLine&&0===t||(n.overObj?n.overObj[n.repFields.key]!==e[n.repFields.key]&&(n.overObj=e,n.overReset(e)):n.overObj=e)},drop:function(r){console.log(t,"drop"),(r||window.event).stopPropagation(),n.draggable&&(!n.topFirstLine||0!==t)&&n.sourceObj&&n.targetObj&&(n.targetObj=e,n.overReset(e,"finish"),n.result())}}}},overReset:function(e,t){var n=this;this.dataSource=this.$children[0].$children[0].getLocalData();var r=function(){for(var t,r,o=0;o<n.dataSource.length;o++)n.dataSource[o][n.repFields.key]===e[n.repFields.key]&&(t=o),n.dataSource[o][n.repFields.key]===n.sourceObj[n.repFields.key]&&(r=o);return{index:t,baseIndex:r}}();if(r.index!==r.baseIndex){-1===this.originalIndex&&(this.originalIndex=r.baseIndex);var o=this.dataSource.splice(r.baseIndex,1)[0];this.dataSource.splice(r.index,0,o),this.$emit("draggable",u(u({data:this.dataSource,source:this.sourceObj},r),{},{originalIndex:this.originalIndex}),"dragover")}else"finish"===t&&this.$emit("draggable",u(u({data:this.dataSource,source:this.sourceObj},r),{},{originalIndex:this.originalIndex}),"finish")},result:function(){this.originalIndex=-1,this.sourceObj=null,this.targetObj=null},resetColumns:function(){this.columns=this.$attrs.columns}},render:function(e){var t=this,n=this.$createElement;this.columns||(this.columns=this.$attrs.columns);var r={header:{cell:function(e,r,o){t.columns||(t.columns=t.$attrs.columns);var a=null,i=r.key,d=l(r,f),c=t.columns.find((function(e){return e[t.repFields.dataIndex]===i}));c&&!c.width&&c.minWidth&&(c.width=c.minWidth);var g=c&&c.slots&&c.slots.title;return c&&c.width&&t.isWidth?n("th",u(u(u({},r),d),{},{class:"".concat(r.class," resize-table-th"),key:i,directives:[{name:"ant-ref",value:function(e){return a=e}}],attrs:{width:c.width},on:{click:function(e){return e.stopPropagation()}}}),[t.$slots[g]||o,n(s.default,{class:"table-draggable-handle",ref:"tableDraggableHandle",props:{key:c.key,w:10,x:t.draggingState[i]||c.width,z:1,axis:"x",draggable:!0,resizable:!1},on:{dragging:function(e){if((c.minWidth||c.maxWidth)&&(c.minWidth&&!c.maxWidth||!c.minWidth&&c.maxWidth)){if(c.minWidth&&c.minWidth>e-3)return;if(c.maxWidth&&c.maxWidth<e+3)return}t.draggingState[i]=0,c.width=Math.max(e,1),t.$forceUpdate()},dragstop:function(){t.draggingState[i]=a.getBoundingClientRect().width,t.$refs.tableDraggableHandle.left=a.getBoundingClientRect().width},click:function(e){return e.stopPropagation()}}})]):e("th",u(u({},r),d),t.$slots[g]||o)}}},o=function(n,r,o,a){return t.$scopedSlots.customDrag?t.$scopedSlots.customDrag({data:n,index:o,column:a}):e("div",{attrs:{style:"display: inline-block;"}},[e("a-icon",{props:{type:"drag"}})])},a=u(u({},this.$attrs),this.$props);return n("a-table",{class:"table-draggable ".concat(this.draggable?"table-draggable-ing":""),scopedSlots:u(u({},this.$scopedSlots),{},{customDrag:function(){return n("div",{class:"drag-icon",slot:"customDrag",on:{mouseover:function(){t.draggable=!0},mouseenter:function(){t.draggable=!0},mouseout:function(){t.draggable=!1}}},[o.apply(void 0,arguments)])}},this.setScopedSlot),props:u(u({ref:"table-draggable"},a),{},{columns:this.columns,components:r,rowClassName:this.rowClass,customRow:this.customRow}),on:u({},this.$listeners)})}};function h(e,t,n,r,o,a,i,s,l,d){"boolean"!=typeof i&&(l=s,s=i,i=!1);const c="function"==typeof n?n.options:n;let u;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),r&&(c._scopeId=r),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=u):t&&(u=i?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(c.functional){const e=c.render;c.render=function(t,n){return u.call(n),e(t,n)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,u):[u]}return n}const b=h({},void 0,p,void 0,void 0,void 0,!1,void 0,void 0,void 0);return b.install=function(e){e.component(b.name,b)},b}))}}]);
//# sourceMappingURL=chunk-2046ff72.d6e7eb11.js.map