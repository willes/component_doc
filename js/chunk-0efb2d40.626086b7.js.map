{"version":3,"sources":["webpack:///./node_modules/@handday/components/lib/sync-address-book/index.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/addressBook/index.vue?0b07","webpack:///src/views/addressBook/index.vue","webpack:///./src/views/addressBook/index.vue?9565","webpack:///./src/views/addressBook/index.vue"],"names":["t","e","module","exports","this","s","n","o","i","a","r","c","d","l","options","u","render","staticRenderFns","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","beforeCreate","concat","name","props","visible","Boolean","auth","type","default","data","failReason","state","disabled","isShow","watch","methods","request","getExportFieldList","$post","customerMsg","exportAddressBook","timeout","syncAddressBook","authClickHandler","$emit","syncHandler","then","console","log","code","message","catch","finally","confirm","$createElement","_self","_c","staticClass","attrs","title","width","maskClosable","okText","on","ok","cancel","_v","_e","click","tip","size","wrapperClassName","slot","spin","status","_withStripped","undefined","install","component","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error","_vm","_h","$event","components","SyncAddressBook"],"mappings":"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","file":"js/chunk-0efb2d40.626086b7.js","sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(require(\"core-js/modules/es.function.name.js\"),require(\"core-js/modules/es.object.to-string.js\")):\"function\"==typeof define&&define.amd?define([\"core-js/modules/es.function.name.js\",\"core-js/modules/es.object.to-string.js\"],e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self)[\"sync-address-book\"]=e()}(this,(function(){\"use strict\";var t=\"/gateway/saas-platform-service/api/v1/\";function e(t,e,s,n,o,i,a,r,c,d){\"boolean\"!=typeof a&&(c=r,r=a,a=!1);const l=\"function\"==typeof s?s.options:s;let u;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),n&&(l._scopeId=n),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):e&&(u=a?function(t){e.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),u)if(l.functional){const t=l.render;l.render=function(e,s){return u.call(s),t(e,s)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,u):[u]}return s}const s={name:\"SyncAddressBook\",props:{visible:Boolean,auth:{type:Boolean,default:!1}},data:function(){return{failReason:\"\",state:-1,disabled:!1,isShow:!1}},watch:{visible:function(t){this.isShow=t,t&&(this.state=~~this.auth)}},methods:{request:function(){var e=this;return{getExportFieldList:function(s){return e.$post(\"\".concat(t,\"staffer/get_export_able_fields\"),s||{},{customerMsg:!0})},exportAddressBook:function(s){return e.$post(\"\".concat(t,\"staffer/export_list\"),s||{},{customerMsg:!0,timeout:12e4,\"Content-Type\":\"application/json\"})}}},syncAddressBook:function(e){return this.$post(\"\".concat(t,\"account/address_book/fullSync\"),e||{},{customerMsg:!0,timeout:12e4})},authClickHandler:function(){this.$emit(\"authClick\")},syncHandler:function(){var t=this;this.state=2,this.disabled=!0,this.syncAddressBook().then((function(e){console.log(e,\"res\"),\"SYS_0000\"===e.code&&e.data?(t.state=3,t.$emit(\"success\")):(t.state=4,t.failReason=e.message,t.$emit(\"fail\",e.message))})).catch((function(e){t.state=4,t.failReason=e.message||\"\",t.$emit(\"fail\",t.failReason)})).finally((function(){t.disabled=!1}))},confirm:function(){1===this.state||4===this.state?this.syncHandler():this.$emit(\"update:visible\",!1)}}};var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"a-modal\",{staticClass:\"sync-address-book\",attrs:{title:\"同步通讯录\",width:\"700px\",visible:t.isShow,maskClosable:!1,okText:4==t.state?\"重新同步\":\"确定\",\"ok-button-props\":{props:{disabled:t.disabled}}},on:{ok:t.confirm,cancel:function(e){return t.$emit(\"update:visible\",!1)}}},[s(\"div\",{staticClass:\"address-book-wrap\"},[0==t.state?s(\"div\",[t._v(\"\\n      当前还未授权企业微信通讯录权限，同步通讯录只能单向拉取企业微信通讯录中的员⼯信息。\"),s(\"br\"),t._v(\"\\n      拉取的信息如和指掌通讯录信息不一致，会⾃动更新为企业微信通讯录中数据。\"),s(\"br\"),t._v(\"\\n      拉取的信息包括:姓名、关注状态、部⻔、头像\"),s(\"br\"),t._v(\"\\n      如需将指掌通讯录中的信息上传同步到企业微信，请授权企业微信通讯录权限\\n      \"),t.auth?t._e():s(\"a-button\",{attrs:{type:\"link\"},on:{click:t.authClickHandler}},[t._v(\"立即授权\")])],1):1==t.state?s(\"div\",[t._v(\"\\n      通过同步通讯录，可将指掌天下通讯录和企业微信通讯录进⾏双向增量同步。\"),s(\"br\"),t._v(\"\\n      两个通讯录之间会⾃动增加双⽅互不存在的信息，如已存在会⾃动同步为企业微信通讯录⼀致。\"),s(\"br\"),t._v(\"\\n      同步内容包括：姓名、关注状态、部⻔、头像\\n    \")]):2==t.state?s(\"a-spin\",{attrs:{tip:\"通讯录同步中\",size:\"large\",wrapperClassName:\"loading-spin\"}},[s(\"a-icon\",{attrs:{slot:\"indicator\",type:\"loading\",spin:\"\"},slot:\"indicator\"})],1):3==t.state?s(\"a-result\",{attrs:{status:\"success\",title:\"同步成功\",\"sub-title\":\"\"}}):4==t.state?s(\"a-result\",{attrs:{title:\"同步失败\",\"sub-title\":t.failReason}}):t._e()],1)])};n._withStripped=!0;const o=e({render:n,staticRenderFns:[]},undefined,s,undefined,false,undefined,!1,void 0,void 0,void 0);return o.install=function(t){t.component(o.name,o)},o}));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"address-book\"},[_c('sync-address-book',{attrs:{\"visible\":_vm.visible,\"auth\":true},on:{\"update:visible\":function($event){_vm.visible=$event}}}),_c('a-button',{on:{\"click\":function($event){_vm.visible = true}}},[_vm._v(\"同步通讯录\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"address-book\">\r\n    <sync-address-book :visible.sync=\"visible\" :auth=\"true\" />\r\n    <a-button @click=\"visible = true\">同步通讯录</a-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { SyncAddressBook } from '@handday/components'\r\nexport default {\r\n  name: 'AddressBook',\r\n  components: {\r\n    SyncAddressBook\r\n  },\r\n  data () {\r\n    return {\r\n      visible: false\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=914582a0&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}