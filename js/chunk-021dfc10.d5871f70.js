(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-021dfc10"],{b0c0:function(e,t,n){var r=n("83ab"),o=n("5e77").EXISTS,i=n("e330"),a=n("9bf2").f,s=Function.prototype,l=i(s.toString),d=/^\s*function ([^ (]*)/,c=i(d.exec),u="name";r&&!o&&a(s,u,{configurable:!0,get:function(){try{return c(d,l(this))[1]}catch(e){return""}}})},b9ee:function(e,t,n){!function(t,r){e.exports=r(n("b0c0"),n("4de4"),n("159b"),n("a434"),n("7db0"),n("fb19"))}(0,(function(e,t,n,r,o,i){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(i);function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=["style"],f=["key"],p={name:"DraggableTable",components:{VueDraggableResizable:s.default},props:{mixins:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isWidth:{type:Boolean,default:!0},replaceFields:{type:Object,default:function(){return{key:"businessId",dataIndex:"dataIndex"}}},dataIndex:{type:Boolean,default:!1},indexArrow:{type:Boolean,default:!1},topFirstLine:{type:Boolean,default:!1}},data:function(){return{sourceObj:null,overObj:null,targetObj:null,originalIndex:-1,resizeableTitle:null,draggingState:{},columns:null,repFields:{key:"businessId",dataIndex:"dataIndex"},draggable:!1,setScopedSlot:{}}},mounted:function(){if(this.repFields=u(u({},this.repFields),this.replaceFields),this.dataIndex){var e=this.$createElement;this.setScopedSlot.dataIndex=function(t,n,r,o){return e("span",{},[])}}this.draggable=!this.columns.filter((function(e){return e.scopedSlots&&"customDrag"===e.scopedSlots.customRender})).length&&this.isDraggable,this.init()},methods:{init:function(){var e=this,t=this.$attrs.columns,n={};t.forEach((function(t){n[t[e.repFields.dataIndex]]=t.width})),this.draggingState=n},rowClass:function(e){return this.sourceObj?this.sourceObj[this.repFields.key]===e[this.repFields.key]?"target-line":"target-process":""},customRow:function(e,t){var n=this,r=this.$attrs.customRow?this.$attrs.customRow():{},o=r.style;return{options:l(r,g),style:u(u({},{cursor:this.draggable?"pointer":"default"}),o),on:{click:function(r){n.$emit("row-click",{record:e,index:t})},dbclick:function(r){n.$emit("row-dbClick",{record:e,index:t})},contextmenu:function(r){n.$emit("row-contextmenu",{record:e,index:t})},mouseover:function(e){(e||window.event).target.draggable=(!n.topFirstLine||0!==t)&&n.draggable},dragstart:function(r){(r||window.event).stopPropagation(),!n.draggable||n.topFirstLine&&0===t||(n.$emit("draggableStart"),n.sourceObj=e)},dragover:function(r){console.log(t,"dragover"),(r||window.event).preventDefault(),!n.draggable||n.topFirstLine&&0===t||(n.overObj?n.overObj[n.repFields.key]!==e[n.repFields.key]&&(n.overObj=e,n.overReset(e)):n.overObj=e)},drop:function(r){console.log(t,"drop"),(r||window.event).stopPropagation(),n.draggable&&(!n.topFirstLine||0!==t)&&n.sourceObj&&n.targetObj&&(n.targetObj=e,n.overReset(e,"finish"),n.result())}}}},overReset:function(e,t){var n=this;this.dataSource=this.$children[0].$children[0].getLocalData();var r=function(){for(var t,r,o=0;o<n.dataSource.length;o++)n.dataSource[o][n.repFields.key]===e[n.repFields.key]&&(t=o),n.dataSource[o][n.repFields.key]===n.sourceObj[n.repFields.key]&&(r=o);return{index:t,baseIndex:r}}();if(r.index!==r.baseIndex){-1===this.originalIndex&&(this.originalIndex=r.baseIndex);var o=this.dataSource.splice(r.baseIndex,1)[0];this.dataSource.splice(r.index,0,o),this.$emit("draggable",u(u({data:this.dataSource,source:this.sourceObj},r),{},{originalIndex:this.originalIndex}),"dragover")}else"finish"===t&&this.$emit("draggable",u(u({data:this.dataSource,source:this.sourceObj},r),{},{originalIndex:this.originalIndex}),"finish")},result:function(){this.originalIndex=-1,this.sourceObj=null,this.targetObj=null},resetColumns:function(){this.columns=this.$attrs.columns}},render:function(e){var t=this,n=this.$createElement;this.columns||(this.columns=this.$attrs.columns);var r={header:{cell:function(e,r,o){t.columns||(t.columns=t.$attrs.columns);var i=null,a=r.key,d=l(r,f),c=t.columns.find((function(e){return e[t.repFields.dataIndex]===a}));c&&!c.width&&c.minWidth&&(c.width=c.minWidth);var g=c&&c.slots&&c.slots.title;return c&&c.width&&t.isWidth?n("th",u(u(u({},r),d),{},{class:"".concat(r.class," resize-table-th"),key:a,directives:[{name:"ant-ref",value:function(e){return i=e}}],attrs:{width:c.width},on:{click:function(e){return e.stopPropagation()}}}),[t.$slots[g]||o,n(s.default,{class:"table-draggable-handle",ref:"tableDraggableHandle",props:{key:c.key,w:10,x:t.draggingState[a]||c.width,z:1,axis:"x",draggable:!0,resizable:!1},on:{dragging:function(e){if((c.minWidth||c.maxWidth)&&(c.minWidth&&!c.maxWidth||!c.minWidth&&c.maxWidth)){if(c.minWidth&&c.minWidth>e-3)return;if(c.maxWidth&&c.maxWidth<e+3)return}t.draggingState[a]=0,c.width=Math.max(e,1),t.$forceUpdate()},dragstop:function(){t.draggingState[a]=i.getBoundingClientRect().width,t.$refs.tableDraggableHandle.left=i.getBoundingClientRect().width},click:function(e){return e.stopPropagation()}}})]):e("th",u(u({},r),d),t.$slots[g]||o)}}},o=function(n,r,o,i){return t.$scopedSlots.customDrag?t.$scopedSlots.customDrag({data:n,index:o,column:i}):e("div",{attrs:{style:"display: inline-block;"}},[e("a-icon",{props:{type:"drag"}})])},i=u(u({},this.$attrs),this.$props);return n("a-table",{class:"table-draggable ".concat(this.draggable?"table-draggable-ing":""),scopedSlots:u(u({},this.$scopedSlots),{},{customDrag:function(){return n("div",{class:"drag-icon",slot:"customDrag",on:{mouseover:function(){t.draggable=!0},mouseenter:function(){t.draggable=!0},mouseout:function(){t.draggable=!1}}},[o.apply(void 0,arguments)])}},this.setScopedSlot),props:u(u({ref:"table-draggable"},i),{},{columns:this.columns,components:r,rowClassName:this.rowClass,customRow:this.customRow}),on:u({},this.$listeners)})}};function h(e,t,n,r,o,i,a,s,l,d){"boolean"!=typeof a&&(l=s,s=a,a=!1);const c="function"==typeof n?n.options:n;let u;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),r&&(c._scopeId=r),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=u):t&&(u=a?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(c.functional){const e=c.render;c.render=function(t,n){return u.call(n),e(t,n)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,u):[u]}return n}const b=h({},void 0,p,void 0,void 0,void 0,!1,void 0,void 0,void 0);return b.install=function(e){e.component(b.name,b)},b}))},e258:function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("draggable-table",{attrs:{"data-source":e.data,columns:e.columns,replaceFields:{key:"key"}},on:{draggable:e.handleDraggable},scopedSlots:e._u([{key:"customDrag",fn:function(t){return[e._v(" "+e._s(t.index)+" ")]}}])})],1)},o=[],i=n("b9ee"),a=n.n(i),s=[{title:"",width:100,scopedSlots:{customRender:"customDrag"}},{title:"Name",dataIndex:"name",width:200},{title:"Age",dataIndex:"age",width:200},{title:"Address",dataIndex:"address",width:200},{title:"operation",dataIndex:"operation",scopedSlots:{customRender:"operation"}}],l=[],d=0;d<46;d++)l.push({key:d,name:"Edward King ".concat(d),age:32,address:"London, Park Lane no. ".concat(d)});var c={name:"TableDraggables",data:function(){return{data:l,columns:s,isDraggable:!0}},components:{DraggableTable:a.a},methods:{handleDraggable:function(e,t){console.log(e,t),this.data=e.data}}},u=c,g=n("2877"),f=Object(g["a"])(u,r,o,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-021dfc10.d5871f70.js.map