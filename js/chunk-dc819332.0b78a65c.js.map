{"version":3,"sources":["webpack:///./src/views/map/index.vue?485f","webpack:///./src/views/map/index.vue?e13e","webpack:///src/views/map/index.vue","webpack:///./src/views/map/index.vue?5cbc","webpack:///./src/views/map/index.vue","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","zoom","on","handleInit","staticRenderFns","name","components","GlMap","methods","handleInit_","GLMap","map","console","log","e","debounces","clusterBubbleList","markerGeometries","marker","ClusterBubble","options","TMap","DOMOverlay","call","markerCluster","length","forEach","item","destroy","clusters","getClusters","geometries","position","center","content","clusterBubble","fitBounds","bounds","push","setGeometries","MultiMarker","styles","default","MarkerStyle","x","y","prototype","onInit","onDestroy","dom","removeEventListener","onClick","removeAllListeners","emit","createDOM","document","createElement","classList","add","innerText","style","cssText","bind","addEventListener","updateDOM","transform","window","component","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","undefined","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","callbackfn","arguments"],"mappings":"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","file":"js/chunk-dc819332.0b78a65c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('gl-map',{attrs:{\"searchInput\":false,\"config\":{\n  zoom: 5\n}},on:{\"init\":_vm.handleInit}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <gl-map @init=\"handleInit\" :searchInput=\"false\" :config=\"{\n      zoom: 5\n    }\"></gl-map>\n</template>\n\n<script>\nimport { GlMap } from '@handday/components'\nimport { debounce } from '@/utils/util'\nexport default {\n  name: 'Map',\n  components: {\n    GlMap\n  },\n  methods: {\n    handleInit_(GLMap) {\n      const debounces = debounce()\n      GLMap.map.on('tilesloaded', e => {\n        console.log('tilesloaded', e)\n      })\n      GLMap.map.on('click', e => {\n        console.log('click', e)\n      })\n      GLMap.map.on('idle', e => {\n        console.log('idle', e)\n      })\n      GLMap.map.on('zoom', e => {\n        debounces(() => {\n          console.log('zoom', e)\n        }, 500)\n      })\n      GLMap.map.on('scale_changed', e => {\n        console.log('scale_changed', e)\n      })\n      GLMap.map.on('bounds_changed', e => {\n        console.log('bounds_changed', e)\n      })\n    },\n    handleInit(GLMap) {\n      console.log(GLMap)\n      const markerCluster = GLMap.setMarkerCluster([\n        {\n          lat: 39.984104,\n          lng: 116.307503\n        },\n        {\n          lat: 39.994104,\n          lng: 116.307503\n        },\n        {\n          lat: 40.004104,\n          lng: 116.307503\n        },\n        {\n          lat: 40.104104,\n          lng: 116.307503\n        },\n        {\n          lat: 40.204104,\n          lng: 116.307503\n        }\n      ])\n\n      var clusterBubbleList = [];\n      var markerGeometries = [];\n      var marker = null;\n\n      // 监听聚合簇变化\n      markerCluster.on('cluster_changed', function (e) {\n        console.log('监听聚合簇变化')\n        // 销毁旧聚合簇生成的覆盖物\n        if (clusterBubbleList.length) {\n          clusterBubbleList.forEach(function (item) {\n            item.destroy();\n          })\n          clusterBubbleList = [];\n        }\n        markerGeometries = [];\n\n        // 根据新的聚合簇数组生成新的覆盖物和点标记图层\n        var clusters = markerCluster.getClusters();\n        clusters.forEach(function (item) {\n          if (item.geometries.length > 1) {\n            let clusterBubble = new ClusterBubble({\n              map: GLMap.map,\n              position: item.center,\n              content: item.geometries.length,\n            });\n            clusterBubble.on('click', () => {\n              GLMap.map.fitBounds(item.bounds);\n            });\n            clusterBubbleList.push(clusterBubble);\n          } else {\n            markerGeometries.push({\n              position: item.center\n            });\n          }\n        });\n\n        if (marker) {\n          // 已创建过点标记图层，直接更新数据\n          marker.setGeometries(markerGeometries);\n        } else {\n          // 创建点标记图层\n          marker = new TMap.MultiMarker({\n            map: GLMap.map,\n            styles: {\n              default: new TMap.MarkerStyle({\n                'width': 34,\n                'height': 42,\n                'anchor': {\n                  x: 17,\n                  y: 21,\n                },\n                'src': 'data:image/png;base64,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',\n              }),\n            },\n            geometries: markerGeometries\n          });\n        }\n      });\n\n      // 以下代码为基于DOMOverlay实现聚合点气泡\n      function ClusterBubble(options) {\n        TMap.DOMOverlay.call(this, options);\n      }\n\n      ClusterBubble.prototype = new TMap.DOMOverlay();\n\n      ClusterBubble.prototype.onInit = function (options) {\n        this.content = options.content;\n        this.position = options.position;\n      };\n\n      // 销毁时需要删除监听器\n      ClusterBubble.prototype.onDestroy = function() {\n        this.dom.removeEventListener('click', this.onClick);\n        this.removeAllListeners();\n      };\n\n      ClusterBubble.prototype.onClick = function() {\n        this.emit('click');\n      };\n\n      // 创建气泡DOM元素\n      ClusterBubble.prototype.createDOM = function () {\n        var dom = document.createElement('div');\n        dom.classList.add('clusterBubble');\n        dom.innerText = this.content;\n        dom.style.cssText = [\n          'width: ' + (40 + parseInt(this.content) * 2) + 'px;',\n          'height: ' + (40 + parseInt(this.content) * 2) + 'px;',\n          'line-height: ' + (40 + parseInt(this.content) * 2) + 'px;',\n        ].join(' ');\n\n        // 监听点击事件，实现zoomOnClick\n        this.onClick = this.onClick.bind(this);\n        // pc端注册click事件，移动端注册touchend事件\n        dom.addEventListener('click', this.onClick);\n        return dom;\n      };\n\n      ClusterBubble.prototype.updateDOM = function () {\n        if (!this.map) {\n          return;\n        }\n        // 经纬度坐标转容器像素坐标\n        let pixel = this.map.projectToContainer(this.position);\n\n        // 使文本框中心点对齐经纬度坐标点\n        let left = pixel.getX() - this.dom.clientWidth / 2 + 'px';\n        let top = pixel.getY() - this.dom.clientHeight / 2 + 'px';\n        this.dom.style.transform = `translate(${left}, ${top})`;\n\n        this.emit('dom_updated');\n      };\n\n      window.ClusterBubble = ClusterBubble;\n    }\n  }\n}\n</script>\n\n<style>\n.clusterBubble {\n  border-radius: 50%;\n  color: #fff;\n  font-weight: 500;\n  text-align: center;\n  opacity: 0.88;\n  background-image: linear-gradient(139deg, #4294FF 0%, #295BFF 100%);\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.20);\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6f0222e4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}